<?xml version="1.0" encoding="UTF-8"?>
<!--For PDF version (standard)-->
<!-- <?xml-stylesheet href="docbook/xsl/fo/docbook.xsl" type="text/xsl" ?>-->
<!--For PDF version-->
<!-- <?xml-stylesheet href="ONVIF-stylesheets/onvif-specification-fo-us.xsl" type="text/xsl" ?>-->
<!--For online version-->
<?xml-stylesheet href="docbook-css/docbook.xsl" type="text/xsl" ?>
<!--For PDF version - New ONVIF-->
<!--<?xml-stylesheet href="../ONVIFNew-stylesheets/onvif-specification-fo-us.xsl" type="text/xsl" ?>-->
<book xmlns="http://docbook.org/ns/docbook"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        xmlns:xhtml="http://www.w3.org/1999/xhtml"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:xml="http://www.w3.org/XML/1998/namespace"
        xsi:schemaLocation="http://docbook.org/ns/docbook http://docbook.org/xml/5.0/xsd/docbook.xsd"
        version="0.1"
        xml:id="ONVIF_Media_Config_Device_TS">
    <info>
        <orgname>
            <phrase>
                <trademark class="registered">ONVIF</trademark>
            </phrase>
        </orgname>
        <title>Media Configuration Device Test Specification</title>
        <titleabbrev>Media Configuration Device Test Spec</titleabbrev>
        <subtitle>Version 20.12</subtitle>
        <date>December 2020</date>
        <copyright>
            <year>2020</year>
            <holder>ONVIF, Inc. All rights reserved.</holder>
        </copyright>
        <address>
            <uri>www.onvif.org</uri>
        </address>
        <legalnotice role="notices">
            <para>
                Recipients of this document may copy, distribute, publish, or display this
                document so long as this copyright notice, license and disclaimer are retained with
                all copies of the document. No license is granted to modify this document.
            </para>
            <para>
                THIS DOCUMENT IS PROVIDED "AS IS," AND THE CORPORATION AND ITS MEMBERS AND THEIR
                AFFILIATES, MAKE NO REPRESENTATIONS OR WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT
                NOT LIMITED TO, WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE,
                NON-INFRINGEMENT, OR TITLE; THAT THE CONTENTS OF THIS DOCUMENT ARE SUITABLE FOR ANY
                PURPOSE; OR THAT THE IMPLEMENTATION OF SUCH CONTENTS WILL NOT INFRINGE ANY PATENTS,
                COPYRIGHTS, TRADEMARKS OR OTHER RIGHTS.
            </para>
            <para>
                IN NO EVENT WILL THE CORPORATION OR ITS MEMBERS OR THEIR AFFILIATES BE LIABLE FOR
                ANY DIRECT, INDIRECT, SPECIAL, INCIDENTAL, PUNITIVE OR CONSEQUENTIAL DAMAGES,
                ARISING OUT OF OR RELATING TO ANY USE OR DISTRIBUTION OF THIS DOCUMENT, WHETHER OR
                NOT (1) THE CORPORATION, MEMBERS OR THEIR AFFILIATES HAVE BEEN ADVISED OF THE
                POSSIBILITY OF SUCH DAMAGES, OR (2) SUCH DAMAGES WERE REASONABLY FORESEEABLE, AND
                ARISING OUT OF OR RELATING TO ANY USE OR DISTRIBUTION OF THIS DOCUMENT. THE
                FOREGOING DISCLAIMER AND LIMITATION ON LIABILITY DO NOT APPLY TO, INVALIDATE, OR
                LIMIT REPRESENTATIONS AND WARRANTIES MADE BY THE MEMBERS AND THEIR RESPECTIVE
                AFFILIATES TO THE CORPORATION AND OTHER MEMBERS IN CERTAIN WRITTEN POLICIES OF THE
                CORPORATION.
            </para>
        </legalnotice>
        <revhistory>

            <revision>
                <revnumber>1.02.4</revnumber>
                <date>29th/Jul, 2011</date>
                <revdescription>
                    <para>
                        First issue of Media Test Specification
                    </para>
                </revdescription>
            </revision>
            <revision>
                <revnumber>11.12</revnumber>
                <date>22nd/Dec, 2011</date>
                <revdescription>
                    <para>
                        New version numbering scheme has been applied.
                    </para> 
                    <para>
                        Requirement level terms have been removed.
                    </para>
                    <para>
                        Audio outputs configuration test cases have been added.
                    </para>
                    <para>
                        Audio &amp; Video Multicast streaming test cases have been added.
                    </para>
                    <para>
                        Start &amp; Stop Multicast Streaming test case has been added.
                    </para>
                </revdescription>
            </revision>
            <revision>
                <revnumber>12.06</revnumber>
                <date>6th/Jun, 2012</date>
                <revdescription>
                    <para>
                        Media Streaming IPv6 Multicast test cases have been added.
                    </para>
                    <para>
                        Media Streaming with line breaks in base64 encoding test case has been added.
                    </para>
                    <para>
                        Media Service Capabilities test cases have been added.
                    </para>
                    <para>
                        Start &amp; Stop Audio Multicast Streaming test cases have been added.
                    </para>
                </revdescription>
            </revision>
            <revision>
                <revnumber>12.12</revnumber>
                <date>20th/Dec, 2012</date>
                <revdescription>
                    <para>
                        Following test cases was added:
                    </para>
                    <para>
                        GET GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES AND GET VIDEO ENCODER CONFIGURATION OPTIONS CONSISTENCY
                    </para>
                    <para>
                        VIDEO ENCODER CONFIGURATIONS – ALL SUPPORTED VIDEO ENCODINGS
                    </para>
                    <para>
                        AUDIO ENCODER CONFIGURATION OPTIONS AND AUDIO ENCODER CONFIGURATIONS CONSISTENCY (BITRATE AND SAMPLERATE)
                    </para>
                    <para>
                        SET AUDIO ENCODER CONFIGURATION
                    </para>
                    <para>
                        AUDIO ENCODER CONFIGURATION - MULTICAST PORT (IPv4)
                    </para>
                    <para>
                        AUDIO ENCODER CONFIGURATION - MULTICAST ADDRESS (IPv4)
                    </para>
                    <para>
                        VIDEO ENCODER CONFIGURATION - MULTICAST PORT (IPv4)
                    </para>
                    <para>
                        VIDEO ENCODER CONFIGURATION - MULTICAST ADDRESS (IPv4)
                    </para>
                    <para>
                        VIDEO ENCODER CONFIGURATION - MULTICAST ADDRESS AND PORT IN RTSP Setup (IPv4)
                    </para>
                    <para>
                        VIDEO ENCODER CONFIGURATION - MULTICAST ADDRESS AND PORT IN RTSP Setup (IPv6)
                    </para>
                    <para>
                        VIDEO ENCODER CONFIGURATION – JPEG RESOLUTION
                    </para>
                    <para>
                        VIDEO ENCODER CONFIGURATION – MPEG4 RESOLUTION
                    </para>
                    <para>
                        VIDEO ENCODER CONFIGURATION – H.264 RESOLUTION
                    </para>
                    <para>
                        MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/UDP)
                    </para>
                    <para>
                        MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Multicast/UDP)
                    </para>
                    <para>
                        MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/RTSP/HTTP/TCP)
                    </para>
                    <para>
                        MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP/RTSP/TCP)
                    </para>
                    <para>
                        MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (MIX OF TRANSPORT TYPES)
                    </para>
                    <para>
                        AUDIO STREAMING – G.711 (RTP-Unicast/UDP)
                    </para>
                    <para>
                        AUDIO STREAMING – G.711 (RTP-Unicast/RTSP/HTTP/TCP)
                    </para>
                    <para>
                        AUDIO STREAMING – G.711 (RTP/RTSP/TCP)
                    </para>
                    <para>
                        AUDIO STREAMING – G.726 (RTP-Unicast/UDP)
                    </para>
                    <para>
                        AUDIO STREAMING – G.726 (RTP-Unicast/RTSP/HTTP/TCP)
                    </para>
                    <para>
                        AUDIO STREAMING – G.726 (RTP/RTSP/TCP)
                    </para>
                    <para>
                        AUDIO STREAMING – AAC (RTP-Unicast/UDP)
                    </para>
                    <para>
                        AUDIO STREAMING – AAC (RTP-Unicast/RTSP/HTTP/TCP)
                    </para>
                    <para>
                        AUDIO STREAMING – AAC (RTP/RTSP/TCP)
                    </para>
                    <para>
                        MEDIA STREAMING – G.711 (RTP-Multicast/UDP, IPv4)
                    </para>
                    <para>
                        MEDIA STREAMING – G.711 (RTP-Multicast/UDP, IPv6)
                    </para>
                    <para>
                        MEDIA STREAMING – G.726 (RTP-Multicast/UDP, IPv4)
                    </para>
                    <para>
                        MEDIA STREAMING – G.726 (RTP-Multicast/UDP, IPv6)
                    </para>
                    <para>
                        MEDIA STREAMING – AAC (RTP-Multicast/UDP, IPv4)
                    </para>
                    <para>
                        MEDIA STREAMING – AAC (RTP-Multicast/UDP, IPv6)
                    </para>
                    <para>
                        START AND STOP MULTICAST STREAMING – G.711 (IPv4, ONLY AUDIO PROFILE)
                    </para>
                    <para>
                        START AND STOP MULTICAST STREAMING – G726 (IPv4, ONLY AUDIO PROFILE)
                    </para>
                    <para>
                        START AND STOP MULTICAST STREAMING – AAC (IPv4, ONLY AUDIO PROFILE)
                    </para>
                    <para>
                        VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS
                    </para>
                    <para>
                        VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT ADDRESS
                    </para>
                    <para>
                        MEDIA STREAMING – JPEG (VALIDATING RTP HEADER EXTENSION)
                    </para>
                </revdescription>
            </revision>
            <revision>
                <revnumber>13.06</revnumber>
                <date>June, 2013</date>
                <revdescription>
                    <para>
                        Real Time Streaming Test Cases section and related parts was moved to separate document Real Time Streaming Test Specification.
                    </para>
                    <para>
                        Current document name was changed from Media Test Specification to Media Configuration Test Specification.
                    </para>
                    <para>
                        The following test cases were added or updated with ID change:
                    </para>
                    <para>
                        GET GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES AND GET VIDEO ENCODER CONFIGURATION OPTIONS CONSISTENCY
                    </para>
                    <para>
                        VIDEO ENCODER CONFIGURATIONS – ALL SUPPORTED VIDEO ENCODINGS
                    </para>
                    <para>
                        DYNAMIC MEDIA PROFILE CONFIGURATION
                    </para>
                    <para>
                        VIDEO SOURCE CONFIGURATION
                    </para>
                    <para>
                        JPEG VIDEO ENCODER CONFIGURATION
                    </para>
                    <para>
                        MPEG4 VIDEO ENCODER CONFIGURATION
                    </para>
                    <para>
                        H.264 VIDEO ENCODER CONFIGURATION
                    </para>
                    <para>
                        VIDEO SOURCE CONFIGURATION USE COUNT (ADD SAME VIDEO SOURCE CONFIGURATION TO PROFILE TWICE)
                    </para>
                    <para>
                        VIDEO SOURCE CONFIGURATION USE COUNT (ADD DIFFERENT VIDEO SOURCE CONFIGURATIONS IN PROFILE)
                    </para>
                    <para>
                        VIDEO SOURCE CONFIGURATION USE COUNT (REMOVE VIDEO SOURCE CONFIGURATION)
                    </para>
                    <para>
                        VIDEO SOURCE CONFIGURATION USE COUNT (DELETION PROFILE WITH VIDEO SOURCE CONFIGURATION)
                    </para>
                    <para>
                        VIDEO SOURCE CONFIGURATION USE COUNT (SET VIDEO SOURCE CONFIGURATION)
                    </para>
                    <para>
                        VIDEO ENCODER CONFIGURATION USE COUNT (ADD SAME VIDEO ENCODER CONFIGURATION TO PROFILE TWICE)
                    </para>
                    <para>
                        VIDEO ENCODER CONFIGURATION USE COUNT (ADD DIFFERENT VIDEO ENCODER CONFIGURATIONS IN PROFILE)
                    </para>
                    <para>
                        VIDEO ENCODER CONFIGURATION USE COUNT (REMOVE VIDEO ENCODER CONFIGURATION)
                    </para>
                    <para>
                        VIDEO ENCODER CONFIGURATION USE COUNT (PROFILE DELETION WITH VIDEO ENCODER CONFIGURATION)
                    </para>
                    <para>
                        VIDEO ENCODER CONFIGURATION USE COUNT (SET VIDEO ENCODER CONFIGURATION)
                    </para>
                    <para>
                        VIDEO ENCODER CONFIGURATIONS – ALL SUPPORTED VIDEO ENCODINGS (ALL VIDEO ENCODER CONFIGURATIONS)
                    </para>
                    <para>
                        AUDIO SOURCE CONFIGURATION
                    </para>
                    <para>
                        AUDIO ENCODER CONFIGURATION
                    </para>
                    <para>
                        G.711 AUDIO ENCODER CONFIGURATION
                    </para>
                    <para>
                        G.726 AUDIO ENCODER CONFIGURATION
                    </para>
                    <para>
                        AAC AUDIO ENCODER CONFIGURATION
                    </para>
                    <para>
                        GET AUDIO SOURCE CONFIGURATION – INVALID CONFIGURATIONTOKEN
                    </para>
                    <para>
                        GET AUDIO SOURCE CONFIGURATION OPTIONS – INVALID PROFILETOKEN
                    </para>
                    <para>
                        GET AUDIO SOURCE CONFIGURATION OPTIONS – INVALID CONFIGURATION TOKEN
                    </para>
                    <para>
                        SET AUDIO SOURCE CONFIGURATION – INVALID TOKEN
                    </para>
                    <para>
                        SET AUDIO ENCODER CONFIGURATION
                    </para>
                    <para>
                        AUDIO SOURCE CONFIGURATION USE COUNT (ADD SAME AUDIO SOURCE CONFIGURATION TO PROFILE TWICE)
                    </para>
                    <para>
                        AUDIO SOURCE CONFIGURATION USE COUNT (ADD DIFFERENT AUDIO SOURCE CONFIGURATIONS IN PROFILE)
                    </para>
                    <para>
                        AUDIO SOURCE CONFIGURATION USE COUNT (REMOVE AUDIO SOURCE CONFIGURATION)
                    </para>
                    <para>
                        AUDIO SOURCE CONFIGURATION USE COUNT (PROFILE DELETION WITH AUDIO SOURCE CONFIGURATION)
                    </para>
                    <para>
                        AUDIO SOURCE CONFIGURATION USE COUNT (SET AUDIO SOURCE CONFIGURATION)
                    </para>
                    <para>
                        AUDIO ENCODER CONFIGURATION USE COUNT (ADD SAME AUDIO ENCODER CONFIGURATION TO PROFILE TWICE)
                    </para>
                    <para>
                        AUDIO ENCODER CONFIGURATION USE COUNT (ADD DIFFERENT AUDIO ENCODER CONFIGURATIONS IN PROFILE)
                    </para>
                    <para>
                        AUDIO ENCODER CONFIGURATION USE COUNT (REMOVE AUDIO ENCODER CONFIGURATION)
                    </para>
                    <para>
                        AUDIO ENCODER CONFIGURATION USE COUNT (DELETION PROFILE WITH AUDIO ENCODER CONFIGURATION)
                    </para>
                    <para>
                        AUDIO ENCODER CONFIGURATION USE COUNT (SET AUDIO ENCODER CONFIGURATION)
                    </para>
                    <para>
                        SET AUDIO OUTPUT CONFIGURATION
                    </para>
                    <para>
                        SET AUDIO OUTPUT CONFIGURATION – INVALID CONFIGURATION
                    </para>
                    <para>
                        SET AUDIO OUTPUT CONFIGURATION – INVALID OUTPUTTOKEN
                    </para>
                    <para>
                        PTZ CONFIGURATION
                    </para>
                    <para>
                        METADATA CONFIGURATION
                    </para>
                    <para>
                        SOAP FAULT MESSAGE
                    </para>
                    <para>
                        START MULTICAST - INVALID PROFILE TOKEN
                    </para>
                    <para>
                        The following Annexes were added or updated:
                    </para>
                    <para>
                        Annex A.3 Create Empty Profile
                    </para>
                    <para>
                        Annex A.4 Get Guaranteed Number of Video Encoder Instances and Get Video Encoder Configuration Options Consistency Verification Description
                    </para>
                </revdescription>
            </revision>
            <revision>
                <revnumber>13.12</revnumber>
                <date>December, 2013</date>
                <revdescription>
                    <para>
                        Pre-requisites were updated for the following test cases:
                    </para>
                    <para>
                        SOAP FAULT MESSAGE
                    </para>
                    <para>
                        SOAP FAULT MESSAGE
                    </para>
                    <para>
                        START MULTICAST - INVALID PROFILE TOKEN
                    </para>
                </revdescription>
            </revision>
            <revision>
                <revnumber>14.12</revnumber>
                <date>Decemeber, 2014</date>
                <revdescription>
                    <para>
                        The following test cases were updated with ID change:
                    </para>
                    <para>
                        SET AUDIO OUTPUT CONFIGURATION – INVALID CONFIGURATION
                    </para>
                    <para>
                        DYNAMIC MEDIA PROFILE CONFIGURATION
                    </para>
                    <para>
                        AUDIO SOURCE CONFIGURATION
                    </para>
                    <para>
                        AUDIO ENCODER CONFIGURATION
                    </para>
                    <para>
                        PTZ CONFIGURATION
                    </para>
                    <para>
                        METADATA CONFIGURATION
                    </para>
                </revdescription>
            </revision>
            <revision>
                <revnumber>15.06</revnumber>
                <date>July, 2015</date>
                <revdescription>
                    <para>
                        The following test cases were added:
                    </para>
                    <para>
                        GET AUDIO OUTPUT CONFIGURATION OPTIONS
                    </para>
                    <para>
                        AUDIO OUTPUT CONFIGURATION
                    </para>
                    <para>
                        AUDIO DECODER CONFIGURATION
                    </para>
                    <para>
                        PROFILES AND AUDIO OUTPUT CONFIGURATIONS CONSISTENCY
                    </para>
                    <para>
                        AUDIO OUTPUT CONFIGURATIONS AND AUDIO OUTPUT CONFIGURATION CONSISTENCY
                    </para>
                    <para>
                        AUDIO OUTPUT CONFIGURATIONS AND AUDIO OUTPUT CONFIGURATION OPTIONS  CONSISTENCY
                    </para>
                    <para>
                        PROFILES AND AUDIO OUTPUT CONFIGURATION OPTIONS CONSISTENCY
                    </para>
                    <para>
                        AUDIO OUTPUT CONFIGURATIONS AND AUDIO OUTPUTS CONSISTENCY
                    </para>
                    <para>
                        PROFILES AND AUDIO DECODER CONFIGURATIONS CONSISTENCY
                    </para>
                    <para>
                        AUDIO DECODER CONFIGURATIONS AND AUDIO DECODER CONFIGURATION CONSISTENCY
                    </para>
                </revdescription>
            </revision>
            <revision>
                <revnumber>18.06</revnumber>
                <date>June, 2018</date>
                <revdescription>
                    <para>
                        Reformatting document using new template
                    </para>
                </revdescription>
            </revision>
            <revision>
                <revnumber>19.06</revnumber>
                <date>Mar, 2018</date>
                <revdescription>
                    <para>
                        The following test case was updated according to #1623:
                    </para>
                    <para>
                        DYNAMIC MEDIA PROFILE CONFIGURATION
                    </para>
                </revdescription>
            </revision>
            <revision>
                <revnumber>19.06</revnumber>
                <date>Apr, 2018</date>
                <revdescription>
                    <para>
                        The following test case was removed according to #1826:
                    </para>
                    <para>
                        MEDIA-4-1-4 PTZ CONFIGURATION
                    </para>
                </revdescription>
            </revision>
            <revision>
                <revnumber>19.12</revnumber>
                <date>Aug 12, 2019</date>
                <revdescription>
                    <para>
                        The following test case was updated according to #1888:
                    </para>
                    <para>
                        MEDIA-3-1-7 GET AUDIO SOURCE CONFIGURATION OPTIONS (GetAudioSourceConfigurations replaced with GetCompatibleAudioSourceConfigurations)
                    </para>
                </revdescription>
            </revision>
            <revision>
                <revnumber>19.12</revnumber>
                <date>Aug 03, 2019</date>
                <revdescription>
                    <para>
                        The following test case was updated according to #1663:
                    </para>
                    <para>
                        MEDIA-1-1-5 DYNAMIC MEDIA PROFILE CONFIGURATION (step 11.24 and steps 11.24.* were updated to try to find PTZ configuration compatible with video source configuration if GetCompatibleConfigurations is not supported)
                    </para>
                </revdescription>
            </revision>
            <revision>
                <revnumber>20.12</revnumber>
                <date>Aug 03, 2020</date>
                <revdescription>
                    <para>
                        The following test case was updated according to #2071:
                    </para>
                    <para>
                        MEDIA-3-4-8 GET AUDIO OUTPUT CONFIGURATION OPTIONS (steps 3-5 were replaced with Annex A.6, for steps 6-7 GetAudioOutputConfigurations was replaced with GetCompatibleAudioOutputConfigurations, step 9 was updated to use Annex A.6 result as profileToken, restoring procedure after Annex A.6 was added)
                    </para>
                </revdescription>
            </revision>
            <revision>
                <revnumber>20.12</revnumber>
                <date>Aug 03, 2020</date>
                <revdescription>
                    <para>
                        Test Sequences were removed as deprecated.
                    </para>
                </revdescription>
            </revision>

        </revhistory>
    </info>
    <chapter xml:id="s.intro">
        <title>Introduction</title>
        <para>
            The goal of the ONVIF test specification set is to make it possible to realize fully interoperable IP physical security implementation from different vendors. The set of ONVIF test specification describes the test cases need to verify the [ONVIF Network Interface Specs] and [ONVIF Conformance] requirements. And also the test cases are to be basic inputs for some Profile specification requirements. It also describes the test framework, test setup, pre-requisites, test policies needed for the execution of the described test cases.
        </para>
        <para>
            This ONVIF Media Test Specification acts as a supplementary document to the [ONVIF Network Interface Specs], illustrating test cases need to be executed and passed. And also this specification acts as an input document to the development of test tool which will be used to test the ONVIF device implementation conformance towards ONVIF standard. This test tool is referred as ONVIF Client hereafter.
        </para>
        <section xml:id="s.intro.scope">
            <title>Scope</title>
            <para>
                This ONVIF Media Test Specification defines and regulates the conformance testing procedure for the ONVIF conformant devices. Conformance testing is meant to be functional black-box testing. The objective of this specification to provide test cases to test individual requirements of ONVIF devices according to ONVIF Media Service which is defined in [ONVIF Network Interface Specs].
            </para>
            <para>
                The principal intended purposes are:<itemizedlist>
                    <listitem>
                        <para>Provide self-assessment tool for implementations.</para>
                    </listitem>
                    <listitem>
                        <para>
                            Provide comprehensive test suite coverage for [ONVIF Network Interface Specs].
                        </para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                This specification <emphasis role="bold">does not</emphasis> address the following:
                <itemizedlist>
                    <listitem>
                        <para>
                            Product use cases and non-functional (performance and regression) testing.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            SOAP Implementation Interoperability test i.e. Web Service Interoperability Basic Profile version 2.0 (WS-I BP 2.0).
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            Network protocol implementation Conformance test for HTTP, HTTPS, RTP and RTSP protocol.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            Poor streaming performance test (audio/video distortions, missing audio/video frames, incorrect
                            lib synchronization etc.).
                        </para>
                        <para>
                            Wi-Fi Conformance test
                        </para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                The set of ONVIF Test Specification will not cover the complete set of requirements as defined in [ONVIF Network Interface Specs]; instead it would cover subset of it. The scope of this specification is to derive all the normative requirements of [ONVIF Network Interface Specs] which are related to ONVIF Media Service and some of the optional requirements.
            </para>
            <para>
                This ONVIF Media Test Specification covers ONVIF Media service which is a functional block of [ONVIF Network Interface Specs]. The following sections describe the brief overview of and scope of each functional block.
            </para>
        </section>
        <section xml:id="s.intro.media_configuration">
            <title>Media Configuration</title>
            <para>
                Media Configuration section covers the test cases needed for the verification of media service features as mentioned in [ONVIF Network Interface Specs]. Media service is used to configure the media and other real time streaming configurations.
            </para>
            <para>
                Briefly it covers the following things
                <orderedlist>
                    <?dbfo label-width="1.5em"?>
                    <listitem>
                        <para>
                            Manage media profiles.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            Manage configuration entities.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            Initiate and manipulate Audio/Video streams for different media formats.
                        </para>
                    </listitem>
                </orderedlist>
            </para>
            <para>
                The scope of this specification is to cover following configuration entities and Audio/Video media formats.
                <orderedlist>
                    <?dbfo label-width="1.5em"?>
                    <listitem>
                        <para>
                            Configuration Entities:
                            <orderedlist numeration="loweralpha">
                                <?dbfo label-width="2.5em"?>
                                <listitem>
                                    <para>
                                        Video source configuration
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        Audio source configuration
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        Video encoder configuration
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        Audio encoder configuration
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        PTZ configuration
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        Metadata configuration
                                    </para>
                                </listitem>
                            </orderedlist>
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            Video Codec:
                            <orderedlist numeration="loweralpha">
                                <?dbfo label-width="2.5em"?>
                                <listitem>
                                    <para>
                                        JPEG QVGA
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        MPEG-4, Simple Profile
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        H.264
                                    </para>
                                </listitem>
                            </orderedlist>
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            Audio Codec:
                            <orderedlist numeration="loweralpha">
                                <?dbfo label-width="2.5em"?>
                                <listitem>
                                    <para>
                                        G.711
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        G.726
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        AAC
                                    </para>
                                </listitem>
                            </orderedlist>
                        </para>
                    </listitem>
                </orderedlist>
            </para>



        </section>
    </chapter>
    <chapter xml:id="s.docbook">
        <title>Normative references</title>
        <itemizedlist>
            <listitem>
                <para>[ONVIF Conformance] ONVIF Conformance Process Specification:</para>
                <para>
                    <link xlink:href="https://www.onvif.org/profiles/conformance/">https://www.onvif.org/profiles/conformance/</link>
                </para>
            </listitem>
            <listitem>
                <para>[ONVIF Profile Policy] ONVIF Profile Policy:</para>
                <para>
                    <link xlink:href="https://www.onvif.org/profiles/">https://www.onvif.org/profiles/</link>
                </para>
            </listitem>
            <listitem>
                <para>[ONVIF Network Interface Specs] ONVIF Network Interface Specification documents:</para>
                <para>
                    <link xlink:href="https://www.onvif.org/profiles/specifications/">https://www.onvif.org/profiles/specifications/</link>
                </para>
            </listitem>
            <listitem>
                <para>[ONVIF Core Specs] ONVIF Core Specification:</para>
                <para>
                    <link xlink:href="https://www.onvif.org/profiles/specifications/">https://www.onvif.org/profiles/specifications/</link>
                </para>
            </listitem>
            <listitem>
                <para>[ONVIF Media Spec] ONVIF Media Service Specification:</para>
                <para>
                    <link xlink:href="https://www.onvif.org/profiles/specifications/">https://www.onvif.org/profiles/specifications/</link>
                </para>
            </listitem>
            <listitem>
                <para>[ONVIF Base Test] ONVIF Base Device Test Specification:</para>
                <para>
                    <link xlink:href="https://www.onvif.org/profiles/conformance/device-test/">https://www.onvif.org/profiles/conformance/device-test/</link>
                </para>
            </listitem>
            <listitem>
                <para>[ISO/IEC Directives, Part 2] ISO/IEC Directives, Part 2, Annex H:</para>
                <para>
                    <link xlink:href="http://www.iso.org/directives">http://www.iso.org/directives</link>
                </para>
            </listitem>
            <listitem>
                <para>[ISO 16484-5] ISO 16484-5:2014-09 Annex P:</para>
                <para>
                    <link xlink:href="https://www.iso.org/obp/ui/#!iso:std:63753:en">https://www.iso.org/obp/ui/#!iso:std:63753:en</link>
                </para>
            </listitem>
            <listitem>
                <para>[SOAP 1.2, Part 1] W3C SOAP 1.2, Part 1, Messaging Framework:</para>
                <para>
                    <link xlink:href="http://www.w3.org/TR/soap12-part1/">http://www.w3.org/TR/soap12-part1/</link>
                </para>
            </listitem>
            <listitem>
                <para>[XML-Schema, Part 1] W3C XML Schema Part 1: Structures Second Edition:</para>
                <para>
                    <link xlink:href="http://www.w3.org/TR/xmlschema-1/">http://www.w3.org/TR/xmlschema-1/</link>
                </para>
            </listitem>
            <listitem>
                <para>[XML-Schema, Part 2] W3C XML Schema Part 2: Datatypes Second Edition:</para>
                <para>
                    <link xlink:href="http://www.w3.org/TR/xmlschema-2/">http://www.w3.org/TR/xmlschema-2/</link>
                </para>
            </listitem>
            <listitem>
                <para>[WS-Security] "Web Services Security: SOAP Message Security 1.1 (WS-Security 2004)", OASIS Standard, February 2006.:</para>
                <para>
                    <link xlink:href="http://www.oasis-open.org/committees/download.php/16790/wss-v1.1-spec-os-SOAPMessageSecurity.pdf">http://www.oasis-open.org/committees/download.php/16790/wss-v1.1-spec-os-SOAPMessageSecurity.pdf</link>
                </para>
            </listitem>
            <listitem>
                <para>IETF RFC 2326, Real Time Streaming Protocol (RTSP)</para>
                <para>
                    <link xlink:href="http://www.ietf.org/rfc/rfc2326.txt">http://www.ietf.org/rfc/rfc2326.txt</link>
                </para>
            </listitem>

        </itemizedlist>
    </chapter>
    <chapter xml:id="additions">
        <title>Terms and Definitions</title>
        <section xml:id="additions.conventions">
            <title>Conventions</title>
            <para>
                The key words "shall", "shall not", "should", "should not", "may", "need not",
                "can", "cannot" in this specification are to be interpreted as described in [ISO/IEC
                Directives Part 2].
            </para>
        </section>
        <section xml:id="additions.definitions">
            <title>Definitions</title>
            <para>This section defines terms that are specific to the ONVIF Media Service and tests. For a list of applicable general terms and definitions, please see [ONVIF Base Test].</para>
            <variablelist>
                <varlistentry>
                    <term>Configuration Entity</term>
                    <listitem>
                        <para>
                            A network video device media abstract component that is used to produce a media stream on the network,
                            i.e. video and/or audio stream.
                        </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>Media Profile</term>
                    <listitem>
                        <para>
                            A media profile maps a video and/or audio source to a video and/or an audio encoder, PTZ and analytics configurations.
                        </para>
                    </listitem>
                </varlistentry>
            </variablelist>
        </section>
        <section xml:id="additions.abbreviations">
            <title>Abbreviations</title>
            <para>This section describes abbreviations used in this document.</para>
            <variablelist>
                <varlistentry>
                    <term>AAC</term>
                    <listitem>
                        <para>Advanced Audio Coding.</para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>JPEG</term>
                    <listitem>
                        <para>Joint Photographic Experts Group.</para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>MPEG-4</term>
                    <listitem>
                        <para>Moving Pictures Experts Group-4.</para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>QVGA</term>
                    <listitem>
                        <para>Quarter Video Graphics Array.</para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>TTL</term>
                    <listitem>
                        <para>Time To Live.</para>
                    </listitem>
                </varlistentry>
            </variablelist>
        </section>
    </chapter>
    <chapter xml:id="overview">
        <title>Test Overview</title>
        <para>
            This section describes about the test setup and prerequisites needed,
            and the test policies that should be followed for test case execution.
        </para>
        <section xml:id="overview.test_setup">
            <title>Test Setup</title>
            <section xml:id="overview.test_setup.network_configuration">
                <title>Network Configuration for DUT</title>
                <para>
                    The generic test configuration for the execution of test cases defined in this document is as shown below (Figure 4.1).
                </para>
                <para>
                    Based on the individual test case requirements, some of the entities in the below setup may not be needed for the execution of those corresponding test cases.
                </para>
                <figure>
                    <title>Test Configuration for DUT</title>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="test_network.png"
                                    format="PNG"
                                    scalefit="0"/>
                        </imageobject>
                        <textobject>
                            <phrase>Test Configuration for DUT</phrase>
                        </textobject>
                    </mediaobject>
                </figure>
                <para>
                    <emphasis role="bold">DUT:</emphasis> ONVIF device to be tested. Hereafter, this is referred to as DUT (Device Under Test).
                </para>
                <para>
                    <emphasis role="bold">ONVIF Client (Test Tool):</emphasis> Tests are executed by this system and it controls the behavior of the DUT. It handles both expected and unexpected behavior.
                </para>
                <para>
                    <emphasis role="bold">HTTP Proxy:</emphasis> provides facilitation in case of RTP and RTSP tunneling over HTTP.
                </para>
                <para>
                    <emphasis role="bold">Wireless Access Point:</emphasis> provides wireless connectivity to the devices that support wireless connection.
                </para>
                <para>
                    <emphasis role="bold">DNS Server:</emphasis> provides DNS related information to the connected devices.
                </para>
                <para>
                    <emphasis role="bold">DHCP Server:</emphasis> provides IPv4 Address to the connected devices.
                </para>
                <para>
                    <emphasis role="bold">NTP Server:</emphasis> provides time synchronization between ONVIF Client and DUT.
                </para>
                <para>
                    <emphasis role="bold">Switching Hub:</emphasis> provides network connectivity among all the test equipments in the test environment. All devices should be connected to the Switching Hub.
                    When running multiple test instances in parallel on the same network, the Switching Hub should be configured to use filtering in order to avoid multicast traffic being flooded to all ports, because this may affect test stability.
                </para>
                <para>
                    <emphasis role="bold">Router:</emphasis> provides router advertisements for IPv6 configuration.
                </para>
            </section>
        </section>
        <section xml:id="overview.prerequisites">
            <title>Prerequisites</title>
            <para>
                The pre-requisites for executing the test cases described in this Test Specification are:
                <orderedlist>
                    <?dbfo label-width="1.5em"?>
                    <listitem>
                        <para>
                            The DUT shall be configured with an IPv4 address.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            The DUT shall be IP reachable [in the test configuration].
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            The DUT shall be able to be discovered by the Test Tool.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            The DUT shall be configured with the time i.e. manual configuration of UTC time and if NTP is supported by DUT, then NTP time shall be synchronized with NTP Server.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            The DUT time and Test tool time shall be synchronized with each other either manually or by common NTP server
                        </para>
                    </listitem>
                </orderedlist>
            </para>
        </section>
        <section xml:id="overview.test_policy">
            <title>Test Policy</title>
            <para>
                This section describes the test policies specific to the test case execution of each functional block.
            </para>
            <para>
                The DUT shall adhere to the test policies defined in this section.
            </para>
            <section xml:id="overview.test_policy.media_configuration">
                <title>Media Configuration</title>
                <para>
                    Prior to the execution of Media Configuration test cases, DUT shall be discovered by ONVIF Client and it shall demonstrate media capabilities to ONVIF Client using device management service.
                </para>
                <para>
                    DUT shall support at least one media profile with Video Configuration. Video Configuration shall include video source and video encoder media entities.
                </para>
                <para>
                    DUT shall support JPEG QVGA encoding.
                </para>
                <para>
                    ONVIF Client shall explicitly specify the optional media formats supported by DUT.
                </para>
                <para>
                    ONVIF Client shall explicitly specify if the DUT supports Audio and PTZ.
                </para>
                <para>
                    DUT shall allow for creation of at least one media profile by ONVIF Client. In certain test cases, ONVIF Client may create new media configuration (i.e. media profile and media entities). In such cases, the test procedure will delete those modified configuration at the end of the test procedure.
                </para>
                <para>
                    DUT should respond with proper response message for all SOAP actions. Sending fault messages such as "ter:ConfigurationConflict" will be treated as FAILURE of the test cases.
                </para>
                <para>
                    Please refer to <xref linkend="tc.media_configuration"/> for Media Configuration Test Cases.
                </para>

            </section>
        </section>
    </chapter>


    <!--Media Configuration Test Cases-->
    <chapter xml:id="tc.media_configuration" xreflabel="Section 5">
        <title>Media Configuration Test Cases</title>

        <!--Media Profile-->
        <section xml:id="tc.media_configuration.media_profile">
            <title>Media Profile</title>

            <section xml:id="tc.MEDIA-1-1-1">
                <title>MEDIA PROFILE CONFIGURATION
                </title>
                <para>
                    <emphasis role="bold">Test Case ID:</emphasis> MEDIA-1-1-1
                </para>
                <para>
                    <emphasis role="bold">Specification Coverage:</emphasis> Get media profiles
                </para>
                <para>
                    <emphasis role="bold">Feature Under Test:</emphasis> GetProfiles
                </para>
                <para>
                    <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                </para>
                <para>
                    <emphasis role="bold">Test Purpose:</emphasis> To retrieve existing media profiles of DUT and the corresponding media entities (video source and video encoder).
                </para>
                <para>
                    <emphasis role="bold">Pre-Requisite:</emphasis> None
                </para>
                <para>
                    <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                </para>
                <para>
                    <emphasis role="bold">Test Procedure:</emphasis>
                </para>
                <para>
                    <orderedlist>
                        <?dbfo label-width="1.5em"?>
                        <listitem>
                            <para>
                                Start an ONVIF Client.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Start the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client will invoke <emphasis role="bold">GetProfilesRequest</emphasis> message to retrieve existing media profiles of the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Verify that the DUT returns at least one media profile with video configuration (video source and video encoder) in the <emphasis role="bold">GetProfilesResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Verify that all media profile elements have ‘fixed’ attribute.
                            </para>
                        </listitem>
                    </orderedlist>
                </para>
                <para>
                    <emphasis role="bold">Test Result:</emphasis>
                </para>
                <para>
                    <emphasis role="bold">PASS –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT passes all assertions.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">FAIL –</emphasis>
                    <itemizedlist>

                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">GetProfilesResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT has no default media profile configuration.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not provide at least one media profile with video source and video encoder configurations.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                One or more media profiles do not have ‘fixed’ attribute.
                            </para>
                        </listitem>

                    </itemizedlist>
                </para>
            </section>
            <section xml:id="tc.MEDIA-1-1-3">
                <title>PROFILES CONSISTENCY
                </title>
                <para>
                    <emphasis role="bold">Test Case ID:</emphasis> MEDIA-1-1-3
                </para>
                <para>
                    <emphasis role="bold">Specification Coverage:</emphasis> Get media profiles, Get media profile
                </para>
                <para>
                    <emphasis role="bold">Feature Under Test:</emphasis> GetProfiles, GetProfile
                </para>
                <para>
                    <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                </para>
                <para>
                    <emphasis role="bold">Test Purpose:</emphasis> To check that GetProfile command and GetProfiles command are consistent.
                </para>
                <para>
                    <emphasis role="bold">Pre-Requisite:</emphasis> ONVIF Client gets the Media Service entry point by GetCapabilities command.
                </para>
                <para>
                    <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                </para>
                <para>
                    <emphasis role="bold">Test Procedure:</emphasis>
                </para>
                <para>
                    <orderedlist>
                        <?dbfo label-width="1.5em"?>
                        <listitem>
                            <para>
                                Start an ONVIF Client.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Start the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetProfilesRequest</emphasis> message to retrieve list of profiles and their Configurations
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT sends <emphasis role="bold">GetProfilesResponse</emphasis> message. 
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Check that each Profile from <emphasis role="bold">GetProfilesResponse</emphasis> message has unique token.
                            </para>
                        </listitem>
                        <listitem xml:id="tc.MEDIA-1-1-3.6">
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetProfileRequest</emphasis> (<emphasis role="italic">ProfileToken</emphasis>) message to retrieve profile from device.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT sends <emphasis role="bold">GetProfileResponse</emphasis> message. 
                            </para>
                        </listitem>
                        <listitem xml:id="tc.MEDIA-1-1-3.8">
                            <para>
                                Verify that all parameters and their values for the same profile from <emphasis role="bold">GetProfilesResponse</emphasis> message and <emphasis role="bold">GetProfileResponse</emphasis> message are same. 
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Repeat steps <xref linkend="tc.MEDIA-1-1-3.6"/>-<xref linkend="tc.MEDIA-1-1-3.8"/> for other profiles from the <emphasis role="bold">GetProfilesResponse</emphasis> message.
                            </para>
                        </listitem>
                    </orderedlist>
                </para>
                <para>
                    <emphasis role="bold">Test Result:</emphasis>
                </para>
                <para>
                    <emphasis role="bold">PASS –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT passes all assertions.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">FAIL –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">GetProfilesResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send valid <emphasis role="bold">GetProfilesResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT return two or more Profiles in <emphasis role="bold">GetProfilesResponse</emphasis> message with the same <emphasis role="italic">ProfileToken</emphasis>.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">GetProfileResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send valid <emphasis role="bold">GetProfileResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send equal parameters in the <emphasis role="bold">GetProfileResponse</emphasis> message and in the <emphasis role="bold">GetProfilesResponse</emphasis> message for the same profile.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
            </section>
            <section xml:id="tc.MEDIA-1-1-5">
                <title>DYNAMIC MEDIA PROFILE CONFIGURATION
                </title>
                <para>
                    <emphasis role="bold">Test Case ID:</emphasis> MEDIA-1-1-5
                </para>
                <para>
                    <emphasis role="bold">Specification Coverage:</emphasis> Create media profile, Get media profiles, Get media profile, Add video source configuration to a profile, Add video encoder configuration to a profile, Remove video source configuration from a profile, Remove video encoder configuration from a profile, Add PTZ configuration to a profile, Remove PTZ configuration from a profile, Add metadata configuration to a profile, Remove metadata configuration from a profile, Add audio source configuration to a profile, Remove audio source configuration from a profile, Add audio encoder configuration to a profile, Remove audio encoder configuration from a profile, Add audio output configuration to a profile, Remove audio output configuration from a profile, Add audio decoder configuration to a profile, Remove audio decoder configuration from a profile, Delete media profile.
                </para>
                <para>
                    <emphasis role="bold">Feature Under Test:</emphasis> None
                </para>
                <para>
                    <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                </para>
                <para>
                    <emphasis role="bold">Test Purpose:</emphasis> To verify the behavior of the DUT for dynamic media profile configuration.
                </para>
                <para>
                    <emphasis role="bold">Pre-Requisite:</emphasis> None
                </para>
                <para>
                    <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                </para>
                <para>
                    <emphasis role="bold">Test Procedure:</emphasis>
                </para>
                <para>
                    <orderedlist>
                        <?dbfo label-width="1.5em"?>
                        <listitem>
                            <para>
                                Start an ONVIF Client.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Start the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetProfiles</emphasis> request
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT responds with <emphasis role="bold">GetProfilesResponse</emphasis> message with parameters
                                <itemizedlist>
                                    <listitem>
                                        <para>
                                            Profiles list =: <emphasis role="italic">profileList</emphasis>
                                        </para>
                                    </listitem>
                                </itemizedlist>
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                If <emphasis role="italic">profileList</emphasis> does not contain at least one media profile with video configuration (video source and video encoder), FAIL the test and skip other steps.
                            </para>
                        </listitem>
                        <listitem xml:id="tc.MEDIA-1-1-5.6">
                            <para>
                                ONVIF Client invokes <emphasis role="bold">CreateProfile</emphasis> request message to create a new empty media profile.
                            </para>
                        </listitem>
                        <listitem xml:id="tc.MEDIA-1-1-5.7">
                            <para>
                                The DUT returns an empty profile with no profile entities in the <emphasis role="bold">CreateProfileResponse</emphasis> message or SOAP 1.2 fault message (Action/MaxNVTProfiles) from the DUT. If fault was received, execute <xref linkend="Annex_HelperCreateEmptyProfile"/>.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                If <emphasis role="bold">CreateProfileResponse</emphasis> was returned and created profile has @fixed=true, FAIL the test and skip other steps.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Set <emphasis role="italic">profileToken</emphasis> := token of returned profile in steps <xref linkend="tc.MEDIA-1-1-5.6"/> or <xref linkend="tc.MEDIA-1-1-5.7"/>.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client retrieves Video Source Configurations list by following the procedure mentioned in <xref linkend="Annex_HelperGetVideoSourceConfigurationsList"/> with the following input and output parameters 
                                <itemizedlist>
                                    <listitem>
                                        <para>
                                            out <emphasis role="italic">videoSourceConfList</emphasis> - Video Source Configurations list
                                        </para>
                                    </listitem>
                                </itemizedlist>
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                For each Video Source Configuration videoSourceConfiguration in <emphasis role="italic">videoSourceConfList</emphasis> repeat the following steps:
                                <orderedlist numeration="arabic" inheritnum="inherit">
                                    <?dbfo label-width="3.0em"?>
                                    <listitem>
                                        <para>
                                            ONVIF Client invokes <emphasis role="bold">AddVideoSourceConfiguration</emphasis> request with parameters 
                                            <itemizedlist>
                                                <listitem>
                                                    <para>
                                                        ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ConfigurationToken := <emphasis role="italic">videoSourceConfiguration</emphasis>.@token
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            The DUT sends <emphasis role="bold">AddVideoSourceConfigurationResponse</emphasis> message.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            ONVIF Client invokes <emphasis role="bold">GetProfile</emphasis> request with parameters
                                            <itemizedlist>
                                                <listitem>
                                                    <para>
                                                        ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            The DUT responds with <emphasis role="bold">GetProfileResponse</emphasis> message with parameters
                                            <itemizedlist>
                                                <listitem>
                                                    <para>
                                                        Profile := <emphasis role="italic">profile1</emphasis>
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            If <emphasis role="italic">profile1</emphasis>.@token != <emphasis role="italic">profileToken</emphasis>, FAIL the test and skip other steps.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            <emphasis role="italic">profile1</emphasis>.VideoSourceConfiguration.@token != <emphasis role="italic">videoSourceConfiguration</emphasis>.@token, FAIL the test and skip other steps.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            ONVIF Client invokes <emphasis role="bold">GetCompatibleVideoEncoderConfigurations</emphasis> request with parameters
                                            <itemizedlist>
                                                <listitem>
                                                    <para>
                                                        ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            The DUT responds with compatible video encoder configurations in <emphasis role="bold">GetCompatibleVideoEncoderConfigurationsResponse</emphasis> with parameters
                                            <itemizedlist>
                                                <listitem>
                                                    <para>
                                                        Configurations list =: <emphasis role="italic">videoEncoderConfigurationList</emphasis>
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            If <emphasis role="italic">videoEncoderConfigurationList</emphasis> is empty, FAIL the test and skip other steps.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            Set <emphasis role="italic">videoEncoderConfiguration</emphasis> := <emphasis role="italic">videoEncoderConfigurationList</emphasis>.Configurations[0].
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            ONVIF Client invokes <emphasis role="bold">AddVideoEncoderConfiguration</emphasis> request with parameters 
                                            <itemizedlist>
                                                <listitem>
                                                    <para>
                                                        Profile Token := <emphasis role="italic">profileToken</emphasis> 
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ConfigurationToken := <emphasis role="italic">videoEncoderConfiguration</emphasis>.@token
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            The DUT responds with <emphasis role="bold">AddVideoEncoderConfigurationResponse</emphasis>.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            ONVIF Client invokes <emphasis role="bold">GetProfile</emphasis> request with parameters
                                            <itemizedlist>
                                                <listitem>
                                                    <para>
                                                        ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            The DUT responds with <emphasis role="bold">GetProfileResponse</emphasis> message with parameters
                                            <itemizedlist>
                                                <listitem>
                                                    <para>
                                                        Profile := <emphasis role="italic">profile1</emphasis>
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            If <emphasis role="italic">profile1</emphasis>.@token != <emphasis role="italic">profileToken</emphasis>, FAIL the test and skip other steps.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            If <emphasis role="italic">profile1</emphasis>.VideoSourceConfiguration.@token != <emphasis role="italic">videoSourceConfiguration</emphasis>.@token, FAIL the test and skip other steps.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            If <emphasis role="italic">profile1</emphasis>.VideoEncoderConfiguration.@token != <emphasis role="italic">videoEncoderConfiguration</emphasis>.@token, FAIL the test and skip other steps.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            ONVIF Client invokes <emphasis role="bold">RemoveVideoEncoderConfiguration</emphasis> request message with parameters
                                            <itemizedlist>
                                                <listitem>
                                                    <para>
                                                        ProfileToken := <emphasis role="italic">profile1</emphasis>.@token
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            The DUT responds with <emphasis role="bold">RemoveVideoEncoderConfigurationResponse</emphasis> message.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            ONVIF Client invokes <emphasis role="bold">GetProfile</emphasis> request with parameters
                                            <itemizedlist>
                                                <listitem>
                                                    <para>
                                                        ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            The DUT responds with <emphasis role="bold">GetProfileResponse</emphasis> message with parameters
                                            <itemizedlist>
                                                <listitem>
                                                    <para>
                                                        Profile := <emphasis role="italic">profile1</emphasis>
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            If <emphasis role="italic">profile1</emphasis>.@token != <emphasis role="italic">profileToken</emphasis>, FAIL the test and skip other steps.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            If <emphasis role="italic">profile1</emphasis>.VideoSourceConfiguration.@token != <emphasis role="italic">videoSourceConfiguration</emphasis>.@token, FAIL the test and skip other steps.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            If <emphasis role="italic">profile1</emphasis> contains VideoEncoderConfiguration, FAIL the test and skip other steps.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            If the DUT supports PTZ:
                                            <orderedlist numeration="arabic" inheritnum="inherit">
                                                <?dbfo label-width="4.5em"?>
                                                <listitem>
                                                    <para>
                                                        If DUT supports Get Compatible Configurations:
                                                        <orderedlist numeration="arabic" inheritnum="inherit">
                                                            <?dbfo label-width="4.5em"?>
                                                            <listitem>
                                                                <para>
                                                                    ONVIF Client invokes <emphasis role="bold">GetCompatibleConfigurations</emphasis> request with parameters
                                                                    <itemizedlist>
                                                                        <listitem>
                                                                            <para>
                                                                                ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                                                            </para>
                                                                        </listitem>
                                                                    </itemizedlist>
                                                                </para>
                                                            </listitem>
                                                            <listitem>
                                                                <para>
                                                                    The DUT responds with <emphasis role="bold">GetCompatibleConfigurationsResponse</emphasis> request with parameters 
                                                                    <itemizedlist>
                                                                        <listitem>
                                                                            <para>
                                                                                PTZConfiguration list =: <emphasis role="italic">ptzConfigurationList</emphasis>
                                                                            </para>
                                                                        </listitem>
                                                                    </itemizedlist>
                                                                </para>
                                                            </listitem>
                                                            <listitem>
                                                                <para>
                                                                    If <emphasis role="italic">ptzConfigurationList</emphasis> is empty go to step <xref linkend="tc.MEDIA-1-1-5.11.26"/>.
                                                                </para>
                                                            </listitem>
                                                            <listitem>
                                                                <para>
                                                                    Set <emphasis role="italic">ptzConfigurationToken</emphasis> := <emphasis role="italic">ptzConfigurationList</emphasis>[0].@token.
                                                                </para>
                                                            </listitem>
                                                            <listitem>
                                                                <para>
                                                                    ONVIF Client invokes <emphasis role="bold">AddPTZConfiguration</emphasis> request with parameters
                                                                    <itemizedlist>
                                                                        <listitem>
                                                                            <para>
                                                                                Profile Token := <emphasis role="italic">profileToken</emphasis> 
                                                                            </para>
                                                                        </listitem>
                                                                        <listitem>
                                                                            <para>
                                                                                ConfigurationToken := <emphasis role="italic">ptzConfigurationToken</emphasis>
                                                                            </para>
                                                                        </listitem>
                                                                    </itemizedlist>
                                                                </para>
                                                            </listitem>
                                                            <listitem>
                                                                <para>
                                                                    The DUT responds with <emphasis role="bold">AddPTZConfigurationResponse</emphasis>.
                                                                </para>
                                                            </listitem>
                                                        </orderedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        If DUT does not support Get Compatible Configurations:
                                                        <orderedlist numeration="arabic" inheritnum="inherit">
                                                            <?dbfo label-width="4.5em"?>
                                                            <listitem>
                                                                <para>
                                                                    ONVIF Client invokes <emphasis role="bold">GetConfigurations</emphasis> request 
                                                                </para>
                                                            </listitem>
                                                            <listitem>
                                                                <para>
                                                                    The DUT responds with <emphasis role="bold">GetConfigurationsResponse</emphasis> request with parameters 
                                                                    <itemizedlist>
                                                                        <listitem>
                                                                            <para>
                                                                                PTZConfiguration list =: <emphasis role="italic">ptzConfigurationList</emphasis>
                                                                            </para>
                                                                        </listitem>
                                                                    </itemizedlist>
                                                                </para>
                                                            </listitem>
                                                            <listitem>
                                                                <para>
                                                                    If <emphasis role="italic">ptzConfigurationList</emphasis> is empty go to step <xref linkend="tc.MEDIA-1-1-5.11.26"/>.
                                                                </para>
                                                            </listitem>
                                                            <listitem>
                                                                <para>
                                                                    For each PTZ Configuration <emphasis role="italic">ptzConfiguration</emphasis> in <emphasis role="italic">ptzConfigurationList</emphasis> repeat the following steps:
                                                                    <orderedlist numeration="arabic" inheritnum="inherit">
                                                                        <?dbfo label-width="5.5em"?>
                                                                        <listitem>
                                                                            <para>
                                                                                Set <emphasis role="italic">ptzConfigurationToken</emphasis> := <emphasis role="italic">ptzConfiguration</emphasis>.@token.
                                                                            </para>
                                                                        </listitem>
                                                                        <listitem>
                                                                            <para>
                                                                                ONVIF Client invokes <emphasis role="bold">AddPTZConfiguration</emphasis> request with parameters 
                                                                                <itemizedlist>
                                                                                    <listitem>
                                                                                        <para>
                                                                                            Profile Token := <emphasis role="italic">profileToken</emphasis> 
                                                                                        </para>
                                                                                    </listitem>
                                                                                    <listitem>
                                                                                        <para>
                                                                                            ConfigurationToken := <emphasis role="italic">ptzConfigurationToken</emphasis>
                                                                                        </para>
                                                                                    </listitem>
                                                                                </itemizedlist>
                                                                            </para>
                                                                        </listitem>
                                                                        <listitem>
                                                                            <para>
                                                                                The DUT responds with <emphasis role="bold">AddPTZConfigurationResponse</emphasis> or with SOAP 1.2 fault.
                                                                            </para>
                                                                        </listitem>
                                                                        <listitem>
                                                                            <para>
                                                                                If DUT responds with <emphasis role="bold">AddPTZConfigurationResponse</emphasis> go to step <link linkend="tc.MEDIA-1-1-5.11.25.3">11.25.3</link>.
                                                                            </para>
                                                                        </listitem>
                                                                    </orderedlist>
                                                                </para>
                                                            </listitem>
                                                            <listitem>
                                                                <para>
                                                                    Go to step <xref linkend="tc.MEDIA-1-1-5.11.26"/>.
                                                                </para>
                                                            </listitem>
                                                        </orderedlist>
                                                    </para>
                                                </listitem>
                                                <listitem xml:id="tc.MEDIA-1-1-5.11.25.3">
                                                    <para>
                                                        ONVIF Client invokes <emphasis role="bold">GetProfile</emphasis> request with parameters
                                                        <itemizedlist>
                                                            <listitem>
                                                                <para>
                                                                    ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                                                </para>
                                                            </listitem>
                                                        </itemizedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        The DUT responds with <emphasis role="bold">GetProfileResponse</emphasis> message with parameters
                                                        <itemizedlist>
                                                            <listitem>
                                                                <para>
                                                                    Profile := <emphasis role="italic">profile1</emphasis>
                                                                </para>
                                                            </listitem>
                                                        </itemizedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        If <emphasis role="italic">profile1</emphasis>.@token != <emphasis role="italic">profileToken</emphasis>, FAIL the test and skip other steps.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        If <emphasis role="italic">profile1</emphasis>.VideoSourceConfiguration.@token != <emphasis role="italic">videoSourceConfiguration</emphasis>.@token, FAIL the test and skip other steps.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        <emphasis role="italic">profile1</emphasis>.PTZConfiguration.@token != <emphasis role="italic">ptzConfigurationToken</emphasis>, FAIL the test and skip other steps.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ONVIF Client invokes <emphasis role="bold">RemovePTZConfiguration</emphasis> request message with parameters
                                                        <itemizedlist>
                                                            <listitem>
                                                                <para>
                                                                    ProfileToken := <emphasis role="italic">profile1</emphasis>.@token
                                                                </para>
                                                            </listitem>
                                                        </itemizedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        The DUT responds with <emphasis role="bold">RemovePTZResponse</emphasis> message.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ONVIF Client invokes <emphasis role="bold">GetProfile</emphasis> request with parameters
                                                        <itemizedlist>
                                                            <listitem>
                                                                <para>
                                                                    ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                                                </para>
                                                            </listitem>
                                                        </itemizedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        The DUT responds with <emphasis role="bold">GetProfileResponse</emphasis> message with parameters
                                                        <itemizedlist>
                                                            <listitem>
                                                                <para>
                                                                    Profile := <emphasis role="italic">profile1</emphasis>
                                                                </para>
                                                            </listitem>
                                                        </itemizedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        If <emphasis role="italic">profile1</emphasis>.@token != <emphasis role="italic">profileToken</emphasis>, FAIL the test and skip other steps.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        If <emphasis role="italic">profile1</emphasis>.VideoSourceConfiguration.@token != <emphasis role="italic">videoSourceConfiguration</emphasis>.@token, FAIL the test and skip other steps.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        If <emphasis role="italic">profile1</emphasis> contains PTZConfiguration, FAIL the test and skip other steps.
                                                    </para>
                                                </listitem>
                                            </orderedlist>
                                        </para>
                                    </listitem>
                                    <listitem xml:id="tc.MEDIA-1-1-5.11.26">
                                        <para>
                                            ONVIF Client invokes <emphasis role="bold">RemoveVideoSourceConfiguration</emphasis> request message with parameters
                                            <itemizedlist>
                                                <listitem>
                                                    <para>
                                                        ProfileToken := <emphasis role="italic">profile1</emphasis>.@token
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            The DUT responds with <emphasis role="bold">RemoveVideoSourceConfigurationResponse</emphasis> message.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            ONVIF Client invokes <emphasis role="bold">GetProfile</emphasis> request with parameters
                                            <itemizedlist>
                                                <listitem>
                                                    <para>
                                                        ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            The DUT responds with <emphasis role="bold">GetProfileResponse</emphasis> message with parameters
                                            <itemizedlist>
                                                <listitem>
                                                    <para>
                                                        Profile := <emphasis role="italic">profile1</emphasis>
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            If <emphasis role="italic">profile1</emphasis>.@token != <emphasis role="italic">profileToken</emphasis>, FAIL the test and skip other steps.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            If <emphasis role="italic">profile1</emphasis> contains VideoSourceConfiguration, FAIL the test and skip other steps.
                                        </para>
                                    </listitem>
                                </orderedlist>
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client retrieves Metadata Configurations list by following the procedure mentioned in <xref linkend="Annex_HelperGetMetadataConfigurationsList"/> with the following input and output parameters 
                                <itemizedlist>
                                    <listitem>
                                        <para>
                                            out <emphasis role="italic">metadataConfList</emphasis> - Metadata Configurations list
                                        </para>
                                    </listitem>
                                </itemizedlist>
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                For each Metadata Configuration <emphasis role="italic">metadataConfiguration</emphasis> in <emphasis role="italic">metadataConfList</emphasis> repeat the following steps:
                                <orderedlist numeration="arabic" inheritnum="inherit">
                                    <?dbfo label-width="3.0em"?>
                                    <listitem>
                                        <para>
                                            ONVIF Client invokes <emphasis role="bold">AddMetadataConfiguration</emphasis> request with parameters 
                                            <itemizedlist>
                                                <listitem>
                                                    <para>
                                                        Profile Token := <emphasis role="italic">profileToken</emphasis> 
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ConfigurationToken := <emphasis role="italic">metadataConfiguration</emphasis>.@token
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            The DUT responds with <emphasis role="bold">AddMetadataConfigurationResponse</emphasis>.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            ONVIF Client invokes <emphasis role="bold">GetProfile</emphasis> request with parameters
                                            <itemizedlist>
                                                <listitem>
                                                    <para>
                                                        ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            The DUT responds with <emphasis role="bold">GetProfileResponse</emphasis> message with parameters
                                            <itemizedlist>
                                                <listitem>
                                                    <para>
                                                        Profile := <emphasis role="italic">profile1</emphasis>
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            If <emphasis role="italic">profile1</emphasis>.@token != <emphasis role="italic">profileToken</emphasis>, FAIL the test and skip other steps.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            If <emphasis role="italic">profile1</emphasis>.MetadataConfiguration.@token != <emphasis role="italic">metadataConfiguration</emphasis>.@token, FAIL the test and skip other steps.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            ONVIF Client invokes <emphasis role="bold">RemoveMetadataConfiguration</emphasis> request message with parameters
                                            <itemizedlist>
                                                <listitem>
                                                    <para>
                                                        ProfileToken := <emphasis role="italic">profile1</emphasis>.@token
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            The DUT responds with <emphasis role="bold">RemoveMetadataConfigurationResponse</emphasis> message.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            ONVIF Client invokes <emphasis role="bold">GetProfile</emphasis> request with parameters
                                            <itemizedlist>
                                                <listitem>
                                                    <para>
                                                        ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            The DUT responds with <emphasis role="bold">GetProfileResponse</emphasis> message with parameters
                                            <itemizedlist>
                                                <listitem>
                                                    <para>
                                                        Profile := <emphasis role="italic">profile1</emphasis>
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            If <emphasis role="italic">profile1</emphasis>.@token != <emphasis role="italic">profileToken</emphasis>, FAIL the test and skip other steps.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            If <emphasis role="italic">profile1</emphasis> contains MetadataConfiguration, FAIL the test and skip other steps.
                                        </para>
                                    </listitem>
                                </orderedlist>
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                If the DUT supports Audio:
                                <orderedlist numeration="arabic" inheritnum="inherit">
                                    <?dbfo label-width="2.5em"?>
                                    <listitem>
                                        <para>
                                            ONVIF Client retrieves Audio Source Configurations list by following the procedure mentioned in <xref linkend="Annex_HelperGetAudioSourceConfigurationsList"/> with the following input and output parameters 
                                            <itemizedlist>
                                                <listitem>
                                                    <para>
                                                        out <emphasis role="italic">audioSourceConfList</emphasis> - Audio Source Configurations list
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            For each Audio Source Configuration <emphasis role="italic">audioSourceConfiguration</emphasis> in <emphasis role="italic">audioSourceConfList</emphasis> repeat the following steps:
                                            <orderedlist numeration="arabic" inheritnum="inherit">
                                                <?dbfo label-width="4.5em"?>
                                                <listitem>
                                                    <para>
                                                        ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfiguration</emphasis> request with parameters 
                                                        <itemizedlist>
                                                            <listitem>
                                                                <para>
                                                                    ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                                                </para>
                                                            </listitem>
                                                            <listitem>
                                                                <para>
                                                                    ConfigurationToken := <emphasis role="italic">audioSourceConfiguration</emphasis>.@token
                                                                </para>
                                                            </listitem>
                                                        </itemizedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        The DUT sends <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ONVIF Client invokes <emphasis role="bold">GetProfile</emphasis> request with parameters
                                                        <itemizedlist>
                                                            <listitem>
                                                                <para>
                                                                    ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                                                </para>
                                                            </listitem>
                                                        </itemizedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        The DUT responds with <emphasis role="bold">GetProfileResponse</emphasis> message with parameters
                                                        <itemizedlist>
                                                            <listitem>
                                                                <para>
                                                                    Profile := <emphasis role="italic">profile1</emphasis>
                                                                </para>
                                                            </listitem>
                                                        </itemizedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        If <emphasis role="italic">profile1</emphasis>.@token != <emphasis role="italic">profileToken</emphasis>, FAIL the test and skip other steps.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        <emphasis role="italic">profile1</emphasis>.AudioSourceConfiguration.@token != <emphasis role="italic">audioSourceConfiguration</emphasis>.@token, FAIL the test and skip other steps.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioEncoderConfigurations</emphasis> request with parameters
                                                        <itemizedlist>
                                                            <listitem>
                                                                <para>
                                                                    ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                                                </para>
                                                            </listitem>
                                                        </itemizedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        The DUT responds with compatible audio encoder configurations in <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> with parameters
                                                        <itemizedlist>
                                                            <listitem>
                                                                <para>
                                                                    Configurations list =: <emphasis role="italic">audioEncoderConfigurationList</emphasis>
                                                                </para>
                                                            </listitem>
                                                        </itemizedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        If <emphasis role="italic">audioEncoderConfigurationList</emphasis> is empty, FAIL the test and skip other steps.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        Set <emphasis role="italic">audioEncoderConfiguration</emphasis> := <emphasis role="italic">audioEncoderConfigurationList</emphasis>.Configurations[0].
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfiguration</emphasis> request with parameters 
                                                        <itemizedlist>
                                                            <listitem>
                                                                <para>
                                                                    Profile Token := <emphasis role="italic">profileToken</emphasis> 
                                                                </para>
                                                            </listitem>
                                                            <listitem>
                                                                <para>
                                                                    ConfigurationToken := <emphasis role="italic">audioEncoderConfiguration</emphasis>.@token
                                                                </para>
                                                            </listitem>
                                                        </itemizedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        The DUT responds with <emphasis role="bold">AddAudioEncoderConfigurationResponse</emphasis>.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ONVIF Client invokes <emphasis role="bold">GetProfile</emphasis> request with parameters
                                                        <itemizedlist>
                                                            <listitem>
                                                                <para>
                                                                    ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                                                </para>
                                                            </listitem>
                                                        </itemizedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        The DUT responds with <emphasis role="bold">GetProfileResponse</emphasis> message with parameters
                                                        <itemizedlist>
                                                            <listitem>
                                                                <para>
                                                                    Profile := <emphasis role="italic">profile1</emphasis>
                                                                </para>
                                                            </listitem>
                                                        </itemizedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        If <emphasis role="italic">profile1</emphasis>.@token != <emphasis role="italic">profileToken</emphasis>, FAIL the test and skip other steps.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        If <emphasis role="italic">profile1</emphasis>.AudioSourceConfiguration.@token != <emphasis role="italic">audioSourceConfiguration</emphasis>.@token, FAIL the test and skip other steps.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        If <emphasis role="italic">profile1</emphasis>.AudioEncoderConfiguration.@token != <emphasis role="italic">audioEncoderConfiguration</emphasis>.@token, FAIL the test and skip other steps.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ONVIF Client invokes <emphasis role="bold">RemoveAudioEncoderConfiguration</emphasis> request message with parameters
                                                        <itemizedlist>
                                                            <listitem>
                                                                <para>
                                                                    ProfileToken := <emphasis role="italic">profile1</emphasis>.@token
                                                                </para>
                                                            </listitem>
                                                        </itemizedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        The DUT responds with <emphasis role="bold">RemoveAudioEncoderConfigurationResponse</emphasis> message.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ONVIF Client invokes <emphasis role="bold">GetProfile</emphasis> request with parameters
                                                        <itemizedlist>
                                                            <listitem>
                                                                <para>
                                                                    ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                                                </para>
                                                            </listitem>
                                                        </itemizedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        The DUT responds with <emphasis role="bold">GetProfileResponse</emphasis> message with parameters
                                                        <itemizedlist>
                                                            <listitem>
                                                                <para>
                                                                    Profile := <emphasis role="italic">profile1</emphasis>
                                                                </para>
                                                            </listitem>
                                                        </itemizedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        If <emphasis role="italic">profile1</emphasis>.@token != <emphasis role="italic">profileToken</emphasis>, FAIL the test and skip other steps.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        If <emphasis role="italic">profile1</emphasis>.AudioSourceConfiguration.@token != <emphasis role="italic">audioSourceConfiguration</emphasis>.@token, FAIL the test and skip other steps.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        If <emphasis role="italic">profile1</emphasis> contains AudioEncoderConfiguration, FAIL the test and skip other steps.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ONVIF Client invokes <emphasis role="bold">RemoveAudioSourceConfiguration</emphasis> request message with parameters
                                                        <itemizedlist>
                                                            <listitem>
                                                                <para>
                                                                    ProfileToken := <emphasis role="italic">profile1</emphasis>.@token
                                                                </para>
                                                            </listitem>
                                                        </itemizedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        The DUT responds with <emphasis role="bold">RemoveAudioSourceConfigurationResponse</emphasis> message.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ONVIF Client invokes <emphasis role="bold">GetProfile</emphasis> request with parameters
                                                        <itemizedlist>
                                                            <listitem>
                                                                <para>
                                                                    ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                                                </para>
                                                            </listitem>
                                                        </itemizedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        The DUT responds with <emphasis role="bold">GetProfileResponse</emphasis> message with parameters
                                                        <itemizedlist>
                                                            <listitem>
                                                                <para>
                                                                    Profile := <emphasis role="italic">profile1</emphasis>
                                                                </para>
                                                            </listitem>
                                                        </itemizedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        If <emphasis role="italic">profile1</emphasis>.@token != <emphasis role="italic">profileToken</emphasis>, FAIL the test and skip other steps.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        If <emphasis role="italic">profile1</emphasis> contains AudioSourceConfiguration, FAIL the test and skip other steps.
                                                    </para>
                                                </listitem>
                                            </orderedlist>
                                        </para>
                                    </listitem>
                                </orderedlist>
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                If the DUT supports Audio Output:
                                <orderedlist numeration="arabic" inheritnum="inherit">
                                    <?dbfo label-width="2.5em"?>
                                    <listitem>
                                        <para>
                                            ONVIF Client retrieves Audio Output Configurations list by following the procedure mentioned in <xref linkend="Annex_HelperGetAudioOutputConfigurationsList"/> with the following input and output parameters 
                                            <itemizedlist>
                                                <listitem>
                                                    <para>
                                                        out <emphasis role="italic">audioOutputConfList</emphasis> - Audio Output Configurations list
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            For each Audio Output Configuration <emphasis role="italic">audioOutputConfiguration</emphasis> in <emphasis role="italic">audioOutputConfList</emphasis> repeat the following steps:
                                            <orderedlist numeration="arabic" inheritnum="inherit">
                                                <?dbfo label-width="4.5em"?>
                                                <listitem>
                                                    <para>
                                                        ONVIF Client invokes <emphasis role="bold">AddAudioOutputConfiguration</emphasis> request with parameters 
                                                        <itemizedlist>
                                                            <listitem>
                                                                <para>
                                                                    ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                                                </para>
                                                            </listitem>
                                                            <listitem>
                                                                <para>
                                                                    ConfigurationToken := <emphasis role="italic">audioOutputConfiguration</emphasis>.@token
                                                                </para>
                                                            </listitem>
                                                        </itemizedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        The DUT sends <emphasis role="bold">AddAudioOutputConfigurationResponse</emphasis> message.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ONVIF Client invokes <emphasis role="bold">GetProfile</emphasis> request with parameters
                                                        <itemizedlist>
                                                            <listitem>
                                                                <para>
                                                                    ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                                                </para>
                                                            </listitem>
                                                        </itemizedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        The DUT responds with <emphasis role="bold">GetProfileResponse</emphasis> message with parameters
                                                        <itemizedlist>
                                                            <listitem>
                                                                <para>
                                                                    Profile := <emphasis role="italic">profile1</emphasis>
                                                                </para>
                                                            </listitem>
                                                        </itemizedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        If <emphasis role="italic">profile1</emphasis>.@token != <emphasis role="italic">profileToken</emphasis>, FAIL the test and skip other steps.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        <emphasis role="italic">profile1</emphasis>.AudioOutputConfiguration.@token != <emphasis role="italic">audioOutputConfiguration</emphasis>.@token, FAIL the test and skip other steps.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioDecoderConfigurations</emphasis> request with parameters
                                                        <itemizedlist>
                                                            <listitem>
                                                                <para>
                                                                    ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                                                </para>
                                                            </listitem>
                                                        </itemizedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        The DUT responds with compatible audio decoder configurations in <emphasis role="bold">GetCompatibleAudioDecoderConfigurationsResponse</emphasis> with parameters
                                                        <itemizedlist>
                                                            <listitem>
                                                                <para>
                                                                    Configurations list =: <emphasis role="italic">audioDecoderConfigurationList</emphasis>
                                                                </para>
                                                            </listitem>
                                                        </itemizedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        If <emphasis role="italic">audioDecoderConfigurationList</emphasis> is empty, FAIL the test and skip other steps.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        Set <emphasis role="italic">audioDecoderConfiguration</emphasis> := <emphasis role="italic">audioDecoderConfigurationList</emphasis>.Configurations[0].
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ONVIF Client invokes <emphasis role="bold">AddAudioDecoderConfiguration</emphasis> request with parameters 
                                                        <itemizedlist>
                                                            <listitem>
                                                                <para>
                                                                    Profile Token := <emphasis role="italic">profileToken</emphasis> 
                                                                </para>
                                                            </listitem>
                                                            <listitem>
                                                                <para>
                                                                    ConfigurationToken := <emphasis role="italic">audioDecoderConfiguration</emphasis>.@token
                                                                </para>
                                                            </listitem>
                                                        </itemizedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        The DUT responds with <emphasis role="bold">AddAudioDecoderConfigurationResponse</emphasis>.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ONVIF Client invokes <emphasis role="bold">GetProfile</emphasis> request with parameters
                                                        <itemizedlist>
                                                            <listitem>
                                                                <para>
                                                                    ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                                                </para>
                                                            </listitem>
                                                        </itemizedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        The DUT responds with <emphasis role="bold">GetProfileResponse</emphasis> message with parameters
                                                        <itemizedlist>
                                                            <listitem>
                                                                <para>
                                                                    Profile := <emphasis role="italic">profile1</emphasis>
                                                                </para>
                                                            </listitem>
                                                        </itemizedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        If <emphasis role="italic">profile1</emphasis>.@token != <emphasis role="italic">profileToken</emphasis>, FAIL the test and skip other steps.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        If <emphasis role="italic">profile1</emphasis>.AudioOutputConfiguration.@token != <emphasis role="italic">audioOutputConfiguration</emphasis>.@token, FAIL the test and skip other steps.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        If <emphasis role="italic">profile1</emphasis>.AudioDecoderConfiguration.@token != <emphasis role="italic">audioDecoderConfiguration</emphasis>.@token, FAIL the test and skip other steps.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ONVIF Client invokes <emphasis role="bold">RemoveAudioDecoderConfiguration</emphasis> request message with parameters
                                                        <itemizedlist>
                                                            <listitem>
                                                                <para>
                                                                    ProfileToken := <emphasis role="italic">profile1</emphasis>.@token
                                                                </para>
                                                            </listitem>
                                                        </itemizedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        The DUT responds with <emphasis role="bold">RemoveAudioDecoderConfigurationResponse</emphasis> message.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ONVIF Client invokes <emphasis role="bold">GetProfile</emphasis> request with parameters
                                                        <itemizedlist>
                                                            <listitem>
                                                                <para>
                                                                    ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                                                </para>
                                                            </listitem>
                                                        </itemizedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        The DUT responds with <emphasis role="bold">GetProfileResponse</emphasis> message with parameters
                                                        <itemizedlist>
                                                            <listitem>
                                                                <para>
                                                                    Profile := <emphasis role="italic">profile1</emphasis>
                                                                </para>
                                                            </listitem>
                                                        </itemizedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        If <emphasis role="italic">profile1</emphasis>.@token != <emphasis role="italic">profileToken</emphasis>, FAIL the test and skip other steps.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        If <emphasis role="italic">profile1</emphasis>.AudioOutputConfiguration.@token != <emphasis role="italic">audioOutputConfiguration</emphasis>.@token, FAIL the test and skip other steps.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        If <emphasis role="italic">profile1</emphasis> contains AudioDecoderConfiguration, FAIL the test and skip other steps.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ONVIF Client invokes <emphasis role="bold">RemoveAudioOutputConfiguration</emphasis> request message with parameters
                                                        <itemizedlist>
                                                            <listitem>
                                                                <para>
                                                                    ProfileToken := <emphasis role="italic">profile1</emphasis>.@token
                                                                </para>
                                                            </listitem>
                                                        </itemizedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        The DUT responds with <emphasis role="bold">RemoveAudioOutputConfigurationResponse</emphasis> message.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        ONVIF Client invokes <emphasis role="bold">GetProfile</emphasis> request with parameters
                                                        <itemizedlist>
                                                            <listitem>
                                                                <para>
                                                                    ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                                                </para>
                                                            </listitem>
                                                        </itemizedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        The DUT responds with <emphasis role="bold">GetProfileResponse</emphasis> message with parameters
                                                        <itemizedlist>
                                                            <listitem>
                                                                <para>
                                                                    Profile := <emphasis role="italic">profile1</emphasis>
                                                                </para>
                                                            </listitem>
                                                        </itemizedlist>
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        If <emphasis role="italic">profile1</emphasis>.@token != <emphasis role="italic">profileToken</emphasis>, FAIL the test and skip other steps.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        If <emphasis role="italic">profile1</emphasis> contains AudioOutputConfiguration, FAIL the test and skip other steps.
                                                    </para>
                                                </listitem>
                                            </orderedlist>
                                        </para>
                                    </listitem>
                                </orderedlist>
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                If profile with ProfileToken = <emphasis role="italic">profileToken</emphasis> was created during test execution
                                <orderedlist numeration="arabic" inheritnum="inherit">
                                    <?dbfo label-width="2.5em"?>
                                    <listitem>
                                        <para>
                                            ONVIF Client invokes <emphasis role="bold">DeleteProfile</emphasis> request with parameters 
                                            <itemizedlist>
                                                <listitem>
                                                    <para>
                                                        ProfileToken := <emphasis role="italic">profileToken</emphasis> 
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            The DUT responds with <emphasis role="bold">DeleteProfileResponse</emphasis> message. 
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            ONVIF Client invokes <emphasis role="bold">GetProfiles</emphasis> request with parameters 
                                            <itemizedlist>
                                                <listitem>
                                                    <para>
                                                        ProfileToken := <emphasis role="italic">profileToken</emphasis> 
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            The DUT returns <emphasis role="bold">env:Sender/ter:InvalidArgVal/ter:NoProfile</emphasis> SOAP 1.2 fault.
                                        </para>
                                    </listitem>
                                </orderedlist>
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client restores DUT configuration if requered.
                            </para>
                        </listitem>
                    </orderedlist>
                </para>
                <para>
                    <emphasis role="bold">Test Result:</emphasis>
                </para>
                <para>
                    <emphasis role="bold">PASS –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT passes all assertions.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">FAIL –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">GetProfilesResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">CreateProfileResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">GetCompatibleAudioDecoderConfigurations</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">GetCompatibleAudioEncoderConfigurations</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">GetAudioOutputConfigurations</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">GetAudioSourceConfigurations</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">GetMetadataConfigurations</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">GetCompatibleVideoEncoderConfigurations</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">GetVideoSourceConfigurations</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">GetCompatibleConfigurations</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">GetConfigurations</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">AddVideoSourceConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">AddVideoEncoderConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">AddPTZConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">AddMetadataConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">AddAudioEncoderConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">AddAudioOutputConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">AddAudioDecoderConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">GetProfileResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">RemoveVideoEncoderConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">RemoveVideoSourceConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">RemovePTZConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">RemoveMetadataConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">RemoveAudioEncoderConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">RemoveAudioSourceConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">RemoveAudioOutputConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">RemoveAudioDecoderConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">DeleteProfileResponse</emphasis> message.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">NOTE:</emphasis> See Annex in [ONVIF Base Test] for Invalid SOAP 1.2 fault message definition.
                </para>
                <para>
                    <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                </para>
            </section>

        </section>
        <!--Video Configuration-->
        <section xml:id="tc.media_configuration.video_configuration">
            <title>Video Configuration</title>

            <section xml:id="tc.MEDIA-2-1-2">
                <title>VIDEO ENCODER CONFIGURATION
                </title>
                <para>
                    <emphasis role="bold">Test Case ID:</emphasis> MEDIA-2-1-2
                </para>
                <para>
                    <emphasis role="bold">Specification Coverage:</emphasis> Get media profiles, Get video encoder configurations, Get compatible video encoder configurations
                </para>
                <para>
                    <emphasis role="bold">Feature Under Test:</emphasis> None
                </para>
                <para>
                    <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                </para>
                <para>
                    <emphasis role="bold">Test Purpose:</emphasis> To verify DUT Video Encoder Configuration Operations
                </para>
                <para>
                    <emphasis role="bold">Pre-Requisite:</emphasis> None
                </para>
                <para>
                    <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                </para>
                <para>
                    <emphasis role="bold">Test Procedure:</emphasis>
                </para>
                <para>
                    <orderedlist>
                        <?dbfo label-width="1.5em"?>
                        <listitem>
                            <para>
                                Start an ONVIF Client.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Start the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetProfiles</emphasis> Request.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT sends the list of existing media profiles in <emphasis role="bold">GetProfilesResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetCompatibleVideoEncoderConfigurations</emphasis> request with one of the received media profile tokens as input argument.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT sends the list of video encoder configurations, compatible with the received media profile token.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the list of video encoder configurations sent by DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client will invoke <emphasis role="bold">GetVideoEncoderConfigurations</emphasis> request to retrieve the list of video encoder configurations supported by the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT sends the list of all video encoder configurations supported by it.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the list of video encoder configurations sent by the DUT.
                            </para>
                        </listitem>
                    </orderedlist>
                </para>
                <para>
                    <emphasis role="bold">Test Result:</emphasis>
                </para>
                <para>
                    <emphasis role="bold">PASS –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT passes all assertions.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">FAIL –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">GetProfilesResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send valid <emphasis role="bold">GetCompatibleVideoEncoderConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send valid <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
            </section>
            <section xml:id="tc.MEDIA-2-1-6">
                <title>GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES
                </title>
                <para>
                    <emphasis role="bold">Test Case ID:</emphasis> MEDIA-2-1-6
                </para>
                <para>
                    <emphasis role="bold">Specification Coverage:</emphasis> Get video source configurations, Get guaranteed number of video encoder instances
                </para>
                <para>
                    <emphasis role="bold">Feature Under Test:</emphasis> GetGuaranteedNumberOfVideoEncoderInstances
                </para>
                <para>
                    <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                </para>
                <para>
                    <emphasis role="bold">Test Purpose:</emphasis> To retrieve minimum number of video encoder instances supported by DUT per video source configuration.
                </para>
                <para>
                    <emphasis role="bold">Pre-Requisite:</emphasis> None
                </para>
                <para>
                    <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                </para>
                <para>
                    <emphasis role="bold">Test Procedure:</emphasis>
                </para>
                <para>
                    <orderedlist>
                        <?dbfo label-width="1.5em"?>
                        <listitem>
                            <para>
                                Start an ONVIF Client.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Start the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurations</emphasis> request.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT sends the list of video source configurations supported by it.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesRequest</emphasis> message for a selected video source configuration.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT sends the minimum guaranteed number of video encoder instances.
                            </para>
                        </listitem>
                    </orderedlist>
                </para>
                <para>
                    <emphasis role="bold">Test Result:</emphasis>
                </para>
                <para>
                    <emphasis role="bold">PASS –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT passes all assertions.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">FAIL –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send ‘TotalNumber’ value.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
            </section>
            <section xml:id="tc.MEDIA-2-1-7">
                <title>GET GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES AND GET VIDEO ENCODER CONFIGURATION OPTIONS CONSISTENCY
                </title>
                <para>
                    <emphasis role="bold">Test Case ID:</emphasis> MEDIA-2-1-7
                </para>
                <para>
                    <emphasis role="bold">Specification Coverage:</emphasis> GetGuaranteedNumberOfVideoEncoderInstances (ONVIF Media Service Specification)
                </para>
                <para>
                    <emphasis role="bold">Feature Under Test:</emphasis> GetGuaranteedNumberOfVideoEncoderInstances
                </para>
                <para>
                    <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                </para>
                <para>
                    <emphasis role="bold">Test Purpose:</emphasis> To verify Get Guaranteed Number of Video Encoder Instances and Get Video Encoder Configuration Options Consistency. To verify Get Guaranteed Number of Video Encoder Instances and Get Video Encoder Configurations Consistency. To verify Get Guaranteed Number of Video Encoder Instances and MaximumNumberOfProfiles capability Consistency.
                </para>
                <para>
                    <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Media Service was received from the DUT. 
                </para>
                <para>
                    <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                </para>
                <para>
                    <emphasis role="bold">Test Procedure:</emphasis>
                </para>
                <para>
                    <orderedlist>
                        <?dbfo label-width="1.5em"?>
                        <listitem>
                            <para>
                                Start an ONVIF Client.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Start the DUT.
                            </para>
                        </listitem>
                        <listitem xml:id="tc.MEDIA-2-1-7.3">
                            <para>
                                If GetCapabilities supported by the DUT, ONVIF Client will invoke <emphasis role="bold">GetCapabilitiesRequest</emphasis> message (Category = ‘Media’) to get MaximumNumberOfProfiles capability. Otherwise skip steps <xref linkend="tc.MEDIA-2-1-7.3"/>-<xref linkend="tc.MEDIA-2-1-7.4"/> and go to the step <xref linkend="tc.MEDIA-2-1-7.5"/>.
                            </para>
                        </listitem>
                        <listitem xml:id="tc.MEDIA-2-1-7.4">
                            <para>
                                Verify the <emphasis role="bold">GetCapabilitiesResponse</emphasis> message from the DUT.
                            </para>
                        </listitem>
                        <listitem xml:id="tc.MEDIA-2-1-7.5">
                            <para>
                                If GetServices supported by the DUT, ONVIF Client will invoke <emphasis role="bold">GetServiceCapabilitiesRequest</emphasis> message to get MaximumNumberOfProfiles capability. Otherwise skip steps <xref linkend="tc.MEDIA-2-1-7.5"/>-<xref linkend="tc.MEDIA-2-1-7.6"/> and go to the step <xref linkend="tc.MEDIA-2-1-7.7"/>.
                            </para>
                        </listitem>
                        <listitem xml:id="tc.MEDIA-2-1-7.6">
                            <para>
                                Verify the <emphasis role="bold">GetServiceCapabilitiesResponse</emphasis> message from the DUT.
                            </para>
                        </listitem>
                        <listitem xml:id="tc.MEDIA-2-1-7.7">
                            <para>
                                ONVIF Client will invoke <emphasis role="bold">GetVideoEncoderConfigurationsRequest</emphasis> message to retrieve all DUT video encoder configurations.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Verify the <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message from the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client will invoke <emphasis role="bold">GetVideoSourceConfigurationsRequest</emphasis> message to retrieve all DUT video source configurations.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Verify the <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message from the DUT.
                            </para>
                        </listitem>
                        <listitem xml:id="tc.MEDIA-2-1-7.11">
                            <para>
                                ONVIF Client will invoke <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesRequest</emphasis> message (ConfigurationToken = “Token1”, where “Token1” is a first video source configuration token from <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message) to retrieve guaranteed number of video encoder instances per first video source configuration.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Verify the <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis> message from the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Verify that <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis>.TotalNumber is less or equal to total number of VideoEncoderConfigurations. 
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                If GetCapabilities is supported by the DUT, verify that <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis>.TotalNumber is less or equal to total number of GetCapabilitiesResponse.Media.Extension.ProfileCapabilities.MaximumNumberOfProfiles if specified.
                            </para>
                        </listitem>
                        <listitem xml:id="tc.MEDIA-2-1-7.15">
                            <para>
                                If GetServices is supported by the DUT, Verify that <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis>.TotalNumber is less or equal to total number of <emphasis role="bold">GetServiceCapabilitiesResponse</emphasis>.Capabilities.ProfileCapabilities.MaximumNumberOfProfiles if specified.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Repeat steps <xref linkend="tc.MEDIA-2-1-7.11"/>-<xref linkend="tc.MEDIA-2-1-7.15"/> to retrieve guaranteed number of video encoder instances for all video source configuration
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client will invoke <emphasis role="bold">GetVideoEncoderConfigurationOptionsRequest</emphasis> message (no ConfigurationToken, no ProfileToken) to retrieve general video encoder options for the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Verify the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message from the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Verify that <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> contains Options.JPEG, if there is at least one <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis> with JPEG element having value greater than 0.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Verify that <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> contains Options.MPEG4, if there is at least one <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis> with MPEG4 element having value greater than 0.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Verify that <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> contains Options.H264, if there is at least one <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis> with H264 element having value greater than 0.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Verify that <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> does not contain Options.JPEG, if there are no <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponses</emphasis> with skipped JPEG element or with JPEG element having value greater than 0 (i.e. all <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponses</emphasis> have JPEG element that is equal to 0).
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Verify that <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> does not contain Options.MPEG4, if there are no <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponses</emphasis> with skipped MPEG4 element or with MPEG4 element having value greater than 0 (i.e. all <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponses</emphasis> have MPEG4 element that is equal to 0).
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Verify that <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> does not contain Options.H264, if there are no <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponses</emphasis> with skipped H264 element or with H264 element having value greater than 0 (i.e. all <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponses</emphasis> have H264 element that is equal to 0).
                            </para>
                        </listitem>
                    </orderedlist>
                </para>
                <para>
                    <emphasis role="bold">Test Result:</emphasis>
                </para>
                <para>
                    <emphasis role="bold">PASS –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT passes all assertions.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">FAIL –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                The DUT did not send valid <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send valid <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send valid <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT returned <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> with Options.JPEG element, if there are no <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis> with skipped JPEG element or with JPEG element having value greater than 0.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT returned <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> with Options.MPEG4 element, if there are no <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis> with skipped MPEG4 element or with MPEG4 element having value greater than 0.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT returned <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> with Options.H264 element, if there are no <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis> with skipped H264 element or with H264 element having value greater than 0.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT returned <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> without Options.JPEG element, if there is at least one <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis> with JPEG element having value greater than 0.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT returned <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> without Options.MPEG4 element, if there is at least one <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis> with MPEG4 element having value greater than 0.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT returned <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> without Options.H264 element, if there is at least one <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis> with H264 element having value greater than 0.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT returned <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis>.TotalNumber greater than total number of VideoEncoderConfigurations.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT returned <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis>.TotalNumber greater than <emphasis role="bold">GetServiceCapabilitiesResponse</emphasis>.Capabilities.ProfileCapabilities.MaximumNumberOfProfiles.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT returned <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis>.TotalNumber greater than <emphasis role="bold">GetCapabilitiesResponse</emphasis>.Media.Extension.ProfileCapabilities.MaximumNumberOfProfiles.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperGetGuaranteedNumberofVideoEncoderInstances"/> for more details about test checks.

                </para>
            </section>
            <section xml:id="tc.MEDIA-2-1-8">
                <title>VIDEO SOURCE CONFIGURATION
                </title>
                <para>
                    <emphasis role="bold">Test Case ID:</emphasis> MEDIA-2-1-8
                </para>
                <para>
                    <emphasis role="bold">Specification Coverage:</emphasis> Get media profiles, GetVideoSources, Get video source configurations, Get video source configuration, Get compatible video source configurations, Get video source configuration options, Modify a video source configuration
                </para>
                <para>
                    <emphasis role="bold">Feature Under Test:</emphasis> None
                </para>
                <para>
                    <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                </para>
                <para>
                    <emphasis role="bold">Test Purpose:</emphasis> To verify DUT Video Source Configuration Operations
                </para>
                <para>
                    <emphasis role="bold">Pre-Requisite:</emphasis> None
                </para>
                <para>
                    <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                </para>
                <para>
                    <emphasis role="bold">Test Procedure:</emphasis>
                </para>
                <para>
                    <orderedlist>
                        <?dbfo label-width="1.5em"?>
                        <listitem>
                            <para>
                                Start an ONVIF Client.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Start the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetProfiles</emphasis> Request.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT sends the list of existing media profiles in <emphasis role="bold">GetProfilesResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetVideoSources</emphasis> request to retrieve the existing video sources of DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the list of video sources sent by DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetCompatibleVideoSourceConfigurations</emphasis> request with one of the received media profile tokens as input argument.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT sends the list of video source configurations compatible with the received media profile token.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the list of video source configurations sent by DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurations</emphasis> request to retrieve the list of video source configurations supported by the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the list of video source configurations sent by the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurationOptions</emphasis> request with one of the received video source configuration tokens as input argument.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client sends the range of configurable values supported by it for the received video source configuration token.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">SetVideoSourceConfiguration</emphasis> request with video source configuration values outside the range specified in the <emphasis role="bold">GetVideoSourceConfigurationOptionsResponse</emphasis> and ‘ForcePersistence’ flag as ‘FALSE’.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT send the SOAP 1.2 fault message (<emphasis role="bold">InvalidArgVal/ConfigModify</emphasis>).
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the SOAP fault message sent by DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">SetVideoSourceConfiguration</emphasis> request with video source configuration values within the range specified in <emphasis role="bold">GetVideoSourceConfigurationOptionsResponse</emphasis> and ‘ForcePersistence’ flag as ‘FALSE’.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT modifies the video source configuration and sends the <emphasis role="bold">SetVideoSourceConfigurationResponse</emphasis> indicating success.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfiguration</emphasis> request to verify the modified video source configuration.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT sends the modified video source configuration in <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis>.
                            </para>
                        </listitem>
                    </orderedlist>
                </para>
                <para>
                    <emphasis role="bold">Test Result:</emphasis>
                </para>
                <para>
                    <emphasis role="bold">PASS –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT passes all assertions.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">FAIL –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">GetProfilesResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send valid <emphasis role="bold">GetVideoSourcesResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send valid <emphasis role="bold">GetCompatibleVideoSourceConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send valid <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">GetVideoSourceConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send the SOAP 1.2 fault message (<emphasis role="bold">InvalidArgVal/ConfigModify</emphasis>) for invalid <emphasis role="bold">SetVideoSourceConfiguration</emphasis> request.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">SetVideoSourceConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not modify video source configuration correctly.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                </para>
            </section>
            <section xml:id="tc.MEDIA-2-1-9">
                <title>JPEG VIDEO ENCODER CONFIGURATION
                </title>
                <para>
                    <emphasis role="bold">Test Case ID:</emphasis> MEDIA-2-1-9
                </para>
                <para>
                    <emphasis role="bold">Specification Coverage:</emphasis> Get video encoder configurations, Get video encoder configuration, Get video encoder configuration options, Modify a video encoder configuration.
                </para>
                <para>
                    <emphasis role="bold">Feature Under Test:</emphasis> None
                </para>
                <para>
                    <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                </para>
                <para>
                    <emphasis role="bold">Test Purpose:</emphasis> To verify DUT JPEG Video Encoder Configurations Setting
                </para>
                <para>
                    <emphasis role="bold">Pre-Requisite:</emphasis> None
                </para>
                <para>
                    <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                </para>
                <para>
                    <emphasis role="bold">Test Procedure:</emphasis>
                </para>
                <para>
                    <orderedlist>
                        <?dbfo label-width="1.5em"?>
                        <listitem>
                            <para>
                                Start an ONVIF Client.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Start the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationsRequest</emphasis> to retrieve the list of video encoder configurations supported by DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT sends video encoder configurations in the <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem xml:id="tc.MEDIA-2-1-9.5">
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationOptions</emphasis> Request (Video Encoder Configuration token) to retrieve video encoder configuration options for the specified video encoder configuration.
                            </para>
                        </listitem>
                        <listitem xml:id="tc.MEDIA-2-1-9.6">
                            <para>
                                DUT sends the range of configurable values for the received video encoder configuration in the GetVideoEncoderConfigurationOptionsResponse message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Test steps <xref linkend="tc.MEDIA-2-1-9.5"/> &amp; <xref linkend="tc.MEDIA-2-1-9.6"/> have to be repeated for all video encoder configurations until ONVIF Client finds a video encoder configuration with JPEG encoding support.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfiguration</emphasis> request with JPEG Resolution value configuration values outside the range defined in the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> and ‘ForcePersistence’ flag as ‘FALSE’.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT sends the SOAP 1.2 fault message (<emphasis role="bold">InvalidArgVal/ConfigModify</emphasis>)
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the SOAP fault message sent by DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfiguration</emphasis> request (Encoding = “JPEG”, Resolution = Highest resolution based on number of pixels, Quality = QualityRange.Max, FramerateLimit = FrameRateRange.Max, BitrateLimit = “64000”, EncodingInterval = EncodingIntervalRange.Min, and force persistence = false). These values will be taken from <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT modifies JPEG video encoder configuration and responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message indicating success.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the JPEG Video Encoder Configuration settings on DUT by invoking <emphasis role="bold">GetVideoEncoderConfiguration</emphasis> request.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT sends modified JPEG Video Encoder Configuration in the <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message (Encoding = “JPEG”, Resolution = Highest resolution based on number of pixels).
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfiguration</emphasis> request (Encoding = “JPEG”, Resolution = Lowest resolution based on number of pixels, Quality = QualityRange.Min, FramerateLimit = FrameRateRange.Min, BitrateLimit = “64000”, EncodingInterval = EncodingIntervalRange.Max, and force persistence = false). These values will be taken from <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT modifies JPEG video encoder configuration and responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message indicating success.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the JPEG Video Encoder Configuration settings on DUT by invoking <emphasis role="bold">GetVideoEncoderConfiguration</emphasis> request.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT sends modified JPEG Video Encoder Configuration in the <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message (Encoding = “JPEG”, Resolution = Lowest resolution based on number of pixels).
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfiguration</emphasis> request (Encoding = “JPEG”, Resolution = Median resolution based on number of pixels, Quality = Median value of QualityRange, FramerateLimit = Median value of FrameRateRange, BitrateLimit = “64000”, EncodingInterval = Median value of EncodingIntervalRange, and force persistence = false). These values will be taken from <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT modifies JPEG video encoder configuration and responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message indicating success.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the JPEG Video Encoder Configuration settings on DUT by invoking <emphasis role="bold">GetVideoEncoderConfiguration</emphasis> request.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT sends modified JPEG Video Encoder Configuration in the <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message (Encoding = “JPEG”, Resolution = Median resolution based on number of pixels).
                            </para>
                        </listitem>
                    </orderedlist>
                </para>
                <para>
                    <emphasis role="bold">Test Result:</emphasis>
                </para>
                <para>
                    <emphasis role="bold">PASS –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT passes all assertions.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">FAIL –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT doesn’t support JPEG encoding.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send the SOAP 1.2 fault message (<emphasis role="bold">InvalidArgVal/ConfigModify</emphasis>) for invalid <emphasis role="bold">SetVideoEncoderConfiguration</emphasis> request.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not modify JPEG Video Encoder Configuration.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                </para>
            </section>
            <section xml:id="tc.MEDIA-2-1-10">
                <title>MPEG4 VIDEO ENCODER CONFIGURATION
                </title>
                <para>
                    <emphasis role="bold">Test Case ID:</emphasis> MEDIA-2-1-10
                </para>
                <para>
                    <emphasis role="bold">Specification Coverage:</emphasis> Get video encoder configurations, Get video encoder configuration, Get video encoder configuration options, Modify a video encoder configuration.
                </para>
                <para>
                    <emphasis role="bold">Feature Under Test:</emphasis> None
                </para>
                <para>
                    <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                </para>
                <para>
                    <emphasis role="bold">Test Purpose:</emphasis> To verify DUT MPEG4 Video Encoder Configurations Setting
                </para>
                <para>
                    <emphasis role="bold">Pre-Requisite:</emphasis> MPEG4 is implemented by DUT
                </para>
                <para>
                    <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                </para>
                <para>
                    <emphasis role="bold">Test Procedure:</emphasis>
                </para>
                <para>
                    <orderedlist>
                        <?dbfo label-width="1.5em"?>
                        <listitem>
                            <para>
                                Start an ONVIF Client.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Start the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationsRequest</emphasis> to retrieve the list of video encoder configurations supported by DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT sends video encoder configurations in the <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem xml:id="tc.MEDIA-2-1-10.5">
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationOptions</emphasis> Request (Video Encoder Configuration token) to retrieve video encoder configuration options for the specified video encoder configuration.
                            </para>
                        </listitem>
                        <listitem xml:id="tc.MEDIA-2-1-10.6">
                            <para>
                                DUT sends the range of configurable values for the received video encoder configuration in the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Test steps <xref linkend="tc.MEDIA-2-1-10.5"/> &amp; <xref linkend="tc.MEDIA-2-1-10.6"/> have to be repeated for all video encoder configurations until ONVIF Client finds a video encoder configuration with MPEG4 encoding support.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfiguration</emphasis> request with MPEG4 configuration values outside the range defined in the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> and ‘ForcePersistence’ flag as ‘FALSE’.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT send the SOAP 1.2 fault message (<emphasis role="bold">InvalidArgVal/ConfigModify</emphasis>)
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the SOAP fault message sent by DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Client invokes <emphasis role="bold">SetVideoEncoderConfiguration</emphasis> request (Encoding = “MPEG4”, Mpeg4Profile = “SP”, if “SP” is not supported “ASP”, Resolution = Highest resolution based on number of pixels, Quality = QualityRange.Max, FramerateLimit = FrameRateRange.Max, BitrateLimit = “64000”, EncodingInterval = EncodingIntervalRange.Min, GovLength = GovLengthRange.Min, and force persistence = false). These values will be taken from <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT modifies MPEG4 video encoder configuration and responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message indicating success.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the MPEG4 Video Encoder Configuration settings on DUT by invoking <emphasis role="bold">GetVideoEncoderConfiguration</emphasis> request.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT sends modified MPEG4 Video Encoder Configuration in the <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message (Encoding = “MPEG4”, Mpeg4Profile = “SP”, if “SP” is not supported “ASP”, Resolution = Highest resolution based on number of pixels).
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfiguration</emphasis> request (Encoding = “MPEG4”, Mpeg4Profile = “ASP”, if “ASP” is not supported “SP”, Resolution = Lowest resolution based on number of pixels, Quality = QualityRange.Min, FramerateLimit = FrameRateRange.Min, BitrateLimit = “64000”, EncodingInterval = EncodingIntervalRange.Max, GovLength = GovLengthRange.Max, and force persistence = false). These values will be taken from <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT modifies MPEG4 video encoder configuration and responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message indicating success.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the MPEG4 Video Encoder Configuration settings on DUT by invoking <emphasis role="bold">GetVideoEncoderConfiguration</emphasis> request.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT sends modified MPEG4 Video Encoder Configuration in the <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message (Encoding = “MPEG4”, Mpeg4Profile = “ASP”, if “ASP” is not supported “SP”, Resolution = Lowest resolution based on number of pixels).
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfiguration</emphasis> request (Encoding = “MPEG4”, Mpeg4Profile = “SP”, if “SP” is not supported “ASP”, Resolution = Median resolution based on number of pixels, Quality = Median value of QualityRange, FramerateLimit = Median value of FrameRateRange, BitrateLimit = “64000”, EncodingInterval = Median value of EncodingIntervalRange, GovLength = Median value of GovLengthRange, and force persistence = false). These values will be taken from <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT modifies MPEG4 video encoder configuration and responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message indicating success.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the MPEG4 Video Encoder Configuration settings on DUT by invoking <emphasis role="bold">GetVideoEncoderConfiguration</emphasis> request.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT sends modified MPEG4 Video Encoder Configuration in the <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message (Encoding = “MPEG4”, Mpeg4Profile = “SP”, if “SP” is not supported “ASP”, Resolution = Median resolution based on number of pixels).
                            </para>
                        </listitem>
                    </orderedlist>
                </para>
                <para>
                    <emphasis role="bold">Test Result:</emphasis>
                </para>
                <para>
                    <emphasis role="bold">PASS –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT passes all assertions.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">FAIL –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT doesn’t support MPEG4 encoding.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send the SOAP 1.2 fault message (<emphasis role="bold">InvalidArgVal/ConfigModify</emphasis>) for invalid <emphasis role="bold">SetVideoEncoderConfiguration</emphasis> request.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not modify MPEG4 Video Encoder Configuration.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                </para>
            </section>
            <section xml:id="tc.MEDIA-2-1-11">
                <title>H.264 VIDEO ENCODER CONFIGURATION
                </title>
                <para>
                    <emphasis role="bold">Test Case ID:</emphasis> MEDIA-2-1-11
                </para>
                <para>
                    <emphasis role="bold">Specification Coverage:</emphasis> Get video encoder configurations, Get video encoder configuration, Get video encoder configuration options, Modify a video encoder configuration.
                </para>
                <para>
                    <emphasis role="bold">Feature Under Test:</emphasis> None
                </para>
                <para>
                    <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                </para>
                <para>
                    <emphasis role="bold">Test Purpose:</emphasis> To verify DUT H.264 Video Encoder Configurations Setting
                </para>
                <para>
                    <emphasis role="bold">Pre-Requisite:</emphasis> H.264 is implemented by DUT
                </para>
                <para>
                    <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                </para>
                <para>
                    <emphasis role="bold">Test Procedure:</emphasis>
                </para>
                <para>
                    <orderedlist>
                        <?dbfo label-width="1.5em"?>
                        <listitem>
                            <para>
                                Start an ONVIF Client.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Start the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationsRequest</emphasis> to retrieve the list of video encoder configurations supported by DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT sends video encoder configurations in the <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem xml:id="tc.MEDIA-2-1-11.5">
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationOptions</emphasis> Request (Video Encoder Configuration token) to retrieve video encoder configuration options for the specified video encoder configuration.
                            </para>
                        </listitem>
                        <listitem xml:id="tc.MEDIA-2-1-11.6">
                            <para>
                                DUT sends the range of configurable values for the received video encoder configuration in the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Test steps <xref linkend="tc.MEDIA-2-1-11.5"/> &amp; <xref linkend="tc.MEDIA-2-1-11.6"/> have to be repeated for all video encoder configurations until ONVIF Client finds a video encoder configuration with H.264 encoding support
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfiguration</emphasis> request with H.264 configuration values outside the range defined in the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> and ‘ForcePersistence’ flag as ‘FALSE’.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT send the SOAP 1.2 fault message (<emphasis role="bold">InvalidArgVal/ConfigModify</emphasis>)
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the SOAP fault message sent by DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfiguration</emphasis> request (Encoding = “H264”, H264Profile = “Baseline”, if “Baseline” is not supported “Main”, if “Main” is not supported “Extended” and if “Extended” is not supported “High”, Resolution = Highest resolution based on number of pixels, Quality = QualityRange.Max, FramerateLimit = FrameRateRange.Max, BitrateLimit = “64000”, EncodingInterval = EncodingIntervalRange.Min, GovLength = GovLengthRange.Min, and force persistence = false). These values will be taken from <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT modifies H.264 video encoder configuration and responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message indicating success.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the H.264 Video Encoder Configuration settings on DUT by invoking <emphasis role="bold">GetVideoEncoderConfiguration</emphasis> request.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT sends modified H.264 Video Encoder Configuration in the <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message (Encoding = “H264”, H264Profile “Baseline”, if “Baseline” is not supported “Main”, if “Main” is not supported “Extended” and if “Extended” is not supported “High”, Resolution = Highest resolution based on number of pixels).
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfiguration</emphasis> request (Encoding = “H264”, H264Profile = “Main”, if “Main” is not supported “Extended”, if “Extended” is not supported “High” and if “High” is not supported “Baseline”, Resolution = Lowest resolution based on number of pixels, Quality = QualityRange.Min, FramerateLimit = FrameRateRange.Min, BitrateLimit = “64000”, EncodingInterval = EncodingIntervalRange.Max, GovLength = GovLengthRange.Max, and force persistence = false). These values will be taken from <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT modifies H.264 video encoder configuration and responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message indicating success.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the H.264 Video Encoder Configuration settings on DUT by invoking <emphasis role="bold">GetVideoEncoderConfiguration</emphasis> request.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT sends modified H.264 Video Encoder Configuration in the <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message (Encoding = “H264”, H264Profile = “Main”, if “Main” is not supported “Extended”, if “Extended” is not supported “High” and if “High” is not supported “Baseline”, Resolution = Lowest resolution based on number of pixels).
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfiguration</emphasis> request (Encoding = “H264”, H264Profile = “Extended”, if “Extended” is not supported “High”, if “High” is not supported “Baseline” and if “Baseline” is not supported “Main”, Resolution = Median resolution based on number of pixels, Quality = Median value of QualityRange, FramerateLimit = Median value of FrameRateRange, BitrateLimit = “64000”, EncodingInterval = Median value of EncodingIntervalRange, GovLength = Median value of GovLengthRange, and force persistence = false). These values will be taken from <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT modifies H.264 video encoder configuration and responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message indicating success.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the H.264 Video Encoder Configuration settings on DUT by invoking <emphasis role="bold">GetVideoEncoderConfiguration</emphasis> request.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT sends modified H.264 Video Encoder Configuration in the <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message (Encoding = “H264”, H264Profile “Extended”, if “Extended” is not supported “High”, if “High” is not supported “Baseline” and if “Baseline” is not supported “Main”, Resolution = Median resolution based on number of pixels).
                            </para>
                        </listitem>
                    </orderedlist>
                </para>
                <para>
                    <emphasis role="bold">Test Result:</emphasis>
                </para>
                <para>
                    <emphasis role="bold">PASS –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT passes all assertions.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">FAIL –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis>.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT doesn’t support H.264 encoding.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send the SOAP 1.2 fault message (<emphasis role="bold">InvalidArgVal/ConfigModify</emphasis>) for invalid <emphasis role="bold">SetVideoEncoderConfiguration</emphasis> request.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not modify H.264 Video Encoder Configuration.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                </para>
            </section>

            <!--Video Source Configuration-->
            <section xml:id="tc.media_configuration.video_source_configuration">
                <title>Video Source Configuration</title>

                <section xml:id="tc.MEDIA-2-2-1">
                    <title>VIDEO SOURCE CONFIGURATIONS AND PROFILES CONSISTENCY
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-2-2-1
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get media profiles, Get video source configurations
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetProfiles, GetVideoSourceConfigurations 
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check that GetVideoSourceConfigurations command and GetProfiles command are consistent.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> ONVIF Client gets the Media Service entry point by GetCapabilities command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetProfilesRequest</emphasis> message to retrieve list of profiles and their configurations.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetProfilesResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurationsRequest</emphasis> message to retrieve list of Video Source Configurations from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that each VideoSourceConfiguration from <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message has unique token.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that each VideoSourceConfigurations from the <emphasis role="bold">GetProfilesResponse</emphasis> message are included in the <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that VideoSourceConfiguration parameters are same in the <emphasis role="bold">GetProfilesResponse</emphasis> message and in the <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message for each VideoSourceConfiguration.
                                </para>
                            </listitem>
                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetProfilesResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetProfilesResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT return two or more VideoSourceConfigurations in <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message with the same ConfigurationToken.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT returned the <emphasis role="bold">GetProfilesResponse</emphasis> message with VideoSourceConfigurations that were not included in the <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT returned different parameters list and parameters values for the same VideoSourceConfiguration in the <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message and in the <emphasis role="bold">GetProfilesResponse</emphasis> message.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                </section>
                <section xml:id="tc.MEDIA-2-2-2">
                    <title>VIDEO SOURCE CONFIGURATIONS AND VIDEO SOURCE CONFIGURATION CONSISTENCY
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-2-2-2
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get video source configurations, Get video source configuration 
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetVideoSourceConfigurations, GetVideoSourceConfiguration 
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check that GetVideoSourceConfigurations and GetVideoSourceConfiguration are consistent.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> ONVIF Client gets the Media Service entry point by GetCapabilities command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurationsRequest</emphasis> message to retrieve list of Video Source Configurations from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-2-2.5">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurationRequest</emphasis> (ConfigurationToken) message to retrieve parameters of Video Source Configuration from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-2-2.7">
                                <para>
                                    Verify that all parameters and their values for video source ConfigurationToken from <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message and <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> message are the same. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Repeat steps <xref linkend="tc.MEDIA-2-2-2.5"/>-<xref linkend="tc.MEDIA-2-2-2.7"/> for other VideoSourceConfigurations from the <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send equal parameters for VideoSourceConfiguration in the <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> message and in the <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                </section>
                <section xml:id="tc.MEDIA-2-2-3">
                    <title>VIDEO SOURCE CONFIGURATIONS AND VIDEO SOURCE CONFIGURATION OPTIONS CONSISTENCY
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-2-2-3
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get video source configuration options, Get video source configurations
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetVideoSourceConfigurations, GetVideoSourceConfigurationOptions 
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check that GetVideoSourceConfigurations Command and GetVideoSourceConfigurationOptions Command are consistent.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> ONVIF Client gets the Media Service entry point by GetCapabilities command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurationsRequest</emphasis> message to retrieve list of Video Source Configurations from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-2-3.5">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurationOptionsRequest</emphasis> (ConfigurationToken) message to retrieve Video Source Configuration Options for video source configuration from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoSourceConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-2-3.7">
                                <para>
                                    Check that parameters for video source configuration are available according to options for video source configuration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Repeat steps <xref linkend="tc.MEDIA-2-2-3.5"/>-<xref linkend="tc.MEDIA-2-2-3.7"/> for each VideoSourceConfiguration from the <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetVideoSourceConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoSourceConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did send inconsistent <emphasis role="bold">GetVideoSourceConfigurationOptionsResponse</emphasis> message:
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Source token of VideoSourceConfiguration does not exist in VideoSourceTokensAvailable list for this VideoSourceConfiguration in <emphasis role="bold">GetVideoSourceConfigurationOptionsResponse</emphasis>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    VideoSourceConfiguration.Bounds.x is not between BoundsRange.XRange.Min and BoundsRange.XRange.Max.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    VideoSourceConfiguration.Bounds.y is not between BoundsRange.YRange.Min and BoundsRange.YRange.Max.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    VideoSourceConfiguration.Bounds.width is not between BoundsRange.WidthRange.Min and BoundsRange.WidthRange.Max.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    VideoSourceConfiguration.Bounds.height is not between BoundsRange.HeightRange.Min and BoundsRange.HeightRange.Max.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                </section>
                <section xml:id="tc.MEDIA-2-2-4">
                    <title>PROFILES AND VIDEO SOURCE CONFIGURATION OPTIONS CONSISTENCY
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-2-2-4
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get video source configuration options, Get media profiles
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetProfiles, GetVideoSourceConfigurationOptions 
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check that GetProfiles command and GetVideoSourceConfigurationOptions command are consistent.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> ONVIF Client gets the Media Service entry point by GetCapabilities command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetProfilesRequest</emphasis> message to retrieve list of profiles from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetProfilesResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-2-4.5">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurationOptionsRequest</emphasis> (ProfileToken, ConfigurationToken) message to retrieve VideoSourceConfigurationOptions for the video source configuration from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoSourceConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-2-4.7">
                                <para>
                                    Check that all parameters for the video source configuration from the profile are correct according to options for video source configuration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Repeat steps <xref linkend="tc.MEDIA-2-2-4.5"/>-<xref linkend="tc.MEDIA-2-2-4.7"/> for other profiles with VideoSourceConfiguration from the <emphasis role="bold">GetProfilesResponse</emphasis> message.
                                </para>
                            </listitem>
                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetProfilesResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetProfilesResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetVideoSourceConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoSourceConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did send inconsistent <emphasis role="bold">GetVideoSourceConfigurationOptionsResponse</emphasis> message:
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Source token of VideoSourceConfiguration does not exist in VideoSourceTokensAvailable list for this VideoSourceConfiguration in <emphasis role="bold">GetVideoSourceConfigurationOptionsResponse</emphasis>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    VideoSourceConfiguration.Bounds.x is not between BoundsRange.XRange.Min and BoundsRange.XRange.Max.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    VideoSourceConfiguration.Bounds.y is not between BoundsRange.YRange.Min and BoundsRange.YRange.Max.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    VideoSourceConfiguration.Bounds.width is not between BoundsRange.WidthRange.Min and BoundsRange.WidthRange.Max.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    VideoSourceConfiguration.Bounds.height is not between BoundsRange.HeightRange.Min and BoundsRange.HeightRange.Max.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                </section>
                <section xml:id="tc.MEDIA-2-2-5">
                    <title>VIDEO SOURCE CONFIGURATIONS AND VIDEO SOURCES CONSISTENCY
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-2-2-5
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> GetVideoSources, Get video source configurations
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetVideoSourceConfigurations, GetVideoSources 
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check that GetVideoSourceConfigurations Command and GetVideoSources Command are consistent.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> ONVIF Client gets the Media Service entry point by GetCapabilities command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurationsRequest</emphasis> message to retrieve list of Video Source Configurations from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoSourcesRequest</emphasis> message to retrieve list of Video Sources from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoSourcesResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that each VideoSourceConfiguration from <emphasis role="bold">GetVideoSourcesResponse</emphasis> message has unique token.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that every VideoSourceConfiguration.SourceToken from the GetVideoSourceConfigurationsResponse message exists in <emphasis role="bold">GetVideoSourcesResponse</emphasis> message (VideoSource.token).
                                </para>
                            </listitem>
                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetVideoSourcesResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoSourcesResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT return two or more VideoSources in <emphasis role="bold">GetVideoSourcesResponse</emphasis> message with the same token.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT returned the GetVideoSourceConfigurationsResponse message with VideoSources that were not included in the <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                </section>
                <section xml:id="tc.MEDIA-2-2-6">
                    <title>VIDEO SOURCE CONFIGURATION USE COUNT (CURRENT STATE)
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-2-2-6
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get media profiles, Get video source configurations, Get video source configuration 
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetProfiles, GetVideoSourceConfigurations, GetVideoSourceConfiguration
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check Video Source Configuration use count.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command. 
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-2-6.3">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurationsRequest</emphasis> message to retrieve list of video source configurations from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-2-6.4">
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetProfilesRequest</emphasis> message to retrieve list of profiles and their video source configurations from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-2-6.6">
                                <para>
                                    The DUT sends <emphasis role="bold">GetProfilesResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-2-6.7">
                                <para>
                                    Check the UseCount = usecount1 value for the first VideoSourceConfiguration (VSC1) in the list on step <xref linkend="tc.MEDIA-2-2-6.3"/>. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that there are not more than usecount1 profiles with this VideoSourceConfiguration in the list from step <xref linkend="tc.MEDIA-2-2-6.6"/>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that UseCount value in <emphasis role="bold">GetProfilesResponse</emphasis> for every occurrence of this VideoSourceConfiguration is usecount1.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-2-6.10">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurationRequest</emphasis> (ConfigurationToken = the first VideoSourceConfiguration from list on step <xref linkend="tc.MEDIA-2-2-6.4"/>) message to retrieve video source configuration parameters.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check the UseCount value in <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> (UseCount = usecount1).
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Repeat steps <xref linkend="tc.MEDIA-2-2-6.7"/>-<xref linkend="tc.MEDIA-2-2-6.10"/> for all other VideoSourceConfigurations from the list on step <xref linkend="tc.MEDIA-2-2-6.4"/>.
                                </para>
                            </listitem>
                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetProfilesResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetProfilesResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sent UseCount value which is less than amount of profiles with VideoSourceConfiguration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sent different UseCount values in GetProfilesResponse, GetVideoSourceConfigurationsResponse and <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> messages.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                </section>
                <section xml:id="tc.MEDIA-2-2-12">
                    <title>VIDEO SOURCE CONFIGURATION USE COUNT (ADD SAME VIDEO SOURCE CONFIGURATION TO PROFILE TWICE)
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-2-2-12
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get media profiles, Get media profile, Add video source configuration to a profile, Get video source configurations, Get video source configuration.
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetVideoSourceConfigurations, GetVideoSourceConfiguration, AddVideoSourceConfiguration
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check Video Source Configuration use count after adding same video source configuration to profile twice.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command. 
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurationsRequest</emphasis> message to retrieve list of video source configurations from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-2-12.4">
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> (Name = NewName, Token = New Profile) message to create profile.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-2-12.6">
                                <para>
                                    If the DUT will generate a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis>), 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If there is profile with “fixed” attribute value “false” in profiles list (profile1)
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-2-12.8">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">RemoveVideoEncoderConfigurationRequest</emphasis> and <emphasis role="bold">RemoveVideoSourceConfigurationRequest</emphasis> (ProfileToken = profile1) message to remove VideoEncoderConfiguration and VideoSourceConfiguration from profile1
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">RemoveVideoEncoderConfigurationResponse</emphasis> and <emphasis role="bold">RemoveVideoSourceConfigurationResponse</emphasis> message. The UseCount of value of the VideoSourceConfiguration is reduced by 1.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Execute steps <xref linkend="tc.MEDIA-2-2-12.8"/>-<xref linkend="tc.MEDIA-2-2-12.17"/>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If there is no profile with “fixed” attribute value “false” in profiles list, end test.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If the DUT sends <emphasis role="bold">CreateProfileResponse</emphasis> message, validate <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddVideoSourceConfigurationRequest</emphasis> (ConfigurationToken = first video source from the list on step <xref linkend="tc.MEDIA-2-2-12.4"/> (VSC1), ProfileToken = New Profile) message to add VideoSourceConfiguration to the new profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">AddVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurationRequest</emphasis> (ConfigurationToken = VSC1) message to retrieve video source configuration parameters.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-2-12.17">
                                <para>
                                    Check the UseCount value in GetVideoSourceConfigurationResponse message (UseCount = usecount1+1, usecount1 is value of UseCount for VSC1 from the list on step <xref linkend="tc.MEDIA-2-2-12.4"/>). If step <xref linkend="tc.MEDIA-2-2-12.6"/> is executed, the usecount1 could be reduced by 1.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddVideoSourceConfigurationRequest</emphasis> (ProfileToken = New Profile, ConfigurationToken = VSC1) message to replace video source configuration in profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">AddVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurationRequest</emphasis> (ConfigurationToken = VSC1) message to retrieve video source configuration parameters. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that UseCount = usecount1+1, in <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">DeleteProfileRequest</emphasis> (ProfileToken = New Profile) message to remove profile with video source configuration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">DeleteProfileResponse</emphasis> message.
                                </para>
                            </listitem>
                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">AddVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">AddVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    UseCount value is not increased by 1 after adding of the VideoSourceConfiguration to one more profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    UseCount value is changed 1 after repeated adding of the VideoSourceConfiguration in profile.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                    </para>

                </section>
                <section xml:id="tc.MEDIA-2-2-13">
                    <title>VIDEO SOURCE CONFIGURATION USE COUNT (ADD DIFFERENT VIDEO SOURCE CONFIGURATIONS IN PROFILE)
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-2-2-13
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get media profiles, Get media profile, Add video source configuration to a profile, Get video source configurations, Get video source configuration.
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetVideoSourceConfigurations, GetVideoSourceConfiguration, AddVideoSourceConfiguration
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check Video Source Configuration use count after adding different video source configurations to profile.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. There are at least two VideoSourceConfigurations. ONVIF Client gets the Media Service entry point by GetCapabilities command. List of media profiles is received by GetProfiles command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurationsRequest</emphasis> message to retrieve list of video source configurations from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-2-13.4">
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If there is only one VideoSourceConfiguration in the <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message go to the next test.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-2-13.6">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> (<emphasis role="bold">Name = NewName, Token = New Profile</emphasis>) message to create profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If the DUT will generate a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis>), 
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-2-13.8">
                                <para>
                                    If there is profile with “fixed” attribute value “false” in profiles list (<emphasis role="bold">profile1</emphasis>)
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">RemoveVideoEncoderConfigurationRequest</emphasis> and <emphasis role="bold">RemoveVideoSourceConfigurationRequest</emphasis> (<emphasis role="bold">ProfileToken = profile1</emphasis>) message to remove VideoEncoderConfiguration and VideoSourceConfiguration from profile1.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">RemoveVideoEncoderConfigurationResponse</emphasis> and <emphasis role="bold">RemoveVideoSourceConfigurationResponse</emphasis> message. The UseCount value of the two configurations will be reduced by 1.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Execute steps <xref linkend="tc.MEDIA-2-2-13.8"/>-<xref linkend="tc.MEDIA-2-2-13.17"/>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If there is no profile with “fixed” attribute value “false” in profiles list, end test.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If the DUT sends <emphasis role="bold">CreateProfileResponse</emphasis> message, validate <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddVideoSourceConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = first video source from the list on step <xref linkend="tc.MEDIA-2-2-13.4"/> (VSC1), ProfileToken = New Profile</emphasis>) message to add VideoSourceConfiguration to the new profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">AddVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = VSC1</emphasis>) message to retrieve video source configuration parameters.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-2-13.17">
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check the UseCount value in <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> message. (<emphasis role="bold">UseCount = usecount1+1</emphasis>, usecount1 is the value of UseCount for <emphasis role="bold">VSC1</emphasis> from the list on step <xref linkend="tc.MEDIA-2-2-13.4"/>).If test step <xref linkend="tc.MEDIA-2-2-13.6"/> is executed, the usecount1 could be reduced by 1.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddVideoSourceConfigurationRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile, ConfigurationToken = VSC2</emphasis>, where <emphasis role="bold">VSC2</emphasis> is other VSC from list on step <xref linkend="tc.MEDIA-2-2-13.4"/>) message to replace video source configuration in profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">AddVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = VSC1</emphasis>) message to retrieve video source configuration parameters. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that <emphasis role="bold">UseCount = usecount1</emphasis>, in <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = VSC2</emphasis>) message to retrieve video source configuration parameters. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that <emphasis role="bold">UseCount = usecount2+1</emphasis>, in <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> where <emphasis role="bold">usecount2</emphasis> is UseCount value for <emphasis role="bold">VSC2</emphasis> in the list on step <xref linkend="tc.MEDIA-2-2-13.4"/>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">DeleteProfileRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile</emphasis>) message to remove profile with video source configuration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">DeleteProfileResponse</emphasis> message.
                                </para>
                            </listitem>
                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">AddVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">AddVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    UseCount value is not increased by 1 after adding of the VideoSourceConfiguration to one more profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    UseCount value is not decreased by 1 after replacing of the VideoSourceConfiguration in profile for removed VideoSourceConfiguration and UseCount value is not increased by 1 after replacing of the VideoSourceConfiguration in profile for new VideoSourceConfiguration.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                    </para>

                </section>
                <section xml:id="tc.MEDIA-2-2-14">
                    <title>VIDEO SOURCE CONFIGURATION USE COUNT (REMOVE VIDEO SOURCE CONFIGURATION)
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-2-2-14
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Remove video source configuration from a profile, Get video source configurations, Get video source configuration
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetProfiles, GetVideoSourceConfigurations, GetVideoSourceConfiguration, RemoveVideoSourceConfiguration 
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check Video Source Configuration use count after removing video source configuration to profile.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command. List of media profile is received by GetProfiles command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurationsRequest</emphasis> message to retrieve list of video source configurations from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-2-14.4">
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> (<emphasis role="bold">Name = NewName, Token = New Profile</emphasis>) message to create profile.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-2-14.6">
                                <para>
                                    If the DUT will generate a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis>), 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If there is profile with “fixed” attribute value “false” in profiles list (<emphasis role="bold">profile1</emphasis>)
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-2-14.8">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">RemoveVideoEncoderConfigurationRequest</emphasis> and <emphasis role="bold">RemoveVideoSourceConfigurationRequest</emphasis> (<emphasis role="bold">ProfileToken = profile1</emphasis>) message to remove VideoEncoderConfiguration and VideoSourceConfiguration from <emphasis role="bold">profile1</emphasis>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">RemoveVideoEncoderConfigurationResponse</emphasis> and <emphasis role="bold">RemoveVideoSourceConfigurationResponse</emphasis> message. The UseCount value of the two configurations will be reduced by 1.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Execute steps <xref linkend="tc.MEDIA-2-2-14.8"/>-<xref linkend="tc.MEDIA-2-2-14.13"/>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If there is no profile with “fixed” attribute value “false” in profiles list, end test.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If the DUT sends <emphasis role="bold">CreateProfileResponse</emphasis> message, validate <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. 
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-2-14.13">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddVideoSourceConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = first video source from the list on step <xref linkend="tc.MEDIA-2-2-14.4"/> (VSC1), ProfileToken = New Profile</emphasis>) message to add VideoSourceConfiguration to the new profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">AddVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">RemoveVideoSourceConfigurationRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile</emphasis>) message to remove video source configuration from NewProfileToken.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">RemoveVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = VSC1</emphasis>) message to retrieve video source configuration parameters. The DUT sends <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check the UseCount value in <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis>. (<emphasis role="bold">UseCount = usecount1</emphasis>, usecount1 is the UseCount value for <emphasis role="bold">VSC1</emphasis> in the list on step <xref linkend="tc.MEDIA-2-2-14.4"/>). If test step <xref linkend="tc.MEDIA-2-2-14.6"/> is executed, the usecount1 value could be reduced by 1.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">DeleteProfileRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile</emphasis>) message to remove profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">DeleteProfileResponse</emphasis> message.
                                </para>
                            </listitem>
                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">AddVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">AddVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">RemoveVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">RemoveVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    UseCount value is not decreased by 1 after removing of the VideoSourceConfiguration from profile.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                    </para>

                </section>
                <section xml:id="tc.MEDIA-2-2-15">
                    <title>VIDEO SOURCE CONFIGURATION USE COUNT (DELETION PROFILE WITH VIDEO SOURCE CONFIGURATION)
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-2-2-15
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get video source configurations, Get video source configuration, Delete media profile
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetVideoSourceConfigurations, GetVideoSourceConfiguration, DeleteProfile.
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check Video Source Configuration use count after deletion of profile with source configuration in it.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command. List of profiles is received by GetProfiles.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurationsRequest</emphasis> message to retrieve list of video source configurations from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-2-15.4">
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> (<emphasis role="bold">Name = NewName, Token = New Profile</emphasis>) message to create profile.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-2-15.6">
                                <para>
                                    If the DUT will generate a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis>), 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If there is profile with “fixed” attribute value “false” in profiles list (<emphasis role="bold">profile1</emphasis>)
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-2-15.8">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">RemoveVideoEncoderConfiguration</emphasis> and <emphasis role="bold">RemoveVideoSourceConfigurationRequest</emphasis> (<emphasis role="bold">ProfileToken = profile1</emphasis>) message to remove VideoEncoderConfiguration and VideoSourceConfiguration from <emphasis role="bold">profile1</emphasis>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">RemoveVideoEncoderConfigurationResponse</emphasis> and <emphasis role="bold">RemoveVideoSourceConfigurationResponse</emphasis> message. The UseCount values for the two configurations will be reduced by 1.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Execute steps <xref linkend="tc.MEDIA-2-2-15.8"/>-<xref linkend="tc.MEDIA-2-2-15.14"/>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If there is no profile with “fixed” attribute value “false” in profiles list, end test.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If the DUT sends <emphasis role="bold">CreateProfileResponse</emphasis> message, validate <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddVideoSourceConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = first video source from the list on step <xref linkend="tc.MEDIA-2-2-15.4"/> (VSC1), ProfileToken = New Profile</emphasis>) message to add VideoSourceConfiguration to the new profile.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-2-15.14">
                                <para>
                                    The DUT sends <emphasis role="bold">AddVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">DeleteProfileRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile</emphasis>) message to remove profile with video source configuration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">DeleteProfileResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = VSC1</emphasis>) message to retrieve video source configuration parameters. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check the UseCount value in <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> message (<emphasis role="bold">UseCount = usecount1</emphasis>, usecount1 is the UseCount value for <emphasis role="bold">VSC1</emphasis> in the list on step <xref linkend="tc.MEDIA-2-2-15.4"/>). If test step <xref linkend="tc.MEDIA-2-2-15.6"/> is executed, the UseCount value could be reduced by 1.
                                </para>
                            </listitem>
                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">AddVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">AddVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">RemoveVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">RemoveVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    UseCount value is not decreased by 1 after deletion of the profile with the VideoSourceConfiguration.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.


                    </para>
                </section>
                <section xml:id="tc.MEDIA-2-2-16">
                    <title>VIDEO SOURCE CONFIGURATION USE COUNT (SET VIDEO SOURCE CONFIGURATION)
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-2-2-16
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get video source configurations, Get video source configuration, Modify a video source configuration.
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetVideoSourceConfigurations, GetVideoSourceConfiguration, SetVideoSourceConfiguration
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check Video Source Configuration use count after setting video source configuration parameters.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurationsRequest</emphasis> message to retrieve list of video source configurations from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-2-16.4">
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">SetVideoSourceConfigurationRequest</emphasis> (<emphasis role="bold">token = the first Video Source Configuration from the list on step <xref linkend="tc.MEDIA-2-2-16.4"/>(VSC1), UseCount = NewUseCount</emphasis>) message to set parameters for video source interval profile with video source configuration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">SetVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = VSC1</emphasis>) message to retrieve video source configuration parameters. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that <emphasis role="bold">UseCount = usecount1</emphasis>, in <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> where usecount1 is UseCount value for VSC1 in the list on step <xref linkend="tc.MEDIA-2-2-16.4"/>.
                                </para>
                            </listitem>
                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">SetVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">SetVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    UseCount value changed after trying to set UseCount value. 
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                    </para>
                </section>

            </section>
            <!--Video Encoder Configuration-->
            <section xml:id="tc.media_configuration.video_encoder_configuration">
                <title>Video Encoder Configuration</title>

                <section xml:id="tc.MEDIA-2-3-1">
                    <title>VIDEO ENCODER CONFIGURATIONS AND PROFILES CONSISTENCY
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-2-3-1
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get media profiles, Get video encoder configurations
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetProfiles, GetVideoEncoderConfigurations
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check that GetVideoEncoderConfigurations command and GetProfiles command are consistent.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> ONVIF Client gets the Media Service entry point by GetCapabilities command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetProfilesRequest</emphasis> message to retrieve list of profiles and their video encoder configurations.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetProfilesResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationsRequest</emphasis> message to retrieve list of Video Encoder Configurations from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that each VideoEncoderConfiguration from <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message has unique token.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that all VideoEncoderConfigurations from the <emphasis role="bold">GetProfilesResponse</emphasis> message are included in the <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that VideoEncoderConfiguration parameters are same in <emphasis role="bold">GetProfilesResponse</emphasis> message and in <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message for each VideoEncoderConfiguration.
                                </para>
                            </listitem>
                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetProfilesResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetProfilesResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT return two or more VideoEncoderConfigurations in <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message with the same ConfigurationToken.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT returned the <emphasis role="bold">GetProfilesResponse</emphasis> message with VideoEncoderConfigurations that were not included in the <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT returned different parameters list and parameters values for the same VideoEncoderConfiguration in the <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message and in the GetProfilesResponse message.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>

                </section>
                <section xml:id="tc.MEDIA-2-3-2">
                    <title>VIDEO ENCODER CONFIGURATIONS AND VIDEO ENCODER CONFIGURATION CONSISTENCY
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-2-3-2
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get media profiles, Get video encoder configurations
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetVideoEncoderConfiguration, GetVideoEncoderConfigurations
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check that GetVideoEncoderConfigurations command and GetVideoEncoderConfiguration command are consistent.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> ONVIF Client gets the Media Service entry point by GetCapabilities command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationsRequest</emphasis> message to retrieve list of Video Encoder Configurations from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-2.5">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken</emphasis>) message to retrieve parameters of video encoder configuration from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-2.7">
                                <para>
                                    Check that all parameters for video encoder configuration in the <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message and <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message are the same.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Repeat steps <xref linkend="tc.MEDIA-2-3-2.5"/>-<xref linkend="tc.MEDIA-2-3-2.7"/> for each Video Encoder Configurations from the <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send equal parameters for one or more VideoEncoderConfiguration in the <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message and in the GetVideoEncoderConfigurationsResponse message.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>

                </section>
                <section xml:id="tc.MEDIA-2-3-3">
                    <title>VIDEO ENCODER CONFIGURATIONS AND VIDEO ENCODER CONFIGURATION OPTIONS CONSISTENCY
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-2-3-3
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get video encoder configurations, Get video encoder configuration options
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetVideoEncoderConfigurations, GetVideoEncoderConfigurationOptions
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check that GetVideoEncoderConfigurations command and GetVideoEncoderConfigurationOptions command are consistent.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> ONVIF Client gets the Media Service entry point by GetCapabilities command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationsRequest</emphasis> message to retrieve list of Video Encoder Configurations from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-3.5">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationOptionsRequest</emphasis> (<emphasis role="bold">ConfigurationToken</emphasis>) message to retrieve VideoEncoderConfigurationOptions from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-3.7">
                                <para>
                                    Check that all parameters of video encoder configuration are available according to options for video encoder configuration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Repeat steps <xref linkend="tc.MEDIA-2-3-3.5"/>-<xref linkend="tc.MEDIA-2-3-3.7"/> for other video encoder configurations from the <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sent for at list one VideoEncoderConfiguration with inconsistent parameters:
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Encoding value from video encoder configuration is not included in options 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    There is no pair “Resolution.Height, Resolution.Width” from video encoder configuration in AvailableResolution list for previously checked Encoder from options.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Quality value for video encoder configuration is not between QualityRange.Min and QualityRange.Max from options.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    RateControl.FrameRateLimit for video encoder configuration is not between Encoding.FrameRateRange.Min and Encoding.FrameRateRange.Max for current encoding from options
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    RateControl.EncodingInterval for video encoder configuration is not between EncodingIntervalRange.Min and EncodingIntervalRange.Max for current encoding from options.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    RateControl.BitrateLimit for video encoder configuration is not between BitrateRange.Min and BitrateRange.Max for current encoding from options. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If Encoding is H.264, H264.H264Profile value does not exist in H264.H264ProfilesSupported list from options. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If Encoding is MPEG4, MPEG4.MPEG4Profile value does not exist in MPEG4.MPEG4ProfilesSupported list from options. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If Encoding is H264 or MPEG4, Enc.GovLength value is not between Enc.GovLengthRange.Min and Enc.GovLengthRange.Max for corresponded encoding from options. 
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>

                </section>
                <section xml:id="tc.MEDIA-2-3-4">
                    <title>PROFILES AND VIDEO ENCODER CONFIGURATION OPTIONS CONSISTENCY
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-2-3-4
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get media profile, Get video encoder configuration options
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetProfiles, GetVideoEncoderConfigurationOptions
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check that GetProfiles command and GetVideoEncoderConfigurationOptions command are consistent.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> ONVIF Client gets the Media Service entry point by GetCapabilities command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetProfilesRequest</emphasis> message to retrieve list of profiles from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetProfilesResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-4.5">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationOptionsRequest</emphasis> (<emphasis role="bold">ProfileToken, ConfigurationToken</emphasis>) message to retrieve VideoEncoderConfigurationOptions for video encoder configuration from the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-4.7">
                                <para>
                                    Check that all parameters of video encoder configuration in profile are available according to options for video encoder configuration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Repeat steps <xref linkend="tc.MEDIA-2-3-4.5"/> -<xref linkend="tc.MEDIA-2-3-4.7"/> for other profiles from the <emphasis role="bold">GetProfilesResponse</emphasis> message.
                                </para>
                            </listitem>
                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetProfilesResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetProfilesResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sent for at list one VideoEncoderConfiguration with inconsistent parameters:
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Encoding value from video encoder configuration is not included in options 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    There is no pair “Resolution.Height, Resolution.Width” from video encoder configuration in AvailableResolution list for previously checked Encoder from options.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Quality value for video encoder configuration is not between QualityRange.Min and QualityRange.Max from options.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    RateControl.FrameRateLimit for video encoder configuration is not between Encoding.FrameRateRange.Min and Encoding.FrameRateRange.Max for current encoding from options
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    RateControl.EncodingInterval for video encoder configuration is not between EncodingIntervalRange.Min and EncodingIntervalRange.Max for current encoding from options.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    RateControl.BitrateLimit for video encoder configuration is not between BitrateRange.min and BitrateRange.max for current encoding from options. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If Encoding is H.264, H264.H264Profile value does not exist in H264.H264ProfilesSupported list from options. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If Encoding is MPEG4, MPEG4.MPEG4Profile value does not exist in MPEG4.MPEG4ProfilesSupported list from options. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If Encoding is H264 or MPEG4, Enc.GovLength value is not between Enc.GovLengthRange.Min and Enc.GovLengthRange.Max for corresponded encoding from options. 
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>

                </section>
                <section xml:id="tc.MEDIA-2-3-5">
                    <title>VIDEO ENCODER CONFIGURATION USE COUNT (CURRENT STATE)
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-2-3-5
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get media profiles, Get video encoder configurations, Get video encoder configuration 
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetProfiles, GetVideoEncoderConfigurations, GetVideoEncoderConfiguration
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check Video Encoder Configuration use count.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Profile with VideoEncoderConfiguration exists. ONVIF Client gets the Media Service entry point by GetCapabilities command. 
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationsRequest</emphasis> message to retrieve list of video encoder configurations from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-5.4">
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetProfilesRequest</emphasis> message to retrieve list of profiles and their video encoder configurations from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-5.6">
                                <para>
                                    The DUT sends <emphasis role="bold">GetProfilesResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-5.7">
                                <para>
                                    Check the <emphasis role="bold">UseCount = usecount1</emphasis> value for the first VideoEncoderConfiguration (<emphasis role="bold">VEC1</emphasis>) in the list on step <xref linkend="tc.MEDIA-2-3-5.4"/>. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that there are not more than usecount1 profiles with this VideoEncoderConfiguration in the list from step <xref linkend="tc.MEDIA-2-3-5.6"/>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that <emphasis role="bold">UseCount</emphasis> value in <emphasis role="bold">GetProfilesResponse</emphasis> for every occurrence of this VideoEncoderConfiguration is <emphasis role="bold">usecount1</emphasis>.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-5.10">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = VEC1</emphasis>) message to retrieve video encoder configuration parameters.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check the UseCount value in <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> (<emphasis role="bold">UseCount = usecount1</emphasis>).
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Repeat steps <xref linkend="tc.MEDIA-2-3-5.7"/>-<xref linkend="tc.MEDIA-2-3-5.10"/> for all other VideoEncoderConfigurations from the list on step <xref linkend="tc.MEDIA-2-3-5.4"/>.
                                </para>
                            </listitem>
                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetProfilesResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetProfilesResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sent UseCount value which is less than amount of profiles with VideoEncoderConfiguration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sent different UseCount values in GetProfilesResponse, GetVideoEncoderConfigurationsResponse and <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> messages.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>

                </section>
                <section xml:id="tc.MEDIA-2-3-12">
                    <title>VIDEO ENCODER CONFIGURATIONS – ALL SUPPORTED VIDEO ENCODINGS
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-2-3-12
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> None
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> None
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To verify whether all supported encodings can be set.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Media Service was received from the DUT. 
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client will invoke <emphasis role="bold">GetVideoEncoderConfigurationsRequest</emphasis> message to retrieve all DUT video encoder configurations.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Verify the <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message from the DUT.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-12.5">
                                <para>
                                    ONVIF Client will invoke <emphasis role="bold">GetVideoEncoderConfigurationOptionsRequest</emphasis> message (ConfigurationToken = “Token1”, where “Token1” is a first video encoder configuration token from GetVideoEncoderConfigurationsResponse message, no ProfileToken) to retrieve supported video encoder configuration options.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Verify the GetVideoEncoderConfigurationOptionsResponse message from the DUT.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-12.7">
                                <para>
                                    ONVIF Client will invoke <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> message (Configuration.token = “Token1”, where “Token1” is a first video encoder configuration token from GetVideoEncoderConfigurationsResponse message, Configuration.Encoding = “codec1”, where “codec1” is a first supported codec from GetVideoEncoderConfigurationOptionsResponse message, other Configuration parameters that are applicable for selected Encoding) to change video encoder configuration settings.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Verify the <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message from the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client will invoke <emphasis role="bold">GetVideoEncoderConfigurationRequest</emphasis> message (ConfigurationToken = “Token1”, where “Token1” is a first video encoder configuration token from GetVideoEncoderConfigurationsResponse message) to retrieve DUT video encoder configuration for specified token.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-12.10">
                                <para>
                                    Verify the <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message from the DUT. Check that video encoder setting was applied.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-12.11">
                                <para>
                                    Repeat steps <xref linkend="tc.MEDIA-2-3-12.7"/>-<xref linkend="tc.MEDIA-2-3-12.10"/> for the rest Video Encodings supported by selected configuration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If number of Video encoder configurations in <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message is more than one, repeat steps <xref linkend="tc.MEDIA-2-3-12.5"/>-<xref linkend="tc.MEDIA-2-3-12.11"/> for the last video encoder configuration token from <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If number of Video encoder configurations in <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message is more than two, Repeat steps <xref linkend="tc.MEDIA-2-3-12.5"/>-<xref linkend="tc.MEDIA-2-3-12.11"/> for the video encoder configuration token between the first and the last VEC tokens from <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sent <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message with Configuration.Encoding other then was set up with <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                    </para>

                </section>
                <section xml:id="tc.MEDIA-2-3-13">
                    <title>VIDEO ENCODER CONFIGURATION USE COUNT (ADD SAME VIDEO ENCODER CONFIGURATION TO PROFILE TWICE)
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-2-3-13
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Add video encoder configuration to a profile, Get video encoder configurations, Get video encoder configuration.
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetVideoEncoderConfigurations, GetVideoEncoderConfiguration, AddVideoEncoderConfiguration
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check Video Encoder Configuration use count after adding same video encoder configuration to profile twice.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command. List of profiles is received by GetProfiles command
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationsRequest</emphasis> message to retrieve list of video encoder configurations from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-13.4">
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurationsRequest</emphasis> message to retrieve list of video source configurations from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> (<emphasis role="bold">Name = NewName, Token = New Profile</emphasis>) message to create profile.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-13.8">
                                <para>
                                    If the DUT will generate a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis>), 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If there is profile with “fixed” attribute value “false” in profiles list (<emphasis role="bold">profile1</emphasis>)
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-13.10">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">RemoveVideoEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ProfileToken = profile1</emphasis>) message to remove VideoEncoderConfiguration from <emphasis role="bold">profile1</emphasis>
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-13.11">
                                <para>
                                    The DUT sends <emphasis role="bold">RemoveVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-13.12">
                                <para>
                                    Execute steps <xref linkend="tc.MEDIA-2-3-13.10"/>-<xref linkend="tc.MEDIA-2-3-13.26"/>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If there is no profile with “fixed” attribute value “false” in profiles list, end test.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If the DUT sends <emphasis role="bold">CreateProfileResponse</emphasis> message, validate <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-13.15">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetCompatibleVideoSourceConfigurationsRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile</emphasis>) message to get compatible VideoSourceConfigurations for new profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetCompatibleVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddVideoSourceConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = first video source configuration from the list on step <xref linkend="tc.MEDIA-2-3-13.11"/> (VSC1), ProfileToken = New Profile</emphasis>) message to add VideoSourceConfiguration to the new profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">AddVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetCompatibleVideoEncoderConfigurationsRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile</emphasis>) message to get compatible VideoEncoderConfigurations for new profile with VideoSourceConfiguration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetCompatibleVideoEncoderConfigurationsResponse</emphasis> message. If response does not contain any VideoEncoderConfiguration, repeat steps <xref linkend="tc.MEDIA-2-3-13.12"/>-<xref linkend="tc.MEDIA-2-3-13.15"/> with next video source configuration from step <xref linkend="tc.MEDIA-2-3-13.11"/>. If there are no other video source configuration, skip other steps and go to the next test.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddVideoEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = first video encoder configuration from the list on step <xref linkend="tc.MEDIA-2-3-13.15"/> (VEC1), ProfileToken = New Profile</emphasis>) message to add VideoEncoderConfiguration to the new profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">AddVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = VEC1</emphasis>) message to retrieve video encoder configuration parameters.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check the UseCount value in <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message (<emphasis role="bold">UseCount = usecount1+1</emphasis>, usecount1 is the UseCount value for VEC1 from the list on step <xref linkend="tc.MEDIA-2-3-13.4"/>). If test step <xref linkend="tc.MEDIA-2-3-13.8"/> is executed, the usecount1 value could be reduced by 1.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-13.26">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddVideoEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile, ConfigurationToken = VEC1</emphasis>) message to replace video encoder configuration in profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">AddVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = VEC1</emphasis>) message to retrieve video encoder configuration parameters. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that <emphasis role="bold">UseCount = usecount1+1</emphasis>, in <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client restores DUT configuration.
                                </para>
                            </listitem>
                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetCompatibleVideoEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetCompatibleVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">AddVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    UseCount value is not increased by 1 after adding of the VideoEncoderConfiguration to one more profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    UseCount value is changed after repeated adding of the VideoEncoderConfiguration in profile.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                    </para>

                </section>
                <section xml:id="tc.MEDIA-2-3-14">
                    <title>VIDEO ENCODER CONFIGURATION USE COUNT (ADD DIFFERENT VIDEO ENCODER CONFIGURATIONS IN PROFILE)
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-2-3-14
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Add video encoder configuration to a profile, Get video encoder configurations, Get video encoder configuration.
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetVideoEncoderConfigurations, GetVideoEncoderConfiguration, AddVideoEncoderConfiguration
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check Video Encoder Configuration use count after adding different video encoder configurations to profile.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. There are at least two VideoEncoderConfigurations. ONVIF Client gets the Media Service entry point by GetCapabilities command. List of profiles is received by GetProfiles command
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationsRequest</emphasis> message to retrieve list of video encoder configurations from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-14.4">
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If there is only one VideoEncoderConfiguration in the <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message go to the next test.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurationsRequest</emphasis> message to retrieve list of video source configurations from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-14.8">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> (<emphasis role="bold">Name = New Name, Token = New Profile</emphasis>) message to create profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If the DUT will generate a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis>), 
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-14.10">
                                <para>
                                    If there is profile with “fixed” attribute value “false” in profiles list (<emphasis role="bold">profile1</emphasis>)
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-14.11">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">RemoveVideoEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ProfileToken = profile1</emphasis>) message to remove VideoEncoderConfiguration from <emphasis role="bold">profile1</emphasis>
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-14.12">
                                <para>
                                    The DUT sends <emphasis role="bold">RemoveVideoEncoderConfigurationResponse</emphasis> message
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Execute steps <xref linkend="tc.MEDIA-2-3-14.10"/>-<xref linkend="tc.MEDIA-2-3-14.29"/>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If there is no profile with “fixed” attribute value “false” in profiles list, end test.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-14.15">
                                <para>
                                    If the DUT sends <emphasis role="bold">CreateProfileResponse</emphasis> message, validate <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetCompatibleVideoSourceConfigurationsRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile</emphasis>) message to get compatible VideoSourceConfigurations for new profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetCompatibleVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddVideoSourceConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = first video source configuration from the list on step <xref linkend="tc.MEDIA-2-3-14.11"/> (VSC1), ProfileToken = New Profile</emphasis>) message to add VideoSourceConfiguration to the new profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">AddVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetCompatibleVideoEncoderConfigurationsRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile</emphasis>) message to get compatible VideoEncoderConfigurations for new profile with VideoSourceConfiguration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetCompatibleVideoEncoderConfigurationsResponse</emphasis> message. If response contains number of VideoEncoderConfiguration less than 2, repeat steps <xref linkend="tc.MEDIA-2-3-14.12"/>-<xref linkend="tc.MEDIA-2-3-14.15"/> with next video source configuration from step <xref linkend="tc.MEDIA-2-3-14.11"/>. If there are no other video source configuration, skip other steps and go to the next test.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddVideoEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = first video encoder configuration from the list on step <xref linkend="tc.MEDIA-2-3-14.15"/> (VEC1), ProfileToken = New Profile</emphasis>) message to add VideoEncoderConfiguration to the new profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">AddVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = VEC1</emphasis>) message to retrieve video encoder configuration parameters.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check the UseCount value in <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> (<emphasis role="bold">UseCount = usecount1+1</emphasis>, usecount1 is value of UseCount for VEC1 from the list on step <xref linkend="tc.MEDIA-2-3-14.4"/>).If step <xref linkend="tc.MEDIA-2-3-14.8"/> is executed; the usecount1 could be reduced by 1.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddVideoEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile, ConfigurationToken = VEC2, where VEC2 is other VEC from list on step <xref linkend="tc.MEDIA-2-3-14.15"/></emphasis>) message to replace video encoder configuration in profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">AddVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-14.29">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = VEC1</emphasis>) message to retrieve video encoder configuration parameters. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that <emphasis role="bold">UseCount = usecount1</emphasis>, in <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = VEC2</emphasis>) message to retrieve video encoder configuration parameters. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that <emphasis role="bold">UseCount = usecount2+1</emphasis>, in <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> where usecount2 is UseCount value for VEC2 in the list on step <xref linkend="tc.MEDIA-2-3-14.4"/>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client restores DUT configuration.
                                </para>
                            </listitem>
                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">AddVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetCompatibleVideoEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetCompatibleVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    UseCount value is not increased by 1 after adding of the VideoEncoderConfiguration to one more profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    UseCount value is not decreased by 1 after replacing of the VideoEncoderConfiguration in profile for removed VideoEncoderConfiguration and UseCount value is not increased by 1 after replacing of the VideoEncoderConfiguration in profile for new VideoEncoderConfiguration.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                    </para>
                </section>
                <section xml:id="tc.MEDIA-2-3-15">
                    <title>VIDEO ENCODER CONFIGURATION USE COUNT (REMOVE VIDEO ENCODER CONFIGURATION)
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-2-3-15
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Remove video encoder configuration from a profile, Get video encoder configurations, Get video encoder configuration.
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetVideoEncoderConfigurations, GetVideoEncoderConfiguration, RemoveVideoEncoderConfiguration 
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check Video Encoder Configuration use count after removing video encoder configuration from a profile.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command. List of profiles is received by GetProfiles command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationsRequest</emphasis> message to retrieve list of video encoder configurations from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-15.4">
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurationsRequest</emphasis> message to retrieve list of video source configurations from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> (<emphasis role="bold">Name = NewName, Token = New Profile</emphasis>) message to create profile.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-15.8">
                                <para>
                                    If the DUT will generate a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis>),
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If there is profile with “fixed” attribute value “false” in profiles list (<emphasis role="bold">profile1</emphasis>)
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-15.10">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">RemoveVideoEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ProfileToken = profile1</emphasis>) message to remove VideoEncoderConfiguration from profile1
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-15.11">
                                <para>
                                    The DUT sends <emphasis role="bold">RemoveVideoEncoderConfigurationResponse</emphasis> message
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-15.12">
                                <para>
                                    Execute steps <xref linkend="tc.MEDIA-2-3-15.10"/>-<xref linkend="tc.MEDIA-2-3-15.23"/>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If there is no profile with “fixed” attribute value “false” in profiles list, end test.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If the DUT sends <emphasis role="bold">CreateProfileResponse</emphasis> message, validate <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-15.15">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetCompatibleVideoSourceConfigurationsRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile</emphasis>) message to get compatible VideoSourceConfigurations for new profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetCompatibleVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddVideoSourceConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = first video source configuration from the list on step <xref linkend="tc.MEDIA-2-3-15.11"/> (VSC1), ProfileToken = New Profile</emphasis>) message to add VideoSourceConfiguration to the new profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">AddVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetCompatibleVideoEncoderConfigurationsRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile</emphasis>) message to get compatible VideoEncoderConfigurations for new profile with VideoSourceConfiguration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetCompatibleVideoEncoderConfigurationsResponse</emphasis> message. If response does not contain any VideoEncoderConfiguration, repeat steps <xref linkend="tc.MEDIA-2-3-15.12"/>-<xref linkend="tc.MEDIA-2-3-15.15"/> with next video source configuration from step <xref linkend="tc.MEDIA-2-3-15.11"/>. If there are no other video source configuration, skip other steps and go to the next test.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddVideoEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = first video encoder configuration from the list on step <xref linkend="tc.MEDIA-2-3-15.15"/> (VEC1), ProfileToken = New Profile</emphasis>) message to add VideoEncoderConfiguration to the new profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">AddVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-15.23">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">RemoveVideoEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile</emphasis>) message to remove video encoder configuration from NewProfileToken.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">RemoveVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = VEC1</emphasis>) message to retrieve video encoder configuration parameters.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that <emphasis role="bold">UseCount = usecount1</emphasis>, in <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> where usecount1 is UseCount value for VEC1 in the list on step <xref linkend="tc.MEDIA-2-3-15.4"/>.If step <xref linkend="tc.MEDIA-2-3-15.8"/> is executed, the usecount1 could be reduced by 1.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client restores DUT configuration.
                                </para>
                            </listitem>
                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">AddVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">RemoveVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetCompatibleVideoEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetCompatibleVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    UseCount value is not decreased by 1 after removing of the VideoEncoderConfiguration from profile.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                    </para>
                </section>
                <section xml:id="tc.MEDIA-2-3-16">
                    <title>VIDEO ENCODER CONFIGURATION USE COUNT (PROFILE DELETION WITH VIDEO ENCODER CONFIGURATION)
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-2-3-16
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get video encoder configurations, Get video encoder configuration, Delete media profile
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetVideoEncoderConfigurations, GetVideoEncoderConfiguration, DeleteProfile
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check Video Encoder Configuration use count after deletion of the profile with video encoder configuration
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command. List of profiles is received by GetProfiles command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationsRequest</emphasis> message to retrieve list of video encoder configurations from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-16.4">
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurationsRequest</emphasis> message to retrieve list of video source configurations from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> (<emphasis role="bold">Name = NewName, Token = New Profile</emphasis>) message to create profile.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-16.8">
                                <para>
                                    If the DUT will generate a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis>), 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If there is profile with “fixed” attribute value “false” in profiles list (<emphasis role="bold">profile1</emphasis>)
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-16.10">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">RemoveVideoEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ProfileToken = profile1</emphasis>) message to remove VideoEncoderConfiguration from profile1
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-16.11">
                                <para>
                                    The DUT sends <emphasis role="bold">RemoveVideoEncoderConfigurationResponse</emphasis> message
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-16.12">
                                <para>
                                    Execute steps <xref linkend="tc.MEDIA-2-3-16.10"/>-<xref linkend="tc.MEDIA-2-3-16.23"/>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If there is no profile with “fixed” attribute value “false” in profiles list, end test.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If the DUT sends <emphasis role="bold">CreateProfileResponse</emphasis> message, validate <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. 
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-16.15">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetCompatibleVideoSourceConfigurationsRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile</emphasis>) message to get compatible VideoSourceConfigurations for new profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetCompatibleVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddVideoSourceConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = first video source configuration from the list on step <xref linkend="tc.MEDIA-2-3-16.11"/> (VSC1), ProfileToken = New Profile</emphasis>) message to add VideoSourceConfiguration to the new profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">AddVideoSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetCompatibleVideoEncoderConfigurationsRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile</emphasis>) message to get compatible VideoEncoderConfigurations for new profile with VideoSourceConfiguration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetCompatibleVideoEncoderConfigurationsResponse</emphasis> message. If response does not contain any VideoEncoderConfiguration, repeat steps <xref linkend="tc.MEDIA-2-3-16.12"/>-<xref linkend="tc.MEDIA-2-3-16.15"/> with next video source configuration from step <xref linkend="tc.MEDIA-2-3-16.11"/>. If there are no other video source configuration, skip other steps and go to the next test.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddVideoEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = first video encoder configuration from the list on step <xref linkend="tc.MEDIA-2-3-16.15"/> (VEC1), ProfileToken = New Profile</emphasis>) message to add VideoEncoderConfiguration to the new profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">AddVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-16.23">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">DeleteProfileRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile</emphasis>) message to remove profile with video encoder configuration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">DeleteProfileResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = VEC1</emphasis>) message to retrieve video encoder configuration parameters. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that <emphasis role="bold">UseCount = usecount1</emphasis>, in <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> where usecount1 is UseCount value for VEC1 in the list on step <xref linkend="tc.MEDIA-2-3-16.4"/>. If step <xref linkend="tc.MEDIA-2-3-16.8"/> is executed, the usecount1 could be reduced by 1.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client restores DUT configuration.
                                </para>
                            </listitem>
                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">AddVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">DeleteProfileResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetCompatibleVideoEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetCompatibleVideoSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    UseCount value is not decreased by 1 after deletion of the profile with the VideoEncoderConfiguration.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                    </para>
                </section>
                <section xml:id="tc.MEDIA-2-3-17">
                    <title>VIDEO ENCODER CONFIGURATION USE COUNT (SET VIDEO ENCODER CONFIGURATION)
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-2-3-17
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get video encoder configurations, Get video encoder configuration, Modify a video encoder configuration.
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetVideoEncoderConfigurations, GetVideoEncoderConfiguration, SetVideoEncoderConfiguration
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check Video Encoder Configuration use count after setting video encoder configuration parameters.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationsRequest</emphasis> message to retrieve list of video encoder configurations from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-17.4">
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> (<emphasis role="bold">token = the first Video Encoder Configuration from the list on step <xref linkend="tc.MEDIA-2-3-17.4"/>(VEC1), UseCount = NewUseCount</emphasis>) message to set parameters for video encoder configuration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = VEC1</emphasis>) message to retrieve video encoder configuration parameters. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that <emphasis role="bold">UseCount = usecount1</emphasis>, in <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> where usecount1 is UseCount value for VEC1 in the list on step <xref linkend="tc.MEDIA-2-3-17.4"/>.
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">RemoveVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">RemoveVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    UseCount value is changed after trying to set UseCount value. 
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                    </para>
                </section>
                <section xml:id="tc.MEDIA-2-3-18">
                    <title>VIDEO ENCODER CONFIGURATIONS – ALL SUPPORTED VIDEO ENCODINGS (ALL VIDEO ENCODER CONFIGURATIONS)
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-2-3-18
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> None
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> None
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To verify whether all supported encodings can be set.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Media Service was received from the DUT. 
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client will invoke <emphasis role="bold">GetVideoEncoderConfigurationsRequest</emphasis> message to retrieve all DUT video encoder configurations.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Verify the <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message from the DUT.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-18.5">
                                <para>
                                    ONVIF Client will invoke <emphasis role="bold">GetVideoEncoderConfigurationOptionsRequest</emphasis> message (<emphasis role="bold">ConfigurationToken = “Token1”, where “Token1” is a first video encoder configuration token from GetVideoEncoderConfigurationsResponse message, no ProfileToken</emphasis>) to retrieve supported video encoder configuration options.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Verify the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message from the DUT.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-18.7">
                                <para>
                                    ONVIF Client will invoke <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> message (<emphasis role="bold">Configuration.token = “Token1”, where “Token1” is a first video encoder configuration token from GetVideoEncoderConfigurationsResponse message, Configuration.Encoding = “codec1”, where “codec1” is a first supported codec from GetVideoEncoderConfigurationOptionsResponse message, other Configuration parameters that are applicable for selected Encoding</emphasis>) to change video encoder configuration settings.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Verify the <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message from the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client will invoke <emphasis role="bold">GetVideoEncoderConfigurationRequest</emphasis> message (<emphasis role="bold">ConfigurationToken = “Token1”, where “Token1” is a first video encoder configuration token from GetVideoEncoderConfigurationsResponse message</emphasis>) to retrieve DUT video encoder configuration for specified token.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-18.10">
                                <para>
                                    Verify the <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message from the DUT. Check that video encoder setting was applied.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-2-3-18.11">
                                <para>
                                    Repeat steps <xref linkend="tc.MEDIA-2-3-18.7"/>-<xref linkend="tc.MEDIA-2-3-18.10"/> for the rest Video Encodings supported by selected configuration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Repeat steps <xref linkend="tc.MEDIA-2-3-18.5"/>-<xref linkend="tc.MEDIA-2-3-18.11"/> for the rest Video Encoder Configuration supported by the DUT.
                                </para>
                            </listitem>
                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sent <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message with Configuration.Encoding other then was set up with SetVideoEncoderConfigurationRequest message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                    </para>
                </section>

            </section>
        </section>
        <!--Audio Configuration-->
        <section xml:id="tc.media_configuration.audio_configuration">
            <title>Audio Configuration</title>

            <section xml:id="tc.MEDIA-3-1-7">
                <title>GET AUDIO SOURCE CONFIGURATION OPTIONS 
                </title>
                <para>
                    <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-1-7
                </para>
                <para>
                    <emphasis role="bold">Specification Coverage:</emphasis> Get audio source configuration options 
                </para>
                <para>
                    <emphasis role="bold">Feature Under Test:</emphasis> GetAudioSourceConfigurationOptions 
                </para>
                <para>
                    <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                </para>
                <para>
                    <emphasis role="bold">Test Purpose:</emphasis> To verify the behavior of GetAudioSourceConfigurationOptions command with different parameters.
                </para>
                <para>
                    <emphasis role="bold">Pre-Requisite:</emphasis> Audio is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command.
                </para>
                <para>
                    <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                </para>
                <para>
                    <emphasis role="bold">Test Procedure:</emphasis>
                </para>
                <para>
                    <orderedlist>
                        <?dbfo label-width="1.5em"?>
                        <listitem>
                            <para>
                                Start an ONVIF Client.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Start the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationOptionsRequest</emphasis> (empty) message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT sends <emphasis role="bold">GetAudioSourceConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Verify <emphasis role="bold">GetAudioSourceConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetProfilesRequest</emphasis> message to get list of existing profiles from device.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT sends <emphasis role="bold">GetProfilesResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                For each profile (<emphasis role="italic">profile</emphasis>) in <emphasis role="bold">GetProfilesResponse</emphasis>:
                                <orderedlist numeration="arabic" inheritnum="inherit">
                                    <?dbfo label-width="2.5em"?>
                                    <listitem>
                                        <para>
                                            ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurations</emphasis> message (ProfileToken = <emphasis role="italic">profile</emphasis>.@token) to get list of audio source configurations compatible with a profile.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            The DUT sends <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message with parameters
                                            <itemizedlist>
                                                <listitem>
                                                    <para>
                                                        Configurations list =: <emphasis role="italic">audioSourceConfList</emphasis>
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            If <emphasis role="italic">audioSourceConfList</emphasis> is not empty, go to step <xref linkend="tc.MEDIA-3-1-7.9"/>.
                                        </para>
                                    </listitem>
                                </orderedlist>
                            </para>
                        </listitem>
                        <listitem xml:id="tc.MEDIA-3-1-7.9">
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationOptionsRequest</emphasis> (ConfigurationToken = <emphasis role="italic">audioSourceConfList</emphasis>[0].@token) message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT sends <emphasis role="bold">GetAudioSourceConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Verify <emphasis role="bold">GetAudioSourceConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationOptionsRequest</emphasis> (ProfileToken = <emphasis role="italic">profile</emphasis>.@token) message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT sends <emphasis role="bold">GetAudioSourceConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Verify <emphasis role="bold">GetAudioSourceConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationOptionsRequest</emphasis> (ProfileToken = <emphasis role="italic">profile</emphasis>.@token, ConfigurationToken = <emphasis role="italic">audioSourceConfList</emphasis>[0].@token) message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT sends <emphasis role="bold">GetAudioSourceConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Verify <emphasis role="bold">GetAudioSourceConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                    </orderedlist>
                </para>
                <para>
                    <emphasis role="bold">Test Result:</emphasis>
                </para>
                <para>
                    <emphasis role="bold">PASS –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT passes all assertions.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">FAIL –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">GetProfilesResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send valid <emphasis role="bold">GetProfilesResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send valid <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">GetAudioSourceConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send valid <emphasis role="bold">GetAudioSourceConfigurationOptionsResponse</emphasis> message for one or more <emphasis role="bold">GetAudioSourceConfigurationOptionsRequest</emphasis> messages.
                            </para>
                        </listitem>

                    </itemizedlist>
                </para>
            </section>
            <section xml:id="tc.MEDIA-3-1-14">
                <title>G.711 AUDIO ENCODER CONFIGURATION
                </title>
                <para>
                    <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-1-14
                </para>
                <para>
                    <emphasis role="bold">Specification Coverage:</emphasis> Get audio encoder configurations, Get audio encoder configuration, Get audio encoder configuration options, Modify audio encoder configurations
                </para>
                <para>
                    <emphasis role="bold">Feature Under Test:</emphasis> None
                </para>
                <para>
                    <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                </para>
                <para>
                    <emphasis role="bold">Test Purpose:</emphasis> To verify DUT G.711 Audio Encoder Configuration Setting
                </para>
                <para>
                    <emphasis role="bold">Pre-Requisite:</emphasis> Audio is supported by DUT
                </para>
                <para>
                    <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                </para>
                <para>
                    <emphasis role="bold">Test Procedure:</emphasis>
                </para>
                <para>
                    <orderedlist>
                        <?dbfo label-width="1.5em"?>
                        <listitem>
                            <para>
                                Start an ONVIF Client.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Start the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurations</emphasis> request.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT sends the list of supported audio encoder configurations in <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem xml:id="tc.MEDIA-3-1-14.5">
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationOptions</emphasis> Request (Audio Encoder Configuration token) to retrieve audio encoder configuration options for the specified audio encoder configuration.
                            </para>
                        </listitem>
                        <listitem xml:id="tc.MEDIA-3-1-14.6">
                            <para>
                                DUT sends the range of configurable values for the received audio encoder configuration in the <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Test steps <xref linkend="tc.MEDIA-3-1-14.5"/> &amp; <xref linkend="tc.MEDIA-3-1-14.6"/> have to be repeated for all audio encoder configurations until ONVIF Client finds a audio encoder configuration with G.711 encoding support
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfiguration</emphasis> request with G.711 configuration values outside the range defined in the <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> and ‘ForcePersistence’ flag as ‘FALSE’.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT send the SOAP 1.2 fault message (<emphasis role="bold">InvalidArgVal/ConfigModify</emphasis>).
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the SOAP fault message sent by DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfiguration</emphasis> request (Encoding = “G711”, Bit Rate = r1, Sample Rate = r2 and force persistence = false). These values will be taken from the <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT modifies G.711 audio encoder configuration and responds with <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message indicating success.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the G.711 audio Encoder Configuration settings on DUT by invoking <emphasis role="bold">GetAudioEncoderConfiguration</emphasis> request.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT sends modified G.711 audio Encoder Configuration in the <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message (Encoding = “G711”, Bit Rate = r1, Sample Rate = r2).
                            </para>
                        </listitem>
                    </orderedlist>
                </para>
                <para>
                    <emphasis role="bold">Test Result:</emphasis>
                </para>
                <para>
                    <emphasis role="bold">PASS –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT passes all assertions.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">FAIL –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT doesn’t support G.711 audio encoding.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send the SOAP 1.2 fault message (<emphasis role="bold">InvalidArgVal/ConfigModify</emphasis>) for invalid <emphasis role="bold">SetAudioEncoderConfiguration</emphasis> request.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not modify G.711 Audio Encoder Configuration.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                </para>
            </section>
            <section xml:id="tc.MEDIA-3-1-15">
                <title>G.726 AUDIO ENCODER CONFIGURATION
                </title>
                <para>
                    <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-1-15
                </para>
                <para>
                    <emphasis role="bold">Specification Coverage:</emphasis> Get audio encoder configurations, Get audio encoder configuration, Get audio encoder configuration options, Modify audio encoder configurations
                </para>
                <para>
                    <emphasis role="bold">Feature Under Test:</emphasis> None
                </para>
                <para>
                    <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                </para>
                <para>
                    <emphasis role="bold">Test Purpose:</emphasis> To verify DUT G.726 Audio Encoder Configuration Setting
                </para>
                <para>
                    <emphasis role="bold">Pre-Requisite:</emphasis> Audio is supported by DUT and G.726 is implemented by DUT.
                </para>
                <para>
                    <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                </para>
                <para>
                    <emphasis role="bold">Test Procedure:</emphasis>
                </para>
                <para>
                    <orderedlist>
                        <?dbfo label-width="1.5em"?>
                        <listitem>
                            <para>
                                Start an ONVIF Client.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Start the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurations</emphasis> request.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT sends the list of supported audio encoder configurations in <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem xml:id="tc.MEDIA-3-1-15.5">
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationOptions</emphasis> Request (Audio Encoder Configuration token) to retrieve audio encoder configuration options for the specified audio encoder configuration.
                            </para>
                        </listitem>
                        <listitem xml:id="tc.MEDIA-3-1-15.6">
                            <para>
                                DUT sends the range of configurable values for the received audio encoder configuration in the <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Test steps <xref linkend="tc.MEDIA-3-1-15.5"/> &amp; <xref linkend="tc.MEDIA-3-1-15.6"/> have to be repeated for all audio encoder configurations until ONVIF Client finds a audio encoder configuration with G.726 encoding support
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfiguration</emphasis> request with G.726 configuration values outside the range defined in the <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> and ‘ForcePersistence’ flag as ‘FALSE’.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT send the SOAP 1.2 fault message (<emphasis role="bold">InvalidArgVal/ConfigModify</emphasis>).
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the SOAP fault message sent by DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfiguration</emphasis> request (Encoding = “G726”, Bit Rate = r1, Sample Rate = r2 and force persistence = false). These values will be taken from the <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT modifies G.726 audio encoder configuration and responds with <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message indicating success.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the G.726 audio Encoder Configuration settings on DUT by invoking <emphasis role="bold">GetAudioEncoderConfiguration</emphasis> request.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT sends the modified G.726 audio Encoder Configuration in the <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message (Encoding = “G726”, Bit Rate = r1, Sample Rate = r2).
                            </para>
                        </listitem>
                    </orderedlist>
                </para>
                <para>
                    <emphasis role="bold">Test Result:</emphasis>
                </para>
                <para>
                    <emphasis role="bold">PASS –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT passes all assertions.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">FAIL –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT doesn’t support G.726 audio encoding.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send the SOAP 1.2 fault message (<emphasis role="bold">InvalidArgVal/ConfigModify</emphasis>) for invalid <emphasis role="bold">SetAudioEncoderConfiguration</emphasis> request.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not modify G.726 Audio Encoder Configuration.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                </para>
            </section>
            <section xml:id="tc.MEDIA-3-1-16">
                <title>AAC AUDIO ENCODER CONFIGURATION
                </title>
                <para>
                    <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-1-16
                </para>
                <para>
                    <emphasis role="bold">Specification Coverage:</emphasis> Get audio encoder configurations, Get audio encoder configuration, Get audio encoder configuration options, Modify audio encoder configurations
                </para>
                <para>
                    <emphasis role="bold">Feature Under Test:</emphasis> None
                </para>
                <para>
                    <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                </para>
                <para>
                    <emphasis role="bold">Test Purpose:</emphasis> To verify DUT AAC Audio Encoder Configuration Setting
                </para>
                <para>
                    <emphasis role="bold">Pre-Requisite:</emphasis> Audio is supported by DUT and AAC is implemented by DUT.
                </para>
                <para>
                    <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                </para>
                <para>
                    <emphasis role="bold">Test Procedure:</emphasis>
                </para>	
                <para>
                    <orderedlist>
                        <?dbfo label-width="1.5em"?>
                        <listitem>
                            <para>
                                Start an ONVIF Client.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Start the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurations</emphasis> request.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT sends the list of supported audio encoder configurations in <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem xml:id="tc.MEDIA-3-1-16.5">
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationOptions</emphasis> Request (Audio Encoder Configuration token) to retrieve audio encoder configuration options for the specified audio encoder configuration.
                            </para>
                        </listitem>
                        <listitem xml:id="tc.MEDIA-3-1-16.6">
                            <para>
                                DUT sends the range of configurable values for the received audio encoder configuration in the <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Test steps <xref linkend="tc.MEDIA-3-1-16.5"/> &amp; <xref linkend="tc.MEDIA-3-1-16.6"/> have to be repeated for all audio encoder configurations until ONVIF Client finds a audio encoder configuration with AAC encoding support
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfiguration</emphasis> request with AAC configuration values outside the range defined in the <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> and ‘ForcePersistence’ flag as ‘FALSE’.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT send the SOAP 1.2 fault message (<emphasis role="bold">InvalidArgVal/ConfigModify</emphasis>).
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the SOAP fault message sent by DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfiguration</emphasis> request (Encoding = “AAC”, Bit Rate = r1, Sample Rate = r2 and force persistence = false). These values will be taken from the <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT modifies AAC audio encoder configuration and responds with <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message indicating success.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the AAC audio Encoder Configuration settings on DUT by invoking <emphasis role="bold">GetAudioEncoderConfiguration</emphasis> request.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT sends modified AAC audio Encoder Configuration in the <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message (Encoding = “AAC”, Bit Rate = r1, Sample Rate = r2).
                            </para>
                        </listitem>
                    </orderedlist>
                </para>
                <para>
                    <emphasis role="bold">Test Result:</emphasis>
                </para>
                <para>
                    <emphasis role="bold">PASS –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT passes all assertions.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">FAIL –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT doesn’t support AAC audio encoding.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send the SOAP 1.2 fault message (<emphasis role="bold">InvalidArgVal/ConfigModify</emphasis>) for invalid <emphasis role="bold">SetAudioEncoderConfiguration</emphasis> request.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not modify AAC Audio Encoder Configuration.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                </para>
            </section>
            <section xml:id="tc.MEDIA-3-1-17">
                <title>GET AUDIO SOURCE CONFIGURATION – INVALID CONFIGURATIONTOKEN 
                </title>
                <para>
                    <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-1-17
                </para>
                <para>
                    <emphasis role="bold">Specification Coverage:</emphasis> Get audio source configuration 
                </para>
                <para>
                    <emphasis role="bold">Feature Under Test:</emphasis> GetAudioSourceConfiguration 
                </para>
                <para>
                    <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                </para>
                <para>
                    <emphasis role="bold">Test Purpose:</emphasis> To verify the behavior of GetAudioSourceConfiguration command in case of invalid ConfigurationToken.
                </para>
                <para>
                    <emphasis role="bold">Pre-Requisite:</emphasis> Audio is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command.
                </para>
                <para>
                    <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                </para>
                <para>
                    <emphasis role="bold">Test Procedure:</emphasis>
                </para>
                <para>
                    <orderedlist>
                        <?dbfo label-width="1.5em"?>
                        <listitem>
                            <para>
                                Start an ONVIF Client.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Start the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationRequest</emphasis> (invalid ConfigurationToken) message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT will generate a SOAP 1.2 fault message (<emphasis role="bold">InvalidArgVal/NoConfig</emphasis>). 
                            </para>
                        </listitem>
                    </orderedlist>
                </para>
                <para>
                    <emphasis role="bold">Test Result:</emphasis>
                </para>
                <para>
                    <emphasis role="bold">PASS –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT passes all assertions.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">FAIL –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                The DUT did not send SOAP 1.2 fault message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT sent incorrect SOAP 1.2 fault message (fault code, namespace, etc.).
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">NOTE:</emphasis> Other faults than specified in the test are acceptable but specified is preferable.
                </para>
                <para>
                    <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.


                </para>
            </section>
            <section xml:id="tc.MEDIA-3-1-18">
                <title>GET AUDIO SOURCE CONFIGURATION OPTIONS – INVALID PROFILETOKEN 
                </title>
                <para>
                    <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-1-18
                </para>
                <para>
                    <emphasis role="bold">Specification Coverage:</emphasis> Get audio source configuration options 
                </para>
                <para>
                    <emphasis role="bold">Feature Under Test:</emphasis> GetAudioSourceConfigurationOptions 
                </para>
                <para>
                    <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                </para>
                <para>
                    <emphasis role="bold">Test Purpose:</emphasis> To verify the behavior of GetAudioSourceConfigurationOptions command in case of invalid ProfileToken.
                </para>
                <para>
                    <emphasis role="bold">Pre-Requisite:</emphasis> Audio is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command.
                </para>
                <para>
                    <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                </para>
                <para>
                    <emphasis role="bold">Test Procedure:</emphasis>
                </para>
                <para>
                    <orderedlist>
                        <?dbfo label-width="1.5em"?>
                        <listitem>
                            <para>
                                Start an ONVIF Client.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Start the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationOptionsRequest</emphasis> (invalid ProfileToken) message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT will generate a SOAP 1.2 fault message (<emphasis role="bold">InvalidArgVal/NoProfile</emphasis>). 
                            </para>
                        </listitem>
                    </orderedlist>
                </para>
                <para>
                    <emphasis role="bold">Test Result:</emphasis>
                </para>
                <para>
                    <emphasis role="bold">PASS –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT passes all assertions.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">FAIL –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                The DUT did not send SOAP 1.2 fault message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT sent incorrect SOAP 1.2 fault message (fault code, namespace, etc.).
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">NOTE:</emphasis> Other faults than specified in the test are acceptable but specified is preferable.
                </para>
                <para>
                    <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                </para>
            </section>
            <section xml:id="tc.MEDIA-3-1-19">
                <title>GET AUDIO SOURCE CONFIGURATION OPTIONS – INVALID CONFIGURATION TOKEN 
                </title>
                <para>
                    <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-1-19
                </para>
                <para>
                    <emphasis role="bold">Specification Coverage:</emphasis> Get audio source configuration options 
                </para>
                <para>
                    <emphasis role="bold">Feature Under Test:</emphasis> GetAudioSourceConfigurationOptions 
                </para>
                <para>
                    <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                </para>
                <para>
                    <emphasis role="bold">Test Purpose:</emphasis> To verify the behavior of GetAudioSourceConfigurationOptions command in case of invalid ConfigurationToken.
                </para>
                <para>
                    <emphasis role="bold">Pre-Requisite:</emphasis> Audio is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command.
                </para>
                <para>
                    <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                </para>
                <para>
                    <emphasis role="bold">Test Procedure:</emphasis>
                </para>
                <para>
                    <orderedlist>
                        <?dbfo label-width="1.5em"?>
                        <listitem>
                            <para>
                                Start an ONVIF Client.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Start the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationOptionsRequest</emphasis> (invalid ConfigurationToken) message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT will generate a SOAP 1.2 fault message (<emphasis role="bold">InvalidArgVal/NoConfig</emphasis>). 
                            </para>
                        </listitem>
                    </orderedlist>
                </para>
                <para>
                    <emphasis role="bold">Test Result:</emphasis>
                </para>
                <para>
                    <emphasis role="bold">PASS –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT passes all assertions.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">FAIL –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                The DUT did not send SOAP 1.2 fault message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT sent incorrect SOAP 1.2 fault message (fault code, namespace, etc.).
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">NOTE:</emphasis> Other faults than specified in the test are acceptable but specified is preferable.
                </para>
                <para>
                    <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                </para>
            </section>
            <section xml:id="tc.MEDIA-3-1-20">
                <title>SET AUDIO SOURCE CONFIGURATION – INVALID TOKEN
                </title>
                <para>
                    <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-1-20
                </para>
                <para>
                    <emphasis role="bold">Specification Coverage:</emphasis> Modify an audio source configuration 
                </para>
                <para>
                    <emphasis role="bold">Feature Under Test:</emphasis> SetAudioSourceConfiguration
                </para>
                <para>
                    <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                </para>
                <para>
                    <emphasis role="bold">Test Purpose:</emphasis> To verify the behavior of SetAudioSourceConfiguration command in case of invalid ConfigurationToken.
                </para>
                <para>
                    <emphasis role="bold">Pre-Requisite:</emphasis> Audio is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command.
                </para>
                <para>
                    <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                </para>
                <para>
                    <emphasis role="bold">Test Procedure:</emphasis>
                </para>
                <para>
                    <orderedlist>
                        <?dbfo label-width="1.5em"?>
                        <listitem>
                            <para>
                                Start an ONVIF Client.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Start the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">SetAudioSourceConfigurationRequest</emphasis> (invalid ConfigurationToken) message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT will generate a SOAP 1.2 fault message (<emphasis role="bold">InvalidArgVal/NoConfig</emphasis>).
                            </para>
                        </listitem>
                    </orderedlist>
                </para>
                <para>
                    <emphasis role="bold">Test Result:</emphasis>
                </para>
                <para>
                    <emphasis role="bold">PASS –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT passes all assertions.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">FAIL –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                The DUT did not send SOAP 1.2 fault message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT sent incorrect SOAP 1.2 fault message (fault code, namespace, etc.).
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">NOTE:</emphasis> Other faults than specified in the test are acceptable but specified is preferable.
                </para>
                <para>
                    <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                </para>
            </section>
            <section xml:id="tc.MEDIA-3-1-21">
                <title>SET AUDIO ENCODER CONFIGURATION
                </title>
                <para>
                    <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-1-21
                </para>
                <para>
                    <emphasis role="bold">Specification Coverage:</emphasis> Create media profile, Add audio source configuration to a profile, Add audio encoder configuration to a profile, Remove audio source configuration from a profile, Remove audio encoder configuration from a profile, Delete media profile, Get audio source configurations, Get audio encoder configurations, Get compatible audio encoder configurations, Set audio encoder configuration 
                </para>
                <para>
                    <emphasis role="bold">Feature Under Test:</emphasis> SetAudioEncoderConfiguration
                </para>
                <para>
                    <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                </para>
                <para>
                    <emphasis role="bold">Test Purpose:</emphasis> To verify DUT Audio Encoder Configuration Operations
                </para>
                <para>
                    <emphasis role="bold">Pre-Requisite:</emphasis> Audio is supported by DUT. 
                </para>
                <para>
                    <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                </para>
                <para>
                    <emphasis role="bold">Test Procedure:</emphasis>
                </para>
                <para>
                    <orderedlist>
                        <?dbfo label-width="1.5em"?>
                        <listitem>
                            <para>
                                Start an ONVIF Client.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Start the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> message (ProfileToken = ‘testprofileX’) to create new profile.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Verify <emphasis role="bold">CreateProfileResponse</emphasis> message or SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis>) from the DUT. If fault was received execute <xref linkend="Annex_HelperCreateEmptyProfile"/>.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client will invoke <emphasis role="bold">GetCompatibleAudioSourceConfigurationsRequest</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio source configurations compatible with profile. 
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the list of audio source configurations sent by DUT. 
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationRequest</emphasis> message (ProfileToken = ‘testprofileX’, ConfigurationToken as one of the tokens received in the <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message) to add audio source configuration to profile.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT adds the audio source configuration to the profile and sends the response. 
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsRequest</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve audio encoder configurations compatible with profile.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT sends the list of audio encoder configurations compatible with the received media profile token.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> message (ProfileToken = ‘testprofileX’, ConfigurationToken as one of the tokens received in the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message) to add audio encoder configuration to profile.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT adds the audio encoder configuration to the profile and sends the response.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> (ProfileToken = ‘testprofileX’) request to retrieve audio encoder options for specified profile. 
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT sends the audio encoder configuration options which could be applied to audio encoder from specified profile.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (ConfigurationToken, Encoding = [other than current], Bitrate = [other than current], SampleRate = [other than current], ForcePersistence = false, where all values was taken from audio encoder configuration options) to change 
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT sends <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationRequest</emphasis> message (ConfigurationToken) to get new audio encoder configuration parameters.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT sends <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message with parameters specified in set request.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client checks that Audio configuration in <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message is the same as in <emphasis role="bold" service="skip">SetAudioEncoderConfigurationRequest</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                If used created Media Profile then ONVIF Client invokes <emphasis role="bold">DeleteProfileRequest</emphasis> message (ProfileToken = ‘testprofileX’). Otherwise ONVIF client skip rest steps and restore profile settings.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT deletes the media profile and sends the response.
                            </para>
                        </listitem>
                    </orderedlist>
                </para>
                <para>
                    <emphasis role="bold">Test Result:</emphasis>
                </para>
                <para>
                    <emphasis role="bold">PASS –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT passes all assertions.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">FAIL –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                The DUT did not send valid <emphasis role="bold">CreateProfileResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send valid <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send valid <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send valid <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send valid <emphasis role="bold">AddAudioEncoderConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send valid <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT sent Audio configuration in <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message different with <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                </para>
            </section>
            <section xml:id="tc.MEDIA-3-1-22">
                <title>AUDIO SOURCE CONFIGURATION
                </title>
                <para>
                    <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-1-22
                </para>
                <para>
                    <emphasis role="bold">Specification Coverage:</emphasis> Create media profile, Add audio source configuration to a profile, Remove audio source configuration from a profile, Delete media profile, Get audio sources, Get audio source configurations, Get audio source configuration, Get compatible audio source configurations, Get audio source configuration options, Modify an audio source configuration.
                </para>
                <para>
                    <emphasis role="bold">Feature Under Test:</emphasis> None
                </para>
                <para>
                    <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                </para>
                <para>
                    <emphasis role="bold">Test Purpose:</emphasis> To verify DUT Audio Source Configuration Operations
                </para>
                <para>
                    <emphasis role="bold">Pre-Requisite:</emphasis> Audio is supported by the DUT
                </para>
                <para>
                    <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                </para>
                <para>
                    <emphasis role="bold">Test Procedure:</emphasis>
                </para>
                <para>
                    <orderedlist>
                        <?dbfo label-width="1.5em"?>
                        <listitem>
                            <para>
                                Start an ONVIF Client.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Start the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">CreateProfile</emphasis> request with ProfileToken = ‘testprofileX’.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Verify CreateProfileResponse message or SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis>) from the DUT. If fault was received execute <xref linkend="Annex_HelperCreateEmptyProfile"/>.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetAudioSources</emphasis> request to retrieve the existing audio sources of DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the list of audio sources sent by DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurations</emphasis> request to retrieve the list of audio source configurations supported by the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the list of audio source configurations sent by DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurations</emphasis> request with ‘testprofileX’ as ProfileToken.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT sends the list of audio source configurations compatible with the received media profile token.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfiguration</emphasis> request message with ProfileToken as ‘testprofileX’ and ConfigurationToken as one of the tokens in <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis>.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT adds the audio source configuration to the media profile and sends the response.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationOptions</emphasis> request with ConfigurationToken as the same token sent in the <emphasis role="bold" service="skip">AddAudioSourceConfiguration</emphasis> request.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT sends the configurable options supported for the received audio source configuration.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">SetAudioSourceConfiguration</emphasis> request with audio source configuration values outside the range defined in <emphasis role="bold">GetAudioSourceConfigurationOptionsResponse</emphasis> and ‘ForcePersistence’ flag as ‘FALSE’.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT send the SOAP 1.2 fault message (<emphasis role="bold">InvalidArgVal/ConfigModify</emphasis>).
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the SOAP fault message sent by DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">SetAudioSourceConfiguration</emphasis> request with audio source configuration values as defined in <emphasis role="bold">GetAudioSourceConfigurationOptionsResponse</emphasis> and ‘ForcePersistence’ flag as ‘FALSE’.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT modifies the audio source configuration and sends the <emphasis role="bold">SetAudioSourceConfigurationResponse</emphasis> message indicating success.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the modified audio source configuration by invoking the <emphasis role="bold">GetAudioSourceConfiguration</emphasis> request.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT sends the modified audio source configuration in <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis>.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">RemoveAudioSourceConfiguration</emphasis> request with ProfileToken as ‘testprofileX’.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT removes the audio source configuration token from media profile and sends the response.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                If profile with profile token = testprofileX was created during test execution, then ONVIF Client invokes <emphasis role="bold">DeleteProfile</emphasis> request with ProfileToken as ‘testprofileX’. Otherwise, ONVIF client skip the rest steps and restore profile settings.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT deletes the media profile and sends the response.
                            </para>
                        </listitem>

                    </orderedlist>
                </para>
                <para>
                    <emphasis role="bold">Test Result:</emphasis>
                </para>
                <para>
                    <emphasis role="bold">PASS –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT passes all assertions.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">FAIL –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">CreateProfileResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send valid <emphasis role="bold">GetAudioSourcesResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send valid <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">GetAudioSourceConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send the SOAP 1.2 fault message (<emphasis role="bold">InvalidArgVal/ConfigModify</emphasis>) for invalid <emphasis role="bold">SetAudioSourceConfiguration</emphasis> request.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">SetAudioSourceConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not modify audio source configuration correctly.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">RemoveAudioSourceConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">DeleteProfileResponse</emphasis> message.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.
                </para>
                <para>
                    <emphasis role="bold">NOTE:</emphasis> If profile was deleted during <xref linkend="Annex_HelperCreateEmptyProfile"/> execution, ONVIF Client restores the deleted profile and profile settings.

                </para>
            </section>

            <section xml:id="tc.MEDIA-3-1-23">
                <title>AUDIO ENCODER CONFIGURATION
                </title>
                <para>
                    <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-1-23
                </para>
                <para>
                    <emphasis role="bold">Specification Coverage:</emphasis> Create media profile, Add audio source configuration to a profile, Add audio encoder configuration to a profile, Remove audio source configuration from a profile, Remove audio encoder configuration from a profile, Delete media profile, Get audio source configurations, Get audio encoder configurations, Get compatible audio encoder configurations.
                </para>
                <para>
                    <emphasis role="bold">Feature Under Test:</emphasis> None
                </para>
                <para>
                    <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                </para>
                <para>
                    <emphasis role="bold">Test Purpose:</emphasis> To verify DUT Audio Encoder Configuration Operations
                </para>
                <para>
                    <emphasis role="bold">Pre-Requisite:</emphasis> Audio is supported by the DUT
                </para>
                <para>
                    <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                </para>
                <para>
                    <emphasis role="bold">Test Procedure:</emphasis>
                </para>
                <para>
                    <orderedlist>
                        <?dbfo label-width="1.5em"?>
                        <listitem>
                            <para>
                                Start an ONVIF Client.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Start the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">CreateProfile</emphasis> request with ProfileToken = ‘testprofileX’.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Verify <emphasis role="bold">CreateProfileResponse</emphasis> message or SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis>) from the DUT. If fault was received, execute <xref linkend="Annex_HelperCreateEmptyProfile"/>.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client will invoke <emphasis role="bold">GetAudioSourceConfigurations</emphasis> request to retrieve the list of audio source configurations supported by DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the list of audio source configurations sent by DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfiguration</emphasis> request message with ProfileToken as ‘testprofileX’ and ConfigurationToken as one of the tokens received in the <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis>.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT adds the audio source configuration to the profile and sends the response.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client will invoke <emphasis role="bold">GetAudioEncoderConfigurations</emphasis> request to retrieve the list of audio encoder configurations supported by DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the list of audio encoder configurations sent by DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioEncoderConfigurations</emphasis> request with ‘testprofileX’ as ProfileToken.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT sends the list of audio encoder configurations compatible with the received media profile token.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfiguration</emphasis> request message with ProfileToken as ‘testprofileX’ and ConfigurationToken as one of the tokens received in the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis>.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT adds the audio encoder configuration to the profile and sends the response.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">RemoveAudioEncoderConfiguration</emphasis> request with ProfileToken as ‘testprofileX’.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT removes the audio encoder configuration token from media profile and sends the response.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">RemoveAudioSourceConfiguration</emphasis> request with ProfileToken as ‘testprofileX’.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT removes the audio source configuration token from media profile and sends the response.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                If profile with profile token = testprofileX was created during test execution, then ONVIF Client invokes <emphasis role="bold">DeleteProfile</emphasis> request with ProfileToken as ‘testprofileX’. Otherwise, ONVIF client skip rest steps and restore profile settings.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT deletes the media profile and sends the response.
                            </para>
                        </listitem>

                    </orderedlist>
                </para>
                <para>
                    <emphasis role="bold">Test Result:</emphasis>
                </para>
                <para>
                    <emphasis role="bold">PASS –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT passes all assertions.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">FAIL –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">CreateProfileResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send valid <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send valid <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">AddAudioEncoderConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">RemoveAudioEncoderConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">RemoveAudioSourceConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">DeleteProfileResponse</emphasis> message.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.
                </para>
                <para>
                    <emphasis role="bold">NOTE:</emphasis> If profile was deleted during <xref linkend="Annex_HelperCreateEmptyProfile"/> execution, ONVIF Client restores the deleted profile and profile settings.

                </para>
            </section>


            <!--Audio Source Configuration-->
            <section xml:id="tc.media_configuration.audio_source_configuration">
                <title>Audio Source Configuration</title>

                <section xml:id="tc.MEDIA-3-2-1">
                    <title>AUDIO SOURCE CONFIGURATIONS AND PROFILES CONSISTENCY
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-2-1
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get media profiles, Get audio source configurations 
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetProfiles, GetAudioSourceConfigurations 
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check that GetAudioSourceConfigurations command and GetProfiles command are consistent.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Audio is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetProfilesRequest</emphasis> message to retrieve list of profiles and their configurations.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetProfilesResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationsRequest</emphasis> message to retrieve list of Audio Source Configurations from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that each AudioSourceConfiguration from <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message has unique token.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that each AudioSourceConfiguration from the <emphasis role="bold">GetProfilesResponse</emphasis> message are included in the <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that AudioSourceConfiguration parameters are same in the <emphasis role="bold">GetProfilesResponse</emphasis> message and in the <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message for each AudioSourceConfiguration.
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetProfilesResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetProfilesResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT return two or more AudioSourceConfiguration in <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message with the same ConfigurationToken.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT returned the <emphasis role="bold">GetProfilesResponse</emphasis> message with AudioSourceConfigurations that were not included in the <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT returned different parameters list and parameters values in the <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message and in the <emphasis role="bold">GetProfilesResponse</emphasis> message for the same AudioSourceConfiguration.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                </section>
                <section xml:id="tc.MEDIA-3-2-2">
                    <title>AUDIO SOURCE CONFIGURATIONS AND AUDIO SOURCE CONFIGURATION CONSISTENCY 
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-2-2
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get audio source configurations, Get audio source configuration 
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetAudioSourceConfigurations, GetAudioSourceConfiguration 
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check that GetAudioSourceConfigurations command and GetAudioSourceConfiguration command are consistent.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Audio is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationsRequest</emphasis> message to retrieve list of Audio Source Configurations from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-2-2.5">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationRequest</emphasis> (ConfigurationToken) message to retrieve parameters of Audio Source Configuration from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-2-2.7">
                                <para>
                                    Verify that all parameters and their values for AudioSourceConfigurationToken from <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message and <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> message are same. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Repeat steps <xref linkend="tc.MEDIA-3-2-2.5"/>-<xref linkend="tc.MEDIA-3-2-2.7"/> for other AudioSourceConfigurations from the <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send equal parameters for AudioSourceConfiguration in the <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> message and in the <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>

                </section>
                <section xml:id="tc.MEDIA-3-2-3">
                    <title>	AUDIO SOURCE CONFIGURATIONS AND AUDIO SOURCE CONFIGURATION OPTIONS CONSISTENCY
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-2-3
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get audio source configurations, Get audio source configuration options
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetAudioSourceConfigurations, GetAudioSourceConfigurationOptions 
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check that GetAudioSourceConfigurations command and AudioSourceConfigurationOptions command are consistent.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Audio is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationsRequest</emphasis> message to retrieve list of Audio Source Configurations from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-2-3.5">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationOptionsRequest</emphasis> (ConfigurationToken) message to retrieve available audio source configuration options from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioSourceConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that InputTokensAvailable list from the <emphasis role="bold">GetAudioSourceConfigurationOptionsResponse</emphasis> message contains only unique tokens.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-2-3.8">
                                <para>
                                    Check that SourceToken for the audio source configuration from GetAudioSourceConfigurationsResponse message exists in InputTokensAvailable list from the <emphasis role="bold">GetAudioSourceConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Repeat steps <xref linkend="tc.MEDIA-3-2-3.5"/>-<xref linkend="tc.MEDIA-3-2-3.8"/> for each audio source configuration from the <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioSourceConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioSourceConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sent InputTokensAvailable list in the <emphasis role="bold">GetAudioSourceConfigurationOptionsResponse</emphasis> message that contains not unique tokens.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send current SourceToken for the audio source configuration from the GetAudioSourceConfigurationsResponse message in InputTokensAvailable list in the <emphasis role="bold">GetAudioSourceConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>

                        </itemizedlist>
                    </para>
                </section>
                <section xml:id="tc.MEDIA-3-2-4">
                    <title>PROFILES AND AUDIO SOURCE CONFIGURATION OPTIONS CONSISTENCY
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-2-4
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get media profiles, Get audio source configuration options, 
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetProfiles, GetAudioSourceConfigurationOptions 
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check that GetProfiles command and GetAudioSourceConfigurationOptions command are consistent.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Audio is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetProfilesRequest</emphasis> message to retrieve list of existing profiles from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetProfilesResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-2-4.5">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationOptionsRequest</emphasis> (ProfileToken, ConfigurationToken) message to retrieve available audio source configuration options for profile and audio source configuration from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioSourceConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that InputTokensAvailable list from the <emphasis role="bold">GetAudioSourceConfigurationOptionsResponse</emphasis> message contains only unique tokens.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-2-4.8">
                                <para>
                                    Check that SourceToken for the audio source configuration from GetProfilesResponse message exists in InputTokensAvailable list from the <emphasis role="bold">GetAudioSourceConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Repeat steps <xref linkend="tc.MEDIA-3-2-4.5"/>-<xref linkend="tc.MEDIA-3-2-4.8"/> for each audio source configuration from the <emphasis role="bold">GetProfilesResponse</emphasis> message.
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetProfilesResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetProfilesResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioSourceConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioSourceConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sent InputTokensAvailable list in the <emphasis role="bold">GetAudioSourceConfigurationOptionsResponse</emphasis> message that contains not unique tokens.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send current SourceToken for the audio source configuration from <emphasis role="bold">GetProfilesResponse</emphasis> message in InputTokensAvailable list in the <emphasis role="bold">GetAudioSourceConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>

                        </itemizedlist>
                    </para>
                </section>
                <section xml:id="tc.MEDIA-3-2-5">
                    <title>AUDIO SOURCE CONFIGURATIONS AND AUDIO SOURCES CONSISTENCY
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-2-5
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get audio source configurations, Get audio sources
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetAudioSourceConfigurations, GetAudioSources 
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check that GetAudioSourceConfigurations command and GetAudioSources command are consistent.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Audio is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationsRequest</emphasis> message to retrieve list of Audio Source Configurations from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioSourcesRequest</emphasis> message to retrieve list of Audio Sources from the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioSourcesResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that each AudioSource from <emphasis role="bold">GetAudioSourcesResponse</emphasis> message has unique token.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that every AudioSourceConfiguration.SourceToken from <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message exists in <emphasis role="bold">GetAudioSourcesResponse</emphasis> message (AudioSource.token).
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioSourcesResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioSourcesResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT return two or more AudioSources in <emphasis role="bold">GetAudioSourcesResponse</emphasis> message with the same VideoSourceToken.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT returned the <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message with AudioSources that were not included in the <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                </section>
                <section xml:id="tc.MEDIA-3-2-6">
                    <title>AUDIO SOURCE CONFIGURATION USE COUNT (CURRENT STATE)
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-2-6
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get media profiles, Get audio source configurations, Get audio source configuration 
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetProfiles, GetAudioSourceConfigurations, GetAudioSourceConfiguration
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check Audio Source Configuration use count.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Audio is supported by DUT. Profile with AudioSourceConfiguration exists. ONVIF Client gets the Media Service entry point by GetCapabilities command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-2-6.3">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationsRequest</emphasis> message to retrieve list of audio source configurations from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-2-6.4">
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetProfilesRequest</emphasis> message to retrieve list of profiles and their audio source configurations from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-2-6.6">
                                <para>
                                    The DUT sends <emphasis role="bold">GetProfilesResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-2-6.7">
                                <para>
                                    Check the <emphasis role="bold">UseCount = usecount1</emphasis> value for the first AudioSourceConfiguration (ASC1) in the list on step <xref linkend="tc.MEDIA-3-2-6.3"/>. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that there are not more than <emphasis role="bold">usecount1</emphasis> profiles with this AudioSourceConfiguration in the list from step <xref linkend="tc.MEDIA-3-2-6.6"/>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that <emphasis role="bold">UseCount</emphasis> value in <emphasis role="bold">GetProfilesResponse</emphasis> for every occurrence of this AudioSourceConfiguration is <emphasis role="bold">usecount1</emphasis>.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-2-6.10">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = the first AudioSourceConfiguration from list on step <xref linkend="tc.MEDIA-3-2-6.3"/></emphasis>) message to retrieve audio source configuration parameters.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check the UseCount value in <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> (<emphasis role="bold">UseCount = usecount1</emphasis>).
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Repeat steps <xref linkend="tc.MEDIA-3-2-6.7"/>-<xref linkend="tc.MEDIA-3-2-6.10"/> for all other AudioSourceConfigurations from the list on step <xref linkend="tc.MEDIA-3-2-6.4"/>.
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetProfilesResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetProfilesResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sent UseCount value which is less than amount of profiles with AudioSourceConfiguration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sent different UseCount values in <emphasis role="bold">GetProfilesResponse</emphasis>, <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> and <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> messages.
                                </para>
                            </listitem>

                        </itemizedlist>
                    </para>
                </section>
                <section xml:id="tc.MEDIA-3-2-12">
                    <title>AUDIO SOURCE CONFIGURATION USE COUNT (ADD SAME AUDIO SOURCE CONFIGURATION TO PROFILE TWICE)
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-2-12
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get media profiles, Get media profile, Add audio source configuration to a profile, Get audio source configurations, Get audio source configuration
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetAudioSourceConfigurations, GetAudioSourceConfiguration, AddAudioSourceConfiguration
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check Audio Source Configuration use count after adding same audio source configuration to profile twice.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Audio is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command. List of media profiles is received by GetProfiles Command
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationsRequest</emphasis> message to retrieve list of audio source configurations from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-2-12.4">
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> (<emphasis role="bold">Name = NewName, Token = New Profile</emphasis>) message to create profile.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-2-12.6">
                                <para>
                                    If the DUT will generate a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis>), 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If there is profile with “fixed” attribute value “false” in profiles list (<emphasis role="bold">profile1</emphasis>)
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-2-12.8">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">RemoveAudioEncoderConfigurationRequest</emphasis> and <emphasis role="bold">RemoveAudioSourceConfigurationRequest</emphasis> (<emphasis role="bold">ProfileToken = profile1</emphasis>) message to remove AudioEncoderConfiguration and AudioSourceConfiguration from <emphasis role="bold">profile1</emphasis>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">RemoveAudioEncoderConfigurationResponse</emphasis> and <emphasis role="bold">RemoveAudioSourceConfigurationResponse</emphasis> message
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Execute steps <xref linkend="tc.MEDIA-3-2-12.8"/> - <xref linkend="tc.MEDIA-3-2-12.17"/>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If there is no profile with “fixed” attribute value “false” in profiles list, end test.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If the DUT sends <emphasis role="bold">CreateProfileResponse</emphasis> message, validate <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = first audio source from the list on step <xref linkend="tc.MEDIA-3-2-12.4"/> (ASC1), ProfileToken = New Profile</emphasis>) message to add AudioSourceConfiguration to the new profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = ASC1</emphasis>) message to retrieve audio source configuration parameters.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-2-12.17">
                                <para>
                                    Check the UseCount value in <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> message (<emphasis role="bold">UseCount = usecount1+1</emphasis>, usecount1 is value of UseCount for <emphasis role="bold">ASC1</emphasis> from the list on step <xref linkend="tc.MEDIA-3-2-12.4"/>). If test step <xref linkend="tc.MEDIA-3-2-12.6"/> is executed, the usecount1 could be reduced by 1.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile, ConfigurationToken = ASC1</emphasis>) message to replace audio source configuration in profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = ASC1</emphasis>) message to retrieve audio source configuration parameters. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that <emphasis role="bold">UseCount = usecount1+1</emphasis>, in <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">DeleteProfileRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile</emphasis>) message to remove profile with audio source configuration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">DeleteProfileResponse</emphasis> message.
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    UseCount value is not increased by 1 after adding of the AudioSourceConfiguration to one more profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    UseCount value is changed after repeated adding of the AudioSourceConfiguration in profile.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                    </para>
                </section>
                <section xml:id="tc.MEDIA-3-2-13">
                    <title>AUDIO SOURCE CONFIGURATION USE COUNT (ADD DIFFERENT AUDIO SOURCE CONFIGURATIONS IN PROFILE)
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-2-13
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get media profiles, Get media profile, Add audio source configuration to a profile, Get audio source configurations, Get audio source configuration
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetAudioSourceConfigurations, GetAudioSourceConfiguration, AddAudioSourceConfiguration
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check Audio Source Configuration use count after adding different audio source configurations to profile.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Audio is supported by DUT. There are at least two AudioSourceConfigurations. ONVIF Client gets the Media Service entry point by GetCapabilities command. List of media profiles is received by GetProfiles command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationsRequest</emphasis> message to retrieve list of audio source configurations from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-2-13.4">
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If there is only one AudioSourceConfiguration in the <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message go to the next test.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> (<emphasis role="bold">Name = NewName, Token = New Profile</emphasis>) message to create profile.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-2-13.7">
                                <para>
                                    If the DUT will generate a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis>), 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If there is profile with “fixed” attribute value “false” in profiles list (<emphasis role="bold">profile1</emphasis>)
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-2-13.9">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">RemoveAudioEncoderConfigurationRequest</emphasis> and <emphasis role="bold">RemoveAudioSourceConfigurationRequest</emphasis> (<emphasis role="bold">ProfileToken = profile1</emphasis>) message to remove AudioSourceConfiguration from <emphasis role="bold">profile1</emphasis>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">RemoveAudioEncoderConfigurationResponse</emphasis> and <emphasis role="bold">RemoveAudioSourceConfigurationResponse</emphasis> message
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Execute steps <xref linkend="tc.MEDIA-3-2-13.9"/>-<xref linkend="tc.MEDIA-3-2-13.21"/>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If there is no profile with “fixed” attribute value “false” in profiles list, end test.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If the DUT sends <emphasis role="bold">CreateProfileResponse</emphasis> message, validate <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = first audio source from the list on step <xref linkend="tc.MEDIA-3-2-13.4"/> (ASC1), ProfileToken = New Profile</emphasis>) message to add AudioSourceConfiguration to the new profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = ASC1</emphasis>) message to retrieve audio source configuration parameters.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check the UseCount value in <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> (<emphasis role="bold">UseCount = usecount1+1</emphasis>, usecount1 is value of UseCount for <emphasis role="bold">ASC1</emphasis> from the list on step <xref linkend="tc.MEDIA-3-2-13.4"/>). If test step <xref linkend="tc.MEDIA-3-2-13.7"/> is executed, the usecount1 value could be reduced by 1.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile, ConfigurationToken = ASC2, where ASC2 is other ASC from list on step <xref linkend="tc.MEDIA-3-2-13.4"/></emphasis>) message to replace audio source configuration in <emphasis role="bold">profile</emphasis>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-2-13.21">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = ASC1</emphasis>) message to retrieve audio source configuration parameters. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that <emphasis role="bold">UseCount = usecount1</emphasis>, in <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = ASC2</emphasis>) message to retrieve audio source configuration parameters. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that <emphasis role="bold">UseCount = usecount2+1</emphasis>, in <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> where usecount2 is UseCount value for ASC2 in the list on step <xref linkend="tc.MEDIA-3-2-13.4"/>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">DeleteProfileRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile</emphasis>) message to remove profile with audio source configuration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">DeleteProfileResponse</emphasis> message.
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    UseCount value is not increased by 1 after adding of the AudioSourceConfiguration to one more profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    UseCount value is not decreased by 1 after replacing of the AudioSourceConfiguration in profile for removed AudioSourceConfiguration and UseCount value is not increased by 1 after replacing of the AudioSourceConfiguration in profile for new AudioSourceConfiguration.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                    </para>
                </section>
                <section xml:id="tc.MEDIA-3-2-14">
                    <title>AUDIO SOURCE CONFIGURATION USE COUNT (REMOVE AUDIO SOURCE CONFIGURATION)
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-2-14
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Remove audio source configuration from a profile, Get audio source configurations, Get audio source configuration
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetProfiles, GetAudioSourceConfigurations, GetAudioSourceConfiguration, RemoveAudioSourceConfiguration 
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check Audio Source Configuration use count after removing audio source configuration from profile.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Audio is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command. List of media profiles are received by GetProfiles command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationsRequest</emphasis> message to retrieve list of audio source configurations from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-2-14.4">
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> (<emphasis role="bold">Name = NewName, Token = New Profile</emphasis>) message to create profile.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-2-14.6">
                                <para>
                                    If the DUT will generate a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis>), 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If there is profile with “fixed” attribute value “false” in profiles list (<emphasis role="bold">profile1</emphasis>)
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-2-14.8">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">RemoveAudioEncoderConfigurationRequest</emphasis> and <emphasis role="bold">RemoveAudioSourceConfigurationRequest</emphasis> (<emphasis role="bold">ProfileToken = profile1</emphasis>) message to remove AudioSourceConfiguration from <emphasis role="bold">profile1</emphasis>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">RemoveAudioEncoderConfigurationResponse</emphasis> and <emphasis role="bold">RemoveAudioSourceConfigurationResponse</emphasis> message
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Execute steps <xref linkend="tc.MEDIA-3-2-14.8"/>-<xref linkend="tc.MEDIA-3-2-14.14"/>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If there is no profile with “fixed” attribute value “false” in profiles list, end test.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If the DUT sends <emphasis role="bold">CreateProfileResponse</emphasis> message, validate <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = first audio source from the list on step <xref linkend="tc.MEDIA-3-2-14.4"/> (ASC1), ProfileToken = New Profile</emphasis>) message to add AudioSourceConfiguration to the new profile.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-2-14.14">
                                <para>
                                    The DUT sends <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">RemoveAudioSourceConfigurationRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile</emphasis>) message to remove audio source configuration from profile1.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">RemoveAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = ASC1</emphasis>) message to retrieve audio source configuration parameters. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that <emphasis role="bold">UseCount = usecount1</emphasis>, in <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> message where usecount1 is UseCount value for ASC1 in the list on step <xref linkend="tc.MEDIA-3-2-14.4"/>. If test step <xref linkend="tc.MEDIA-3-2-14.6"/> is executed, the usecount1 value could be reduced by 1.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">DeleteProfileRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile</emphasis>) message to remove profile with audio source configuration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">DeleteProfileResponse</emphasis> message.
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">RemoveAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">RemoveAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    UseCount value is not decreased by 1 after removing of the AudioSourceConfiguration from profile.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                    </para>
                </section>
                <section xml:id="tc.MEDIA-3-2-15">
                    <title>AUDIO SOURCE CONFIGURATION USE COUNT (PROFILE DELETION WITH AUDIO SOURCE CONFIGURATION)
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-2-15
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get media profiles, Get audio source configurations, Get audio source configuration, Delete media profile
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetProfiles, GetProfiles, GetAudioSourceConfigurations, GetAudioSourceConfiguration, SetAudioSourceConfiguration, DeleteProfile
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check Audio Source Configuration use count after deletion of profile with audio source configuration in it.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Audio is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command. List of profiles is received by GetProfiles command/ List of profiles is received by GetProfiles command. 
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationsRequest</emphasis> message to retrieve list of audio source configurations from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-2-15.4">
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> (<emphasis role="bold">Name = NewName, Token = New Profile</emphasis>) message to create profile.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-2-15.6">
                                <para>
                                    If the DUT will generate a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis>), 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If there is profile with “fixed” attribute value “false” in profiles list (<emphasis role="bold">profile1</emphasis>)
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-2-15.8">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">RemoveAudioEncoderConfigurationRequest</emphasis> and <emphasis role="bold">RemoveAudioSourceConfigurationRequest</emphasis> (<emphasis role="bold">ProfileToken = profile1</emphasis>) message to remove AudioSourceConfiguration from <emphasis role="bold">profile1</emphasis>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">RemoveAudioEncoderConfigurationResponse</emphasis> and <emphasis role="bold">RemoveAudioSourceConfigurationResponse</emphasis> message
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Execute steps <xref linkend="tc.MEDIA-3-2-15.8"/>-<xref linkend="tc.MEDIA-3-2-15.14"/>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If there is no profile with “fixed” attribute value “false” in profiles list, end test.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If the DUT sends <emphasis role="bold">CreateProfileResponse</emphasis> message, validate <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = first audio source from the list on step <xref linkend="tc.MEDIA-3-2-15.4"/> (ASC1), ProfileToken = New Profile</emphasis>) message to add AudioSourceConfiguration to the new profile.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-2-15.14">
                                <para>
                                    The DUT sends <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">DeleteProfileRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile</emphasis>) message to remove profile with audio source configuration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">DeleteProfileResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = ASC1</emphasis>) message to retrieve audio source configuration parameters. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that <emphasis role="bold">UseCount = usecount1</emphasis>, in <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> where usecount1 is UseCount value for ASC1 in the list on step <xref linkend="tc.MEDIA-3-2-15.4"/>. If test step <xref linkend="tc.MEDIA-3-2-15.6"/> is executed, the usecount1 value could be reduced by 1.
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">DeleteProfileResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">DeleteProfileResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    UseCount value is not decreased by 1 after deletion of the profile with the AudioSourceConfiguration.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                    </para>

                </section>
                <section xml:id="tc.MEDIA-3-2-16">
                    <title>AUDIO SOURCE CONFIGURATION USE COUNT (SET AUDIO SOURCE CONFIGURATION)
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-2-16
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get audio source configurations, Get audio source configuration, Modify an audio source configuration.
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetAudioSourceConfigurations, GetAudioSourceConfiguration, SetAudioSourceConfiguration
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check Audio Source Configuration use count after changing of audio source configuration parameters.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Audio is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationsRequest</emphasis> message to retrieve list of audio source configurations from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-2-16.4">
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">SetAudioSourceConfigurationRequest</emphasis> (<emphasis role="bold">token = the first Audio Source Configuration from the list on step <xref linkend="tc.MEDIA-3-2-16.4"/>(ASC1), UseCount = NewUseCount</emphasis>) message to set parameters for audio source configuration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">SetAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = ASC1</emphasis>) message to retrieve audio source configuration parameters. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that <emphasis role="bold">UseCount = usecount1</emphasis>, in <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> where usecount1 is UseCount value for ASC1 in the list on step <xref linkend="tc.MEDIA-3-2-16.4"/>.
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">SetAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">SetAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    UseCount value was changed after trying to set UseCount value. 
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                    </para>
                </section>

            </section>
            <!--Audio Encoder Configuration-->
            <section xml:id="tc.media_configuration.audio_encoder_configuration">
                <title>Audio Encoder Configuration</title>

                <section xml:id="tc.MEDIA-3-3-1">
                    <title>AUDIO ENCODER CONFIGURATIONS AND PROFILES CONSISTENCY
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-3-1
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get media profiles, Get audio encoder configurations
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetProfiles, GetAudioEncoderConfigurations 
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check that Audio Encoder Configurations and Audio Encoder Profiles are consistent.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Audio is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetProfilesRequest</emphasis> message to retrieve list of profiles and their audio encoder configurations.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetProfilesResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationsRequest</emphasis> message to retrieve list of Audio Source Configurations from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that each GetAudioEncoderConfiguration from <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message has unique token.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that each AudioEncoderConfiguration from the <emphasis role="bold">GetProfilesResponse</emphasis> message are included in the <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that AudioEncoderConfiguration parameters are same in the <emphasis role="bold">GetProfilesResponse</emphasis> message and in the <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message for corresponding AudioEncoderConfiguration.
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetProfilesResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetProfilesResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT return two or more AudioEncoderConfigurations in <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message with the same ConfigurationToken.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT returned the <emphasis role="bold">GetProfilesResponse</emphasis> message with AudioEncoderConfigurations that were not included in the <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT returned different parameters list and parameters values in the <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message and in the <emphasis role="bold">GetProfilesResponse</emphasis> message for the same AudioEncoderConfiguration.
                                </para>
                            </listitem>

                        </itemizedlist>
                    </para>
                </section>
                <section xml:id="tc.MEDIA-3-3-2">
                    <title>AUDIO ENCODER CONFIGURATIONS AND AUDIO ENCODER CONFIGURATION CONSISTENCY
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-3-2
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get audio encoder configurations, Get audio encoder configuration
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetAudioEncoderConfigurations, GetAudioEncoderConfiguration
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check that GetAudioEncoderConfigurations command and GetAudioEncoderConfiguration command are consistent.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Audio is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationsRequest</emphasis> message to retrieve list of Audio Source Configurations from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-2.5">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationRequest</emphasis> (ConfigurationToken) message to retrieve parameters of audio encoder configuration from the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-2.7">
                                <para>
                                    Verify that all parameters for audio encoder configuration from the GetAudioEncoderConfigurationsResponse message and from the <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message are the same.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Repeat steps <xref linkend="tc.MEDIA-3-3-2.5"/>-<xref linkend="tc.MEDIA-3-3-2.7"/> for each Audio Encoder Configurations from the <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send equal parameters for one or more AudioEncoderConfiguration in the <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message and in the <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>

                        </itemizedlist>
                    </para>
                </section>
                <section xml:id="tc.MEDIA-3-3-3">
                    <title>AUDIO ENCODER CONFIGURATIONS AND AUDIO ENCODER CONFIGURATION OPTIONS CONSISTENCY
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-3-3
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get audio encoder configurations, Get audio encoder configuration options
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetAudioEncoderConfigurations, GetAudioEncoderConfigurationOptions
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check that GetAudioEncoderConfiguration command and GetAudioEncoderConfigurationOptions command are consistent.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Audio is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationsRequest</emphasis> message to retrieve list of Audio Encoder Configurations from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem> 
                            <listitem xml:id="tc.MEDIA-3-3-3.5">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> (ConfigurationToken) message to retrieve available audio encoder configuration options from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-3.7">
                                <para>
                                    Check that Encoding value for audio encoder configuration exists in Encoding parameter of one of the Option sections from list in the <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message, and Bitrate and SampleRate exist in BitrateList and SampleRateList for this encoding in the <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Repeat steps <xref linkend="tc.MEDIA-3-3-3.5"/>-<xref linkend="tc.MEDIA-3-3-3.7"/> for each audio encoder configuration from the GetAudioEncoderConfigurationsResponse message.
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sent non-available Encoding value for one or more AudioSourceConfigurations
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sent not available combination of Encoding and Bitrate or Encoding and SampleRate for one or more AudioEncoderConfigurations.
                                </para>
                            </listitem>

                        </itemizedlist>
                    </para>
                </section>
                <section xml:id="tc.MEDIA-3-3-4">
                    <title>PROFILES AND AUDIO ENCODER CONFIGURATION OPTIONS CONSISTENCY
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-3-4
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get media profile, Get audio encoder configuration options
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetProfiles, GetAudioEncoderConfigurationOptions
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check that GetProfiles command and GetAudioEncoderConfigurationOptions command are consistency.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Audio is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetProfilesRequest</emphasis> message to retrieve list of profiles from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetProfilesResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-4.5">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> (ProfileToken, ConfigurationToken) message to retrieve AudioEncoderConfigurationOptions for audio encoder configuration and profile from the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-4.7">
                                <para>
                                    Check that Encoding value for audio encoder configuration exists in Encoding parameter of one of the Option sections from list in the <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message, and Bitrate and SampleRate exist in BitrateList and SampleRateList for this encoding in the <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Repeat steps <xref linkend="tc.MEDIA-3-3-4.5"/>-<xref linkend="tc.MEDIA-3-3-4.7"/> for each audio encoder configuration from the GetProfilesResponse message.
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetProfilesResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetProfilesResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sent non-available Encoding value for one or more AudioSourceConfigurations
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sent not available combination of Encoding and Bitrate or Encoding and SampleRate for one or more AudioEncoderConfigurations.
                                </para>
                            </listitem>

                        </itemizedlist>
                    </para>
                </section>
                <section xml:id="tc.MEDIA-3-3-5">
                    <title>AUDIO ENCODER CONFIGURATION USE COUNT (CURRENT STATE)
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-3-5
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get media profiles, Get audio encoder configurations, Get audio encoder configuration 
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetProfiles, GetAudioEncoderConfigurations, GetAudioEncoderConfiguration
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check Audio Encoder Configuration use count.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Audio is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command. 
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-5.3">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationsRequest</emphasis> message to retrieve list of audio encoder configurations from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-5.4">
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-5.5">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetProfilesRequest</emphasis> message to retrieve list of profiles and their audio encoder configurations from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-5.6">
                                <para>
                                    The DUT sends <emphasis role="bold">GetProfilesResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-5.7">
                                <para>
                                    Check the <emphasis role="bold">UseCount = usecount1</emphasis> value for the first AudioEncoderConfiguration (<emphasis role="bold">AEC1</emphasis>) in the list on step <xref linkend="tc.MEDIA-3-3-5.3"/>.
                                </para>
                            </listitem> 
                            <listitem>
                                <para>
                                    Check that there are not more than usecount1 profiles with this AudioEncoderConfiguration in the list from step <xref linkend="tc.MEDIA-3-3-5.6"/>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that UseCount value in <emphasis role="bold">GetProfilesResponse</emphasis> message for every occurrence of this AudioEncoderConfiguration is usecount1.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-5.10">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = AEC1</emphasis>) message to retrieve audio encoder configuration parameters.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check the UseCount value in <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> (<emphasis role="bold">UseCount = usecount1</emphasis>) message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Repeat steps <xref linkend="tc.MEDIA-3-3-5.7"/>-<xref linkend="tc.MEDIA-3-3-5.10"/> for all other AudioEncoderConfigurations from the list on step <xref linkend="tc.MEDIA-3-3-5.4"/>.
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetProfilesResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetProfilesResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sent UseCount value which is less than amount of profiles with AudioEncoderConfiguration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sent different UseCount values in <emphasis role="bold">GetProfilesResponse</emphasis>, <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> and <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> messages.
                                </para>
                            </listitem>

                        </itemizedlist>
                    </para>
                </section>
                <section xml:id="tc.MEDIA-3-3-11">
                    <title>AUDIO ENCODER CONFIGURATION OPTIONS AND AUDIO ENCODER CONFIGURATIONS CONSISTENCY (BITRATE AND SAMPLERATE)
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-3-11
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get audio encoder configuration options
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetAudioEncoderConfigurationOptions
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To that verify bitrate and samplerate values (the output bitrate [kbps], the output sample rate [kHz]) in the GetAudioEncoderConfigurations command are consistent with options and real settings.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Audio is supported by DUT. Media Service was received from the DUT. 
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> message to retrieve list of Audio Encoder Configuration Options from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-11.4">
                                <para>
                                    Verify the <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message from the DUT. Check that all values of Options.BitrateList.Items are less than 10000. Check that all values of Options.SampleRateList.Items are less than 1000.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationsRequest</emphasis> message to retrieve list of Audio Encoder Configurations from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Verify the <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message from the DUT.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-11.7">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> message (<emphasis role="bold">ConfigurationToken = ‘token1’ where “Token1” is a first audio encoder configuration token from GetAudioEncoderConfigurationsResponse message</emphasis>) to retrieve list of Audio Encoder Configuration Options for specified Audio Encoder Configuration from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-11.8">
                                <para>
                                    Verify the <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message from the DUT. Check that all values of Options.BitrateList.Items are less than 10000 and listed in Options.BitrateList of <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message from step <xref linkend="tc.MEDIA-3-3-11.4"/>. Check that all values of Options.SampleRateList.Items are less than 1000 listed in Options.SampleRateList of <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message from step <xref linkend="tc.MEDIA-3-3-11.4"/>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Repeat steps <xref linkend="tc.MEDIA-3-3-11.7"/>-<xref linkend="tc.MEDIA-3-3-11.8"/> for the rest Audio Encoder Configurations supported by the DUT.
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sent at least one Options.BitrateList.Item that is greater than 10000.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sent at least one Options.SampleRateList.Item that is greater than 1000.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sent at least one Options.BitrateList.Item in <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message for specific Audio Encoder Configuration that is not listed in general <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sent at least one Options.SampleRateList.Item in <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message for specific Audio Encoder Configuration that is not listed in general <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> Bitrate shall be specified in kbps, so it shall not exceed 10000.
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> SampleRate shall be specified in kHz, so it shall not exceed 1000.

                    </para>
                </section>
                <section xml:id="tc.MEDIA-3-3-12">
                    <title>AUDIO ENCODER CONFIGURATION USE COUNT (ADD SAME AUDIO ENCODER CONFIGURATION TO PROFILE TWICE)
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-3-12
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get media profiles, Get media profile, Add audio encoder configuration to a profile, Get audio encoder configurations, Get audio encoder configuration
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetProfiles, GetAudioEncoderConfigurations, GetAudioEncoderConfiguration, AddAudioEncoderConfiguration 
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check Audio Encoder Configuration use count after adding same audio encoder configuration to profile twice.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Audio is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command. List of media profiles is received by GetProfiles command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationsRequest</emphasis> message to retrieve list of audio encoder configurations from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-12.4">
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationsRequest</emphasis> message to retrieve list of audio encoder configurations from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> (<emphasis role="bold">Name = NewName, Token = New Profile</emphasis>) message to create profile.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-12.8">
                                <para>
                                    If the DUT will generate a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis>),
                                </para>
                            </listitem> 
                            <listitem>
                                <para>
                                    If there is profile with “fixed” attribute value “false” in profiles list (<emphasis role="bold">profile1</emphasis>)
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-12.10">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">RemoveAudioEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ProfileToken = profile1</emphasis>) message to remove AudioEncoderConfiguration from <emphasis role="bold">profile1</emphasis>
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-12.11">
                                <para>
                                    The DUT sends <emphasis role="bold">RemoveAudioEncoderConfigurationResponse</emphasis> message
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-12.12">
                                <para>
                                    Execute steps <xref linkend="tc.MEDIA-3-3-12.10"/>-<xref linkend="tc.MEDIA-3-3-12.26"/>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If there is no profile with “fixed” attribute value “false” in profiles list, end test.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If the DUT sends <emphasis role="bold">CreateProfileResponse</emphasis> message, validate <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. 
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-12.15">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurationsRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile</emphasis>) message to get compatible AudioSourceConfigurations for the new profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = first audio source configuration from the list on step <xref linkend="tc.MEDIA-3-3-12.11"/> (ASC1), ProfileToken = New Profile</emphasis>) message to add AudioSourceConfiguration to the new profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile</emphasis>) message to get compatible AudioEncoderConfigurations for the new profile with Audio Source Configuration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message. If response does not contain any AudioEncoderConfiguration, repeat steps <xref linkend="tc.MEDIA-3-3-12.12"/>-<xref linkend="tc.MEDIA-3-3-12.15"/> with next audio source configuration from step <xref linkend="tc.MEDIA-3-3-12.11"/>. If there are no other audio source configuration, skip other steps and go to the next test.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = first audio encoder from the list on step <xref linkend="tc.MEDIA-3-3-12.15"/> (AEC1), ProfileToken = New Profile</emphasis>) message to add AudioEncoderConfiguration to the new profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">AddAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = AEC1</emphasis>) message to retrieve audio encoder configuration parameters.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check the UseCount value in <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message (<emphasis role="bold">UseCount = usecount1+1</emphasis>, usecount1 is value of UseCount for AEC1 from the list on step <xref linkend="tc.MEDIA-3-3-12.4"/>). If test step <xref linkend="tc.MEDIA-3-3-12.8"/> is executed, the usecount1 value could be reduced by 1.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-12.26">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile, ConfigurationToken = AEC1</emphasis>) message to replace audio encoder configuration in profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">AddAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = AEC1</emphasis>) message to retrieve audio encoder configuration parameters.
                                </para>
                            </listitem> 
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that <emphasis role="bold">UseCount = usecount1+1</emphasis>, in <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client restores DUT configuration.
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">AddAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    UseCount value is not increased by 1 after adding of the AudioEncoderConfiguration to one more profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    UseCount value is changed after repeated adding of the AudioEncoderConfiguration in profile.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.


                    </para>
                </section>
                <section xml:id="tc.MEDIA-3-3-13">
                    <title>AUDIO ENCODER CONFIGURATION USE COUNT (ADD DIFFERENT AUDIO ENCODER CONFIGURATIONS IN PROFILE)
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-3-13
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get media profiles, Get media profile, Add audio encoder configuration to a profile, Get audio encoder configurations, Get audio encoder configuration
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetProfiles, GetAudioEncoderConfigurations, GetAudioEncoderConfiguration, AddAudioEncoderConfiguration 
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check Audio Encoder Configuration use count after adding different audio encoder configurations to profile.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Audio is supported by DUT. There are at least two AudioEncoderConfigurations. ONVIF Client gets the Media Service entry point by GetCapabilities command. List of media profiles is received by GetProfiles command
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationsRequest</emphasis> message to retrieve list of audio encoder configurations from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-13.4">
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If there is only one AudioEncoderConfiguration in the <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message go to the next test.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationsRequest</emphasis> message to retrieve list of audio source configurations from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> (<emphasis role="bold">Name = NewName, Token = New Profile</emphasis>) message to create profile.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-13.9">
                                <para>
                                    If the DUT will generate a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis>), 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If there is profile with “fixed” attribute value “false” in profiles list (<emphasis role="bold">profile1</emphasis>)
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-13.11">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">RemoveAudioEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ProfileToken = profile1</emphasis>) message to remove AudioEncoderConfiguration from <emphasis role="bold">profile1</emphasis>
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-13.12">
                                <para>
                                    The DUT sends <emphasis role="bold">RemoveAudioEncoderConfigurationResponse</emphasis> message
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Execute steps <xref linkend="tc.MEDIA-3-3-13.11"/>-<xref linkend="tc.MEDIA-3-3-13.30"/>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If there is no profile with “fixed” attribute value “false” in profiles list, end test.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-13.15">
                                <para>
                                    If the DUT sends <emphasis role="bold">CreateProfileResponse</emphasis> message, validate <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurationsRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile</emphasis>) message to get compatible AudioSourceConfigurations for the new profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = first audio source configuration from the list on step <xref linkend="tc.MEDIA-3-3-13.11"/> (ASC1), ProfileToken = New Profile</emphasis>) message to add AudioSourceConfiguration to the new profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile</emphasis>) message to get compatible AudioEncoderConfigurations for the new profile with Audio Source Configuration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message. If response does not contain at least two AudioEncoderConfiguration, repeat steps <xref linkend="tc.MEDIA-3-3-13.12"/>-<xref linkend="tc.MEDIA-3-3-13.15"/> with next audio source configuration from step <xref linkend="tc.MEDIA-3-3-13.11"/>. If there are no other audio source configuration, skip other steps and go to the next test.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = first audio encoder from the list on step <xref linkend="tc.MEDIA-3-3-13.15"/> (AEC1), ProfileToken = New Profile</emphasis>) message to add AudioEncoderConfiguration to the new profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">AddAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = AEC1</emphasis>) message to retrieve audio encoder configuration parameters.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check the UseCount value in <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> (<emphasis role="bold">UseCount = usecount1+1</emphasis>, usecount1 is value of UseCount for <emphasis role="bold">AEC1</emphasis> from the list on step <xref linkend="tc.MEDIA-3-3-13.4"/>). If test step <xref linkend="tc.MEDIA-3-3-13.9"/> is executed, the usecount1 value could be reduced by 1.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile, ConfigurationToken = AEC2, where AEC2 is other AEC from list on step <xref linkend="tc.MEDIA-3-3-13.4"/></emphasis>) message to replace audio encoder configuration in profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">AddAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = AEC1</emphasis>) message to retrieve audio encoder configuration parameters. 
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-13.30">
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that <emphasis role="bold">UseCount = usecount1</emphasis>, in <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = AEC2</emphasis>) message to retrieve audio encoder configuration parameters. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that <emphasis role="bold">UseCount = usecount2+1</emphasis>, in <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> where usecount2 is UseCount value for AEC2 in the list on step <xref linkend="tc.MEDIA-3-3-13.4"/>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client restores DUT configuration.
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">AddAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    UseCount value is not increased by 1 after adding of the AudioEncoderConfiguration to one more profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    UseCount value is not decreased by 1 after replacing of the AudioEncoderConfiguration in profile for removed AudioEncoderConfiguration and
                                </para>
                            </listitem> <listitem>
                                <para>
                                    UseCount value is not increased by 1 after replacing of the AudioEncoderConfiguration in profile for new AudioEncoderConfiguration.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                    </para>
                </section>
                <section xml:id="tc.MEDIA-3-3-14">
                    <title>AUDIO ENCODER CONFIGURATION USE COUNT (REMOVE AUDIO ENCODER CONFIGURATION)
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-3-14
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get media profiles, Remove audio encoder configuration from a profile, Get audio encoder configurations, Get audio encoder configuration
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetProfiles, GetAudioEncoderConfigurations, GetAudioEncoderConfiguration, RemoveAudioEncoderConfiguration 
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check Audio Encoder Configuration use count after removing audio encoder configuration from profile.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Audio is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command. List of media profiles is received by GetProfiles command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationsRequest</emphasis> message to retrieve list of audio encoder configurations from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-14.4">
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationsRequest</emphasis> message to retrieve list of audio source configurations from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem> 
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> (<emphasis role="bold">Name = NewName, Token = New Profile</emphasis>) message to create profile.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-14.8">
                                <para>
                                    If the DUT will generate a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis>),
                                </para>
                            </listitem> 
                            <listitem>
                                <para>
                                    If there is profile with “fixed” attribute value “false” in profiles list (<emphasis role="bold">profile1</emphasis>)
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-14.10">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">RemoveAudioEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ProfileToken = profile1</emphasis>) message to remove AudioEncoderConfiguration from <emphasis role="bold">profile1</emphasis>
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-14.11">
                                <para>
                                    The DUT sends <emphasis role="bold">RemoveAudioEncoderConfigurationResponse</emphasis> message
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-14.12">
                                <para>
                                    Execute steps <xref linkend="tc.MEDIA-3-3-14.10"/>-<xref linkend="tc.MEDIA-3-3-14.22"/>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If there is no profile with “fixed” attribute value “false” in profiles list, end test.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If the DUT sends <emphasis role="bold">CreateProfileResponse</emphasis> message, validate <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. 
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-14.15">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurationsRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile</emphasis>) message to get compatible AudioSourceConfigurations for the new profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = first audio source configuration from the list on step <xref linkend="tc.MEDIA-3-3-14.11"/> (ASC1), ProfileToken = New Profile</emphasis>) message to add AudioSourceConfiguration to the new profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile</emphasis>) message to get compatible AudioEncoderConfigurations for the new profile with Audio Source Configuration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message. If response does not contain any AudioEncoderConfiguration, repeat steps <xref linkend="tc.MEDIA-3-3-14.12"/>-<xref linkend="tc.MEDIA-3-3-14.15"/> with next audio source configuration from step <xref linkend="tc.MEDIA-3-3-14.11"/>. If there are no other audio source configuration, skip other steps and go to the next test.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = first audio encoder from the list on step <xref linkend="tc.MEDIA-3-3-14.15"/> (AEC1), ProfileToken = New Profile</emphasis>) message to add AudioEncoderConfiguration to the new profile.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-14.22">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">RemoveAudioEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile</emphasis>) message to remove audio encoder configuration from profile1.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">RemoveAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = AEC1</emphasis>) message to retrieve audio encoder configuration parameters. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that <emphasis role="bold">UseCount = usecount1</emphasis>, in <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> where usecount1 is UseCount value for AEC1 in the list on step <xref linkend="tc.MEDIA-3-3-14.4"/>. If test step <xref linkend="tc.MEDIA-3-3-14.8"/> is executed, the usecount1 value could be reduced by 1.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client restores DUT configuration.
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">AddAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">RemoveAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    UseCount value is not decreased by 1 after removing of the AudioEncoderConfiguration from profile.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                    </para>
                </section>
                <section xml:id="tc.MEDIA-3-3-15">
                    <title>AUDIO ENCODER CONFIGURATION USE COUNT (DELETION PROFILE WITH AUDIO ENCODER CONFIGURATION)
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-3-15
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get audio encoder configurations, Get audio encoder configuration, Delete media profile
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetAudioEncoderConfigurations, GetAudioEncoderConfiguration, DeleteProfile.
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check Audio Encoder Configuration use count after deletion profile with audio encoder configuration in it.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Audio is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command. List of media profiles is received by GetProfiles command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationsRequest</emphasis> message to retrieve list of audio encoder configurations from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-15.4">
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurationsRequest</emphasis> message to retrieve list of audio source configurations from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> (<emphasis role="bold">Name = NewName, Token = New Profile</emphasis>) message to create profile.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-15.8">
                                <para>
                                    If the DUT will generate a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis>), 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If there is profile with “fixed” attribute value “false” in profiles list (<emphasis role="bold">profile1</emphasis>)
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-15.10">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">RemoveAudioEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ProfileToken = profile1</emphasis>) message to remove AudioEncoderConfiguration from <emphasis role="bold">profile1</emphasis>
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-15.11">
                                <para>
                                    The DUT sends <emphasis role="bold">RemoveAudioEncoderConfigurationResponse</emphasis> message
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-15.12">
                                <para>
                                    Execute steps <xref linkend="tc.MEDIA-3-3-15.10"/>-<xref linkend="tc.MEDIA-3-3-15.22"/>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If there is no profile with “fixed” attribute value “false” in profiles list, end test.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If the DUT sends <emphasis role="bold">CreateProfileResponse</emphasis> message, validate <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. 
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-15.15">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurationsRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile</emphasis>) message to get compatible AudioSourceConfigurations for the new profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = first audio source configuration from the list on step <xref linkend="tc.MEDIA-3-3-15.11"/> (ASC1), ProfileToken = New Profile</emphasis>) message to add AudioSourceConfiguration to the new profile.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile</emphasis>) message to get compatible AudioEncoderConfigurations for the new profile with Audio Source Configuration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message. If response does not contain any AudioEncoderConfiguration, repeat steps <xref linkend="tc.MEDIA-3-3-15.12"/>-<xref linkend="tc.MEDIA-3-3-15.15"/> with next audio source configuration from step <xref linkend="tc.MEDIA-3-3-15.11"/>. If there are no other audio source configuration, skip other steps and go to the next test.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = first audio encoder from the list on step <xref linkend="tc.MEDIA-3-3-15.15"/> (AEC1), ProfileToken = New Profile</emphasis>) message to add AudioEncoderConfiguration to the new profile.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-15.22">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">DeleteProfileRequest</emphasis> (<emphasis role="bold">ProfileToken = New Profile</emphasis>) message to remove profile with audio encoder configuration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">DeleteProfileResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = AEC1</emphasis>) message to retrieve audio encoder configuration parameters. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that <emphasis role="bold">UseCount = usecount1</emphasis>, in <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> where usecount1 is UseCount value for AEC1 in the list on step <xref linkend="tc.MEDIA-3-3-15.4"/>.If test step <xref linkend="tc.MEDIA-3-3-15.8"/> is executed, the usecount1 value could be reduced by 1.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client restores DUT configuration.
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">AddAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">DeleteProfileResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message
                                </para>
                            </listitem>.
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    UseCount value is not decreased by 1 after deletion of the profile with the AudioEncoderConfiguration.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                    </para>
                </section>
                <section xml:id="tc.MEDIA-3-3-16">
                    <title>AUDIO ENCODER CONFIGURATION USE COUNT (SET AUDIO ENCODER CONFIGURATION)
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-3-16
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get media profiles, Get audio encoder configurations, Get audio encoder configuration, Modify audio encoder configurations.
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetAudioEncoderConfigurations, GetAudioEncoderConfiguration, SetAudioEncoderConfiguration
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check Audio Encoder Configuration use count after setting audio encoder configuration parameters.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Audio is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command. 
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationsRequest</emphasis> message to retrieve list of audio encoder configurations from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-3-16.4">
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> (<emphasis role="bold">token = the first Audio Encoder Configuration from the list on step <xref linkend="tc.MEDIA-3-3-16.4"/>(AEC1), UseCount = NewUseCount</emphasis>) message to set parameters for audio encoder configuration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationRequest</emphasis> (<emphasis role="bold">ConfigurationToken = AEC1</emphasis>) message to retrieve audio encoder configuration parameters. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Check that <emphasis role="bold">UseCount = usecount1</emphasis>, in <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> where usecount1 is UseCount value for AEC1 in the list on step <xref linkend="tc.MEDIA-3-3-16.4"/>.
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    UseCount value changed after trying to set UseCount value. 
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                    </para>
                </section>

            </section>
            <!--Audio Output Configuration-->
            <section xml:id="tc.media_configuration.audio_output_configuration">
                <title>Audio Output Configuration</title>

                <section xml:id="tc.MEDIA-3-4-4">
                    <title>SET AUDIO OUTPUT CONFIGURATION
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-4-4
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get audio output configurations, Get audio output configuration, Get audio output configuration options, Modify audio output configuration
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetAudioOutputConfigurations, GetAudioOutputConfiguration, GetAudioOutputConfigurationOptions, SetAudioOutputConfiguration
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check SetAudioOutputConfiguration behavior.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Audio output is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioOutputConfigurationsRequest</emphasis> message to retrieve list of audio output configurations from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-4-4.4">
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioOutputConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-4-4.5">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioOutputConfigurationOptionsRequest</emphasis> (ConfigurationToken = AOC1, where AOC1 is the first configuration from the list on step <xref linkend="tc.MEDIA-3-4-4.4"/>) message to retrieve options for AOC1 from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-4-4.6">
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioOutputConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem> 
                            <listitem xml:id="tc.MEDIA-3-4-4.7">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">SetAudioOutputConfigurationRequest</emphasis> (Name = NewName, token = AOC1, OutputToken = OT1, where OT1 is one of OutputTokensAvailable from GetAudioOutputConfigurationResponse, SendPrimacy = SendPrimacyMode1, where SendPrimacyMode1 is one of modes from SendPrimacyOptions from Response on step <xref linkend="tc.MEDIA-3-4-4.6"/>, OutputLevel = OL1, where OL1 is between OutputRange.min and OutputRange.max from response on step <xref linkend="tc.MEDIA-3-4-4.6"/>, ForcePersistence = false) message to set parameters for audio output configuration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">SetAudioOutputConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Validate <emphasis role="bold">SetAudioOutputConfigurationResponse</emphasis>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioOutputConfigurationRequest</emphasis> (ConfigurationToken = AOC1) message to retrieve settings of AOC1 from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioOutputConfigurationResponse</emphasis> message.
                                </para>
                            </listitem> 
                            <listitem xml:id="tc.MEDIA-3-4-4.12">
                                <para>
                                    Validate AOC1 settings. Check, that all settings are as were set on step <xref linkend="tc.MEDIA-3-4-4.7"/>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Repeat steps <xref linkend="tc.MEDIA-3-4-4.5"/>-<xref linkend="tc.MEDIA-3-4-4.12"/> for other Audio Output Configurations from step <xref linkend="tc.MEDIA-3-4-4.4"/>.
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist> 
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioOutputConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioOutputConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioOutputConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioOutputConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioOutputConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioOutputConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">SetAudioOutputConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">SetAudioOutputConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    At least for one Audio Output Configuration after modifying settings, there is at least one of following items:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                Name is not equal to NewName;
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                OutputToken is not equal to OT1;
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                SendPrimacy is not equal to SendPrimacyMode1;
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                OutputLevel is not equal OL1;
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                ForcePersistence is not false.
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.


                    </para>
                </section>
                <section xml:id="tc.MEDIA-3-4-6">
                    <title>SET AUDIO OUTPUT CONFIGURATION – INVALID OUTPUTTOKEN
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-4-6
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Modify audio output configuration
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> SetAudioOutputConfiguration
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check SetAudioOutputConfiguration command behavior in case of incorrect configuration token.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Audio output is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioOutputConfigurationsRequest</emphasis> message to retrieve list of audio output configurations from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-4-6.4">
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioOutputConfigurationsResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-4-6.5">
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioOutputConfigurationOptionsRequest</emphasis> (ConfigurationToken = AOC1, where AOC1 is the first configuration from the list on step <xref linkend="tc.MEDIA-3-4-6.4"/>) message to retrieve options for AOC1 from device.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-4-6.6">
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioOutputConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem> 
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">SetAudioOutputConfigurationRequest</emphasis> (Name = NewName, token = AOC1, OutputToken = InvalidOT1, where InvalidOT1 is not one of OutputTokensAvailable from GetAudioOutputConfigurationResponse, SendPrimacy = InvalidSendPrimacyMode1, where InvalidSendPrimacyMode1 is not one of modes from SendPrimacyOptions from Response on step <xref linkend="tc.MEDIA-3-4-6.6"/>, OutputLevel = InvalidOL1, where OL1 is not between OutputRange.min and OutputRange.max from response on step <xref linkend="tc.MEDIA-3-4-6.6"/>) message with incorrect parameters.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT will generate a SOAP 1.2 fault message (<emphasis role="bold">Sender/InvalidArgVal/ConfigModify</emphasis>).
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioOutputConfigurationRequest</emphasis> (ConfigurationToken = AOC1) message to retrieve settings of AOC1 from device.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sends <emphasis role="bold">GetAudioOutputConfigurationResponse</emphasis> message. 
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Validate AOC1 settings. Check, that all settings are as settings of AOC1 in the list on step <xref linkend="tc.MEDIA-3-4-6.4"/>.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-4-6.12">
                                <para>
                                    Repeat steps <xref linkend="tc.MEDIA-3-4-6.5"/>-<xref linkend="tc.MEDIA-3-4-6.12"/> for other Audio Output Configurations from step <xref linkend="tc.MEDIA-3-4-6.4"/>.
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist> 
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioOutputConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioOutputConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioOutputConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioOutputConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioOutputConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send valid <emphasis role="bold">GetAudioOutputConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send SOAP 1.2 fault message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sent incorrect SOAP 1.2 fault message (fault code, namespace, etc.).
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Settings are changed after incorrect <emphasis role="bold">SetAudioOutputConfigurationRequest</emphasis>.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> Other faults than specified in the test are acceptable but specified is preferable.
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                    </para>
                </section>
                <section xml:id="tc.MEDIA-3-4-7">
                    <title>SET AUDIO OUTPUT CONFIGURATION – INVALID CONFIGURATION
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-4-7
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> 11.12.5 Modify audio output configuration
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> SetAudioOutputConfiguration
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check SetAudioOutputConfiguration command behavior in case of incorrect configuration token.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by the DUT. Audio output is supported by the DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">SetAudioOutputConfigurationRequest</emphasis> (<emphasis role="bold">token = InvalidAudioOutput</emphasis>) message with incorrect ConfigurationToken.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT will generate a SOAP 1.2 fault message (<emphasis role="bold">Sender/InvalidArgVal/NoConfig</emphasis>). 
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist> 
                            <listitem>
                                <para>
                                    The DUT did not send SOAP 1.2 fault message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT sent an incorrect SOAP 1.2 fault message (fault code, namespace, etc.).
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> Other faults than specified in the test are acceptable though the specified are preferable.
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                    </para>
                </section>
                <section xml:id="tc.MEDIA-3-4-8">
                    <title>GET AUDIO OUTPUT CONFIGURATION OPTIONS
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-4-8
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Audio Output Configuration (ONVIF Media Service Specification)
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetAudioOutputConfigurations, GetAudioOutputConfiguration, GetAudioOutputConfigurationOptions, SetAudioOutputConfiguration
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check GetAudioOutputConfigurationOptions behavior.
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media service is supported by the DUT. Audio output is supported by the DUT. Media Service is received from the DUT.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client generates creation or selection of profile with name (in <emphasis role="italic">profileName</emphasis>) and with token (out <emphasis role="italic">profileToken</emphasis>) and retrieves media profile token to delete (out <emphasis role="italic">profileToDelete</emphasis>) or media profile to restore (out <emphasis role="italic">profileToRestore</emphasis>) by following the procedure mentioned in <xref linkend="Annex_HelperCreateConfigureEmptyProfile"/>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioOutputConfigurations</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT responds with <emphasis role="bold">GetCompatibleAudioOutputConfigurationsResponse</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                Configurations =: <emphasis role="italic">compatibleConfigurationsList</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If <emphasis role="italic">compatibleConfigurationsList</emphasis> is empty, FAIL the test and skip other steps.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Set the following:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                <emphasis role="italic">configurationToken</emphasis> := <emphasis role="italic">compatibleConfigurationsList</emphasis>[0].token
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioOutputConfigurationOptions</emphasis> with parameters
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                ConfigurationToken := <emphasis role="italic">configurationToken</emphasis>
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT responds with <emphasis role="bold">GetAudioOutputConfigurationOptionsResponse</emphasis> message with parameters
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                Options
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioOutputConfigurationOptions</emphasis> with parameters
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                ConfigurationToken skipped
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT responds with <emphasis role="bold">GetAudioOutputConfigurationOptionsResponse</emphasis> message with parameters
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                Options
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioOutputConfigurationOptions</emphasis> with parameters
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                ConfigurationToken := <emphasis role="italic">configurationToken</emphasis>
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                ProfileToken skipped
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT responds with <emphasis role="bold">GetAudioOutputConfigurationOptionsResponse</emphasis> message with parameters
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                Options
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioOutputConfigurationOptions</emphasis> with parameters
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                ConfigurationToken skipped
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                ProfileToken skipped
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT responds with <emphasis role="bold">GetAudioOutputConfigurationOptionsResponse</emphasis> message with parameters
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                Options
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If <emphasis role="italic">profileToRestore</emphasis> was returned by HelperCreateEmptyProfile, ONVIF Client restore media profile (in <emphasis role="italic">profileToRestore</emphasis>) by following the procedure mentioned in <xref linkend="Annex_HelperRestoreMediaProfile"/> to restore DUT configuration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If <emphasis role="italic">profileToDelete</emphasis> was returned by HelperCreateEmptyProfile, ONVIF Cliend delete media profile (in <emphasis role="italic">profileToDelete</emphasis>) by following the procedure mentioned in <xref linkend="Annex_HelperDeleteMediaProfile"/> to restore DUT configuration.
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist> 
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetCompatibleAudioOutputConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioOutputConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>

                        </itemizedlist>
                    </para>
                </section>
                <section xml:id="tc.MEDIA-3-4-9">
                    <title>AUDIO OUTPUT CONFIGURATION
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-4-9
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Audio Output Configuration (ONVIF Media Service Specification), Add audio output configuration to a profile (ONVIF Media Specification), Remove audio output configuration from a profile (ONVIF Media Specification), Get audio outputs (ONVIF Media Specification), Get audio output configurations (ONVIF Media Specification), Get audio output configuration (ONVIF Media Specification), Get compatible audio output configurations (ONVIF Media Specification), Get audio output configuration options (ONVIF Media Specification), Modify an audio output configuration (ONVIF Media Specification).
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetAudioOutputs, GetAudioOutputConfigurations, GetAudioOutputConfiguration, GetCompatibleAudioOutputConfigurations, AddAudioOutputConfiguration, GetAudioOutputConfigurationOptions, SetAudioOutputConfiguration, RemoveAudioOutputConfiguration
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To verify Audio Output Configuration Operations
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media service is supported by the DUT. Audio output is supported by the DUT. Media Service is received from the DUT.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>	
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Set the following:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                <emphasis role="italic">profileName</emphasis> := “TestProfile”
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client generates creation or selection of profile with name (in <emphasis role="italic">profileName</emphasis>) and with token (out <emphasis role="italic">profileToken</emphasis>) and retrieves media profile token to delete (out <emphasis role="italic">profileToDelete</emphasis>) or media profile to restore (out <emphasis role="italic">profileToRestore</emphasis>) by following the procedure mentioned in <xref linkend="Annex_HelperCreateConfigureEmptyProfile"/>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioOutputs</emphasis> to retrieve the existing audio outputs of DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT responds with <emphasis role="bold">GetAudioOutputsResponse</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                AudioOutputs := <emphasis role="italic">audioOutputsList</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If <emphasis role="italic">audioOutputsList</emphasis> is empty, FAIL the test and go to step <xref linkend="tc.MEDIA-3-4-9.31"/>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioOutputConfigurations</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT responds with <emphasis role="bold">GetCompatibleAudioOutputConfigurationsResponse</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                Configurations =: <emphasis role="italic">compatibleConfigurationsList</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If <emphasis role="italic">compatibleConfigurationsList</emphasis> is empty, FAIL the test and go to step <xref linkend="tc.MEDIA-3-4-9.31"/>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Set the following:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                <emphasis role="italic">configurationToken</emphasis> := <emphasis role="italic">compatibleConfigurationsList</emphasis>.token[0]
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddAudioOutputConfiguration</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                ConfigurationToken := <emphasis role="italic">configurationToken</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT responds with <emphasis role="bold">AddAudioOutputResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioOutputConfigurationOptions</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                ProfileToken skipped
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                ConfigurationToken := <emphasis role="italic">configurationToken</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT responds with <emphasis role="bold">GetAudioOutputConfigurationOptionsResponse</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                Options =: <emphasis role="italic">options</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Set the following:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                <emphasis role="italic">invalidOutputLevel</emphasis> := <emphasis role="italic">options</emphasis>.OutputLevelRange.Min – 1.
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">SetAudioOutputConfiguration</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                Configuration.Name := <emphasis role="italic">compatibleConfigurationsList</emphasis>[0].token.Name 
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                Configuration.UseCount := <emphasis role="italic">compatibleConfigurationsList</emphasis>[0].token.UseCount
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                Configuration.Token := <emphasis role="italic">configurationToken</emphasis>
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                Configuration.OutputToken := <emphasis role="italic">compatibleConfigurationsList</emphasis>[0].token.OutputToken
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                Configuration.SendPrimacy := <emphasis role="italic">compatibleConfigurationsList</emphasis>[0].token.SendPrimacy
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                Configuration.OutputLevel := <emphasis role="italic">invalidOutputLevel</emphasis>
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                ForcePersistence := false
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT responds with <emphasis role="bold">env:Sender\ter: InvalidArgVal \ter:ConfigModify</emphasis> SOAP 1.2 fault.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Set the following:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                <emphasis role="italic">validOutputLevel</emphasis> := <emphasis role="italic">options</emphasis>.OutputLevelRange.Max.
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">SetAudioOutputConfiguration</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                Configuration.Name := <emphasis role="italic">compatibleConfigurationsList</emphasis>[0].token.Name
                                            </para>
                                        </listitem> 
                                        <listitem>
                                            <para>
                                                Configuration.UseCount := <emphasis role="italic">compatibleConfigurationsList</emphasis>[0].token.UseCount
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                Configuration.Token := <emphasis role="italic">configurationToken</emphasis>
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                Configuration.OutputToken := <emphasis role="italic">compatibleConfigurationsList</emphasis>[0].token.OutputToken
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                Configuration.SendPrimacy := <emphasis role="italic">compatibleConfigurationsList</emphasis>[0].token.SendPrimacy
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                Configuration.OutputLevel := <emphasis role="italic">validOutputLevel</emphasis>
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                ForcePersistence := false
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT responds with <emphasis role="bold">SetAudioOutputConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioOutputConfiguration</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                ConfigurationToken := <emphasis role="italic">configurationToken</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    DUT responds with <emphasis role="bold">GetAudioOutputConfigurationResponse</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                Configuration =: <emphasis role="italic">updatedConfiguration</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If <emphasis role="italic">updatedConfiguration</emphasis>.Name does not equal to <emphasis role="italic">compatibleConfigurationsList</emphasis>[0].token.Name, FAIL the test and go to step <xref linkend="tc.MEDIA-3-4-9.31"/>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If <emphasis role="italic">updatedConfiguration</emphasis>.Token does not equal to <emphasis role="italic">configurationToken</emphasis>, FAIL the test and go to step <xref linkend="tc.MEDIA-3-4-9.31"/>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If <emphasis role="italic">updatedConfiguration</emphasis>.OutputToken does not equal to <emphasis role="italic">compatibleConfigurationsList</emphasis>[0]. token.OutputToken, FAIL the test and go to step <xref linkend="tc.MEDIA-3-4-9.31"/>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If <emphasis role="italic">updatedConfiguration</emphasis>.SendPrimacy does not equal to <emphasis role="italic">compatibleConfigurationsList</emphasis>[0].token. SendPrimacy, FAIL the test and go to step <xref linkend="tc.MEDIA-3-4-9.31"/>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If <emphasis role="italic">updatedConfiguration</emphasis>.OutputLevel does not equal to <emphasis role="italic">validOutputLevel</emphasis>, FAIL the test and go to step <xref linkend="tc.MEDIA-3-4-9.31"/>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">RemoveAudioOutputConfiguration</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT responds with <emphasis role="bold">RemoveAudioOutputConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If <emphasis role="italic">profileToRestore</emphasis> was returned by HelperCreateEmptyProfile, ONVIF Client restore media profile (in <emphasis role="italic">profileToRestore</emphasis>) by following the procedure mentioned in <xref linkend="Annex_HelperRestoreMediaProfile"/> to restore DUT configuration.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-4-9.31">
                                <para>
                                    If <emphasis role="italic">profileToDelete</emphasis> was returned by HelperCreateEmptyProfile, ONVIF Client delete media profile (in <emphasis role="italic">profileToDelete</emphasis>) by following the procedure mentioned in <xref linkend="Annex_HelperDeleteMediaProfile"/> to restore DUT configuration.
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist> 	
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioOutputsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetCompatibleAudioOutputConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">AddAudioOutputConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioOutputConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send the SOAP 1.2 fault message (<emphasis role="bold">InvalidArgVal/ConfigModify</emphasis>) for invalid <emphasis role="bold">SetAudioOutputConfiguration</emphasis> request.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">SetAudioOutputConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioOutputConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">RemoveAudioOutputConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                </section>
                <section xml:id="tc.MEDIA-3-4-10">
                    <title>AUDIO DECODER CONFIGURATION
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-4-10
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Audio Decoder Configuration (ONVIF Media Service Specification), Get compatible audio decoder configurations (ONVIF Media Specification), Add audio decoder configuration to a profile (ONVIF Media Specification), GetProfile (ONVIF Media Specification), Remove audio decoder configuration from a profile (ONVIF Media Specification).
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetAudioDecoderConfigurations, GetAudioDecoderConfiguration, GetCompatibleAudioDecoderConfigurations, AddAudioDecoderConfiguration, GetProfile, RemoveAudioDecoderConfiguration
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To verify Add Audio Decoder Configuration and Remove Audio Decoder Configuration Operations
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media service is supported by the DUT. Audio output is supported by the DUT. Media Service is received from the DUT.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>	
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Set the following:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                <emphasis role="italic">profileName</emphasis> := “TestProfile”
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client generates creation or selection of profile with name (in <emphasis role="italic">profileName</emphasis>) and with token (out <emphasis role="italic">profileToken</emphasis>) and retrieves media profile token to delete (out <emphasis role="italic">profileToDelete</emphasis>) or media profile to restore (out <emphasis role="italic">profileToRestore</emphasis>) by following the procedure mentioned in <xref linkend="Annex_HelperCreateConfigureEmptyProfile"/>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioOutputConfigurations</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT responds with <emphasis role="bold">GetCompatibleAudioOutputConfigurationsResponse</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                Configurations =: <emphasis role="italic">compatibleAudioOutputConfigs</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If <emphasis role="italic">compatibleAudioOutputConfigs</emphasis> is empty, FAIL the test and and go to step <xref linkend="tc.MEDIA-3-4-10.30"/>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Set the following:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                <emphasis role="italic">audioOutputConfigToken</emphasis> := <emphasis role="italic">compatibleAudioOutputConfigs</emphasis>[0].token
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddAudioOutputConfiguration</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                ConfigurationToken := <emphasis role="italic">audioOutputConfigToken</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT responds with <emphasis role="bold">AddAudioOutputConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioDecoderConfigurations</emphasis>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT responds with <emphasis role="bold">GetAudioDecoderConfigurationsResponse</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                Configurations =: <emphasis role="italic">audioDecoderConfigsList</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If <emphasis role="italic">audioDecoderConfigsList</emphasis> is empty, FAIL the test and go to step <xref linkend="tc.MEDIA-3-4-10.30"/>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioDecoderConfigurations</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT responds with <emphasis role="bold">GetCompatibleAudioDecoderConfigurationsResponse</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                Configuration =: <emphasis role="italic">compatibleAudioDecoderConfigs</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If <emphasis role="italic">compatibleAudioDecoderConfigs</emphasis> is empty, FAIL the test and go to step <xref linkend="tc.MEDIA-3-4-10.30"/>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Set the following:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                <emphasis role="italic">audioDecoderConfigToken</emphasis> := <emphasis role="italic">compatibleAudioDecoderConfigs</emphasis>[0].token
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">AddAudioDecoderConfiguration</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                ConfigurationToken := <emphasis role="italic">audioDecoderConfigToken</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT responds with <emphasis role="bold">AddAudioDecoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetProfile</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT responds with <emphasis role="bold">GetProfileResponse</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                Profile =: <emphasis role="italic">profile</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If <emphasis role="italic">profile</emphasis> does not contain Extension.AudioOutputConfiguration element, FAIL the test and go to step <xref linkend="tc.MEDIA-3-4-10.30"/>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If <emphasis role="italic">profile</emphasis>.Extension.AudioOutputConfiguration.token value does not equal to <emphasis role="italic">audioOutputConfigToken</emphasis>, FAIL the test and go to step <xref linkend="tc.MEDIA-3-4-10.30"/>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If <emphasis role="italic">profile</emphasis> does not contain Extension.AudioDecoderConfiguration element, FAIL the test and go to step <xref linkend="tc.MEDIA-3-4-10.30"/>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If <emphasis role="italic">profile</emphasis>.Extension.AudioDecoderConfiguration.token value does not equal to <emphasis role="italic">audioDecoderConfigToken</emphasis>, FAIL the test and go to step <xref linkend="tc.MEDIA-3-4-10.30"/>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">RemoveAudioDecoderConfiguration</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT responds with <emphasis role="bold">RemoveAudioDecoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">RemoveAudioOutputConfiguration</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                ProfileToken := <emphasis role="italic">profileToken</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT responds with <emphasis role="bold">RemoveAudioOutputConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem xml:id="tc.MEDIA-3-4-10.30">
                                <para>
                                    If <emphasis role="italic">profileToRestore</emphasis> was returned by HelperCreateEmptyProfile, ONVIF Cliend restore media profile (in <emphasis role="italic">profileToRestore</emphasis>) by following the procedure mentioned in <xref linkend="Annex_HelperRestoreMediaProfile"/> to restore DUT configuration.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If <emphasis role="italic">profileToDelete</emphasis> was returned by HelperCreateEmptyProfile, ONVIF Cliend delete media profile (in <emphasis role="italic">profileToDelete</emphasis>) by following the procedure mentioned in <xref linkend="Annex_HelperDeleteMediaProfile"/> to restore DUT configuration.
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist> 	
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetCompatibleAudioOutputConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">AddAudioOutputConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioDecoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetCompatibleAudioDecoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">AddAudioDecoderConfiguration</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetProfile</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">RemoveAudioDecoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">RemoveAudioOutputConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                </section>
                <section xml:id="tc.MEDIA-3-4-11">
                    <title>AUDIO OUTPUT CONFIGURATIONS AND AUDIO OUTPUT CONFIGURATION OPTIONS CONSISTENCY
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-4-11
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get Audio Output Configurations (ONVIF Media Specification), Get Audio Output Configuration Options (ONVIF Media Specification).
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetAudioOutputConfigurations, GetAudioOutputConfigurationOptions
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check that GetAudioOutputConfigurations command and GetAudioOutputConfigurationOptions command are consistent
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media service is supported by the DUT. Audio output is supported by the DUT. Media Service is received from the DUT.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioOutputConfigurations</emphasis>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT responds with <emphasis role="bold">GetAudioOutputConfigurationsResponse</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                Configurations list =: <emphasis role="italic">audioOutputConfigsList</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If <emphasis role="italic">audioOutputConfigsList</emphasis> is empty, FAIL the test and skip other steps.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    For each audio output configuration (<emphasis role="italic">audioOutputConfig</emphasis>) from <emphasis role="italic">audioOutputConfigsList</emphasis> repeat the following steps :
                                    <orderedlist numeration="arabic" inheritnum="inherit">
                                        <?dbfo label-width="2.5em"?>
                                        <listitem>
                                            <para>
                                                ONVIF Client invokes <emphasis role="bold">GetAudioOutputConfigurationOptions</emphasis> with parameters
                                                <itemizedlist>
                                                    <listitem>
                                                        <para>
                                                            ConfigurationToken := <emphasis role="italic">audioOutputConfig</emphasis>.token
                                                        </para>
                                                    </listitem>
                                                    <listitem>
                                                        <para>
                                                            ProfileToken skipped
                                                        </para>
                                                    </listitem>
                                                </itemizedlist>
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                The DUT responds with <emphasis role="bold">GetAudioOutputConfigurationOptionsResponse</emphasis> with parameters:
                                                <itemizedlist>
                                                    <listitem>
                                                        <para>
                                                            Options =: <emphasis role="italic">audioOutputOptions</emphasis>
                                                        </para>
                                                    </listitem>
                                                </itemizedlist>
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                If <emphasis role="italic">audioOutputOptions</emphasis>.OutputTokensAvailable list contains at least two equal tokens, FAIL the test and skip other steps.
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                If <emphasis role="italic">audioOutputOptions</emphasis>.OutputTokensAvailable list does not contain <emphasis role="italic">audioOutputConfig</emphasis>.OutputToken value, FAIL the test and skip other steps.
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                If <emphasis role="italic">audioOutputConfig</emphasis> contains SendPrimacy element, check the following:
                                                <orderedlist numeration="arabic" inheritnum="inherit">
                                                    <?dbfo label-width="2.5em"?>
                                                    <listitem>
                                                        <para>
                                                            If <emphasis role="italic">audioOutputOptions</emphasis> does not contain at least one SendPrimacyOptions element, FAIL the test and skip other steps.
                                                        </para>
                                                    </listitem>
                                                    <listitem>
                                                        <para>
                                                            If <emphasis role="italic">audioOutputOptions</emphasis>.SendPrimacyOptions list does not contain <emphasis role="italic">audioOutputConfig</emphasis>.SendPrimacy value, FAIL the test and skip other steps. 
                                                        </para>
                                                    </listitem>
                                                </orderedlist>
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                If <emphasis role="italic">audioOutputConfig</emphasis>.OutputLevel value is less than <emphasis role="italic">audioOutputOptions</emphasis>.OutputLevelRange.Min, FAIL the test and skip other steps.
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                If <emphasis role="italic">audioOutputConfig</emphasis>.OutputLevel value is more than <emphasis role="italic">audioOutputOptions</emphasis>.OutputLevelRange.Max, FAIL the test and skip other steps.
                                            </para>
                                        </listitem>
                                    </orderedlist>
                                </para>
                            </listitem>


                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist> 	
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioOutputConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioOutputConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>

                        </itemizedlist>
                    </para>
                </section>
                <section xml:id="tc.MEDIA-3-4-12">
                    <title>PROFILES AND AUDIO OUTPUT CONFIGURATION OPTIONS CONSISTENCY
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-4-12
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get Profiles (ONVIF Media Specification), Get Audio Output Configuration Options (ONVIF Media Specification).
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetProfiles, GetAudioOutputConfigurationOptions
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check that GetProfiles command and GetAudioOutputConfigurationOptions command are consistent
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media service is supported by the DUT. Audio output is supported by the DUT. Media Service is received from the DUT.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>	
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetProfiles</emphasis>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    DUT responds with <emphasis role="bold">GetProfilesResponse</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                Profiles =: <emphasis role="italic">profilesList</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If <emphasis role="italic">profilesList</emphasis> is empty, FAIL the test and skip other steps.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    For each profile item with Extension.AudioOutputConfiguration element (<emphasis role="italic">profile</emphasis>) from <emphasis role="italic">profilesList</emphasis> repeat the following steps:
                                    <orderedlist numeration="arabic" inheritnum="inherit">
                                        <?dbfo label-width="2.5em"?>
                                        <listitem>
                                            <para>
                                                ONVIF Client invokes <emphasis role="bold">GetAudioOutputConfigurationOptions</emphasis> with parameters
                                                <itemizedlist>
                                                    <listitem>
                                                        <para>
                                                            ConfigurationToken := <emphasis role="italic">profile</emphasis>.Extension.AudioOutputConfiguration.token
                                                        </para>
                                                    </listitem>
                                                    <listitem>
                                                        <para>
                                                            ProfileToken := <emphasis role="italic">profile</emphasis>.token
                                                        </para>
                                                    </listitem>
                                                </itemizedlist>
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                The DUT responds with <emphasis role="bold">GetAudioOutputConfigurationOptionsResponse</emphasis> with parameters:
                                                <itemizedlist>
                                                    <listitem>
                                                        <para>
                                                            Options =: <emphasis role="italic">audioOutputOptions</emphasis>
                                                        </para>
                                                    </listitem>
                                                </itemizedlist>
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                If <emphasis role="italic">audioOutputOptions</emphasis>.OutputTokensAvailable list contains at least two equal tokens, FAIL the test and skip other steps.
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                If <emphasis role="italic">audioOutputOptions</emphasis>.OutputTokensAvailable token list does not contain <emphasis role="italic">profile</emphasis>.Extension.AudioOutputConfiguration.OutputToken value, FAIL the test and skip other steps.
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                If <emphasis role="italic">profile</emphasis>.Extension.AudioOutputConfiguration contains SendPrimacy element, check the following:
                                                <orderedlist numeration="arabic" inheritnum="inherit">
                                                    <?dbfo label-width="2.5em"?>
                                                    <listitem>
                                                        <para>
                                                            If <emphasis role="italic">audioOutputOptions</emphasis> does not contain at least one SendPrimacyOptions element, FAIL the test and skip other steps.
                                                        </para>
                                                    </listitem>
                                                    <listitem>
                                                        <para>
                                                            If <emphasis role="italic">audioOutputOptions</emphasis>.SendPrimacyOptions list does not contain <emphasis role="italic">profile</emphasis>.Extension.AudioOutputConfiguration.SendPrimacy value, FAIL the test and skip other steps.
                                                        </para>
                                                    </listitem>
                                                </orderedlist>
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                If <emphasis role="italic">profile</emphasis>.Extension.AudioOutputConfiguration.OutputLevel value is less than <emphasis role="italic">audioOutputOptions</emphasis>.OutputLevelRange.Min, FAIL the test and skip other steps.
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                If <emphasis role="italic">profile</emphasis>.Extension.AudioOutputConfiguration.OutputLevel value is more than <emphasis role="italic">audioOutputOptions</emphasis>.OutputLevelRange.Max, FAIL the test and skip other steps.
                                            </para>
                                        </listitem>
                                    </orderedlist>
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist> 	
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetProfilesResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioOutputConfigurationOptionsResponse</emphasis> message.
                                </para>
                            </listitem>

                        </itemizedlist>
                    </para>
                </section>
                <section xml:id="tc.MEDIA-3-4-13">
                    <title>PROFILES AND AUDIO OUTPUT CONFIGURATIONS CONSISTENCY
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-4-13
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get media profiles (ONVIF Media Specification), Get audio output configurations (ONVIF Media Specification).
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetProfiles, GetAudioOutputConfigurations
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check that GetAudioOutputConfigurations command and GetProfiles command are consistent
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media service is supported by the DUT. Audio output is supported by the DUT. Media Service is received from the DUT.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetProfiles</emphasis>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    DUT responds with <emphasis role="bold">GetProfilesResponse</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                Profiles =: <emphasis role="italic">profilesList</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If <emphasis role="italic">profilesList</emphasis> is empty, FAIL the test and skip other steps.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioOutputConfigurations</emphasis>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    DUT responds with <emphasis role="bold">GetAudioOutputConfigurationsResponse</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                Configurations list =: <emphasis role="italic">audioOutputConfigsList</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If <emphasis role="italic">audioOutputConfigsList</emphasis> is empty, FAIL the test and skip other steps.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If <emphasis role="italic">audioOutputConfigsList</emphasis> contains at least two AudioOutputConfiguration items with equal token, FAIL the test and skip other steps.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    For each profile item with Extension.AudioOutputConfiguration element (<emphasis role="italic">profile</emphasis>) from <emphasis role="italic">profilesList</emphasis> repeat the following steps:
                                    <orderedlist numeration="arabic" inheritnum="inherit">
                                        <?dbfo label-width="2.5em"?>
                                        <listitem>
                                            <para>
                                                If <emphasis role="italic">audioOutputConfigsList</emphasis> does not contain AudioOutputConfiguration item with token value equals to <emphasis role="italic">profile</emphasis>.Extension.AudioOutputConfiguration.token, FAIL the test and skip other steps.
                                            </para>
                                        </listitem>
                                        <listitem xml:id="tc.MEDIA-3-4-13.10.2">
                                            <para>
                                                If <emphasis role="italic">profile</emphasis>.Extension.AudioOutputConfiguration item does not have equal field values to <emphasis role="italic">audioOutputConfigsList</emphasis> [token = <emphasis role="italic">profile</emphasis>.Extension.AudioOutputConfiguration.token] item, FAIL the test and skip other steps.
                                            </para>
                                        </listitem>
                                    </orderedlist>
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist> 	
                            <listitem>
                                <para>
                                    DUT did not send <emphasis role="bold">GetProfilesResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    DUT did not send <emphasis role="bold">GetAudioOutputConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> The following fields are comparied at step <xref linkend="tc.MEDIA-3-4-13.10.2"/>:
                        <itemizedlist>
                            <listitem>
                                <para>
                                    AudioOutputConfiguration:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                Name
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                UseCount
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                token
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                OutputToken
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                SendPrimacy
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                OutputLevel
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                        </itemizedlist>

                    </para>
                </section>
                <section xml:id="tc.MEDIA-3-4-14">
                    <title>AUDIO OUTPUT CONFIGURATIONS AND AUDIO OUTPUT CONFIGURATION CONSISTENCY
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-4-14
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get Audio Output Configurations (ONVIF Media Specification), Get Audio Output Configuration (ONVIF Media Specification).
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetAudioOutputConfigurations, GetAudioOutputConfiguration
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check that GetAudioOutputConfigurations command and GetAudioOutputConfiguration command are consistent
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media service is supported by the DUT. Audio output is supported by the DUT. Media Service is received from the DUT.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>	
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioOutputConfigurations</emphasis>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    DUT responds with <emphasis role="bold">GetAudioOutputConfigurationsResponse</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                Configurations =: <emphasis role="italic">audioOutputConfigsList</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If <emphasis role="italic">audioOutputConfigsList</emphasis> is empty, FAIL the test and skip other steps.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    For each AudioOutputConfiguration item (<emphasis role="italic">audioOutputConfig</emphasis>) from <emphasis role="italic">audioOutputConfigsList</emphasis> repeat the following steps :
                                    <orderedlist numeration="arabic" inheritnum="inherit">
                                        <?dbfo label-width="2.5em"?>
                                        <listitem>
                                            <para>
                                                ONVIF Client invokes <emphasis role="bold">GetAudioOutputConfiguration</emphasis> with parameters
                                                <itemizedlist>
                                                    <listitem>
                                                        <para>
                                                            ConfigurationToken := <emphasis role="italic">audioOutputConfig</emphasis>.token
                                                        </para>
                                                    </listitem>
                                                </itemizedlist>
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                DUT responds with <emphasis role="bold">GetAudioOutputConfigurationResponse</emphasis> with parameters:
                                                <itemizedlist>
                                                    <listitem>
                                                        <para>
                                                            Configuration =: <emphasis role="italic">configuration</emphasis>
                                                        </para>
                                                    </listitem>
                                                </itemizedlist>
                                            </para>
                                        </listitem>
                                        <listitem xml:id="tc.MEDIA-3-4-14.6.3">
                                            <para>
                                                If <emphasis role="italic">audioOutputConfig</emphasis> item does not have equal field values to configuration item, FAIL the test.
                                            </para>
                                        </listitem>
                                    </orderedlist>
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist> 	
                            <listitem>
                                <para>
                                    DUT did not send <emphasis role="bold">GetAudioOutputConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    DUT did not send <emphasis role="bold">GetAudioOutputConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> The following fields are comparied at step <xref linkend="tc.MEDIA-3-4-14.6.3"/>:
                        <itemizedlist>
                            <listitem>
                                <para>
                                    AudioOutputConfiguration:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                Name
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                UseCount
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                token
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                OutputToken
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                SendPrimacy
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                OutputLevel
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                        </itemizedlist>

                    </para>
                </section>
                <section xml:id="tc.MEDIA-3-4-15">
                    <title>AUDIO OUTPUT CONFIGURATIONS AND AUDIO OUTPUTS CONSISTENCY
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-4-15
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get Audio Output Configurations (ONVIF Media Specification), Get Audio Outputs (ONVIF Media Specification).
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetAudioOutputConfigurations, GetAudioOutputs
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check that GetAudioOutputConfigurations command and GetAudioOutputs command are consistent
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media service is supported by the DUT. Audio output is supported by the DUT. Media Service is received from the DUT.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioOutputConfigurations</emphasis>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    DUT responds with <emphasis role="bold">GetAudioOutputConfigurationsResponse</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                Configurations =: <emphasis role="italic">audioOutputConfigsList</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If <emphasis role="italic">audioOutputConfigsList</emphasis> is empty, FAIL the test and skip other steps.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioOutputs</emphasis>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    DUT responds with <emphasis role="bold">GetAudioOutputsResponse</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                AudioOutputs list =: <emphasis role="italic">audioOutputsList</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If <emphasis role="italic">audioOutputsList</emphasis> is empty, FAIL the test and skip other steps.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If <emphasis role="italic">audioOutputsList</emphasis> contains at least two items with equal tokens, FAIL the test and skip other steps.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    For each AudioOutputConfiguration item (<emphasis role="italic">audioOutputConfig</emphasis>) from <emphasis role="italic">audioOutputConfigsList</emphasis> repeat the following:
                                    <orderedlist numeration="arabic" inheritnum="inherit">
                                        <?dbfo label-width="2.5em"?>
                                        <listitem>
                                            <para>
                                                If <emphasis role="italic">audioOutputsList</emphasis> does not contain token equals to <emphasis role="italic">audioOutputConfig</emphasis>.OutputToken, FAIL the test.
                                            </para>
                                        </listitem>
                                    </orderedlist>
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist> 	
                            <listitem>
                                <para>
                                    DUT did not send <emphasis role="bold">GetAudioOutputConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    DUT did not send <emphasis role="bold">GetAudioOutputsResponse</emphasis> message.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                </section>
                <section xml:id="tc.MEDIA-3-4-16">
                    <title>PROFILES AND AUDIO DECODER CONFIGURATIONS CONSISTENCY
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-4-16
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get media profiles (ONVIF Media Specification), Get audio decoder configurations (ONVIF Media Specification).
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetProfiles, GetAudioDecoderConfigurations
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check that GetAudioDecoderConfigurations command and GetProfiles command are consistent
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media service is supported by the DUT. Audio output is supported by the DUT. Media Service is received from the DUT.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetProfiles</emphasis>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    DUT responds with <emphasis role="bold">GetProfilesResponse</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                Profiles =: <emphasis role="italic">profilesList</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If <emphasis role="italic">profilesList</emphasis> is empty, FAIL the test and skip other steps.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioDecoderConfigurations</emphasis>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    DUT responds with <emphasis role="bold">GetAudioDecoderConfigurationsResponse</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                Configurations list =: <emphasis role="italic">audioDecoderConfigsList</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If <emphasis role="italic">audioDecoderConfigsList</emphasis> is empty, FAIL the test and skip other steps.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If <emphasis role="italic">audioDecoderConfigsList</emphasis> contains at least two AudioDecoderConfiguration items with equal token, FAIL the test and skip other steps.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    For each profile item with Extension.AudioDecoderConfiguration element (<emphasis role="italic">profile</emphasis>) from <emphasis role="italic">profilesList</emphasis> repeat the following steps:
                                    <orderedlist numeration="arabic" inheritnum="inherit">
                                        <?dbfo label-width="2.5em"?>
                                        <listitem>
                                            <para>
                                                If <emphasis role="italic">audioDecoderConfigsList</emphasis> does not contain AudioDecoderConfiguration item with token value equals to <emphasis role="italic">profile</emphasis>.Extension.AudioDecoderConfiguration.token, FAIL the test and skip other steps.
                                            </para>
                                        </listitem>
                                        <listitem xml:id="tc.MEDIA-3-4-16.10.2">
                                            <para>
                                                If <emphasis role="italic">profile</emphasis>.Extension.AudioDecoderConfiguration item does not have equal field values to <emphasis role="italic">audioDecoderConfigsList</emphasis> [token = <emphasis role="italic">profile</emphasis>.Extension.AudioDecoderConfiguration.token] item, FAIL the test and skip other steps.
                                            </para>
                                        </listitem>
                                    </orderedlist>
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist> 	
                            <listitem>
                                <para>
                                    DUT did not send <emphasis role="bold">GetProfilesResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    DUT did not send <emphasis role="bold">GetAudioDecoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> The following fields are compared at step <xref linkend="tc.MEDIA-3-4-16.10.2"/>:
                        <itemizedlist>
                            <listitem>
                                <para>
                                    AudioDecoderConfiguration:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                Name
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                UseCount
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                token
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                        </itemizedlist>

                    </para>
                </section>
                <section xml:id="tc.MEDIA-3-4-17">
                    <title>AUDIO DECODER CONFIGURATIONS AND AUDIO DECODER CONFIGURATION CONSISTENCY
                    </title>
                    <para>
                        <emphasis role="bold">Test Case ID:</emphasis> MEDIA-3-4-17
                    </para>
                    <para>
                        <emphasis role="bold">Specification Coverage:</emphasis> Get Audio Decoder Configurations (ONVIF Media Specification), Get Audio Decoder Configuration (ONVIF Media Specification).
                    </para>
                    <para>
                        <emphasis role="bold">Feature Under Test:</emphasis> GetAudioDecoderConfigurations, GetAudioDecoderConfiguration
                    </para>
                    <para>
                        <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                    </para>
                    <para>
                        <emphasis role="bold">Test Purpose:</emphasis> To check that GetAudioDecoderConfigurations command and GetAudioDecoderConfiguration command are consistent
                    </para>
                    <para>
                        <emphasis role="bold">Pre-Requisite:</emphasis> Media service is supported by the DUT. Audio output is supported by the DUT. Media Service is received from the DUT.
                    </para>
                    <para>
                        <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                    </para>
                    <para>
                        <emphasis role="bold">Test Procedure:</emphasis>
                    </para>	
                    <para>
                        <orderedlist>
                            <?dbfo label-width="1.5em"?>
                            <listitem>
                                <para>
                                    Start an ONVIF Client.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Start the DUT.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ONVIF Client invokes <emphasis role="bold">GetAudioDecoderConfigurations</emphasis>.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT responds with <emphasis role="bold">GetAudioDecoderConfigurationsResponse</emphasis> with parameters:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                Configurations list =: <emphasis role="italic">audioDecoderConfigsList</emphasis>
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    If <emphasis role="italic">audioDecoderConfigsList</emphasis> is empty, FAIL the test and skip other steps.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    For each AudioDecoderConfiguration item (<emphasis role="italic">audioDecoderConfig</emphasis>) from <emphasis role="italic">audioDecoderConfigsList</emphasis> repeat the following steps :
                                    <orderedlist numeration="arabic" inheritnum="inherit">
                                        <?dbfo label-width="2.5em"?>
                                        <listitem>
                                            <para>
                                                ONVIF Client invokes <emphasis role="bold">GetAudioDecoderConfiguration</emphasis> with parameters
                                                <itemizedlist>
                                                    <listitem>
                                                        <para>
                                                            ConfigurationToken := <emphasis role="italic">audioDecoderConfig</emphasis>.token
                                                        </para>
                                                    </listitem>
                                                </itemizedlist>
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                The DUT responds with <emphasis role="bold">GetAudioDecoderConfigurationResponse</emphasis> with parameters:
                                                <itemizedlist>
                                                    <listitem>
                                                        <para>
                                                            Configuration =: <emphasis role="italic">configuration</emphasis>
                                                        </para>
                                                    </listitem>
                                                </itemizedlist>
                                            </para>
                                        </listitem>
                                        <listitem xml:id="tc.MEDIA-3-4-17.6.3">
                                            <para>
                                                If <emphasis role="italic">audioDecoderConfig</emphasis> item does not have equal field values to <emphasis role="italic">configuration</emphasis> item, FAIL the test.
                                            </para>
                                        </listitem>
                                    </orderedlist>
                                </para>
                            </listitem>

                        </orderedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Test Result:</emphasis>
                    </para>
                    <para>
                        <emphasis role="bold">PASS –</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    DUT passes all assertions.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">FAIL –</emphasis>
                        <itemizedlist> 	
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioDecoderConfigurationsResponse</emphasis> message.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    The DUT did not send <emphasis role="bold">GetAudioDecoderConfigurationResponse</emphasis> message.
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">NOTE:</emphasis> The following fields are comparied at step <xref linkend="tc.MEDIA-3-4-17.6.3"/>:
                        <itemizedlist>
                            <listitem>
                                <para>
                                    AudioDecoderConfiguration:
                                    <itemizedlist>
                                        <listitem>
                                            <para>
                                                Name
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                UseCount
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                token
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </para>
                            </listitem>
                        </itemizedlist>

                    </para>
                </section>
            </section>
            <!--PTZ Configuration-->
            <section xml:id="tc.media_configuration.ptz_configuration">
                <title>PTZ Configuration</title>
            </section>
            <section xml:id="tc.MEDIA-4-1-2">
                <title>PTZ CONFIGURATIONS AND PROFILES CONSISTENCY
                </title>
                <para>
                    <emphasis role="bold">Test Case ID:</emphasis> MEDIA-4-1-2
                </para>
                <para>
                    <emphasis role="bold">Specification Coverage:</emphasis> Get media profiles, GetConfigurations.
                </para>
                <para>
                    <emphasis role="bold">Feature Under Test:</emphasis> GetProfiles, GetConfigurations
                </para>
                <para>
                    <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl, ptz.wsdl.
                </para>
                <para>
                    <emphasis role="bold">Test Purpose:</emphasis> To check that GetPTZConfigurations command and GetProfiles command are consistent.
                </para>
                <para>
                    <emphasis role="bold">Pre-Requisite:</emphasis> PTZ is supported by DUT. ONVIF Client gets the Media Service entry point and PTZ Service entry point by GetCapabilities command.
                </para>
                <para>
                    <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                </para>
                <para>
                    <emphasis role="bold">Test Procedure:</emphasis>
                </para>
                <para>
                    <orderedlist>
                        <?dbfo label-width="1.5em"?>
                        <listitem>
                            <para>
                                Start an ONVIF Client.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Start the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetProfilesRequest</emphasis> message to retrieve list of profiles and their PTZ configurations.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT sends <emphasis role="bold">GetProfilesResponse</emphasis> message. 
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetConfigurations</emphasis> message to retrieve list of PTZ Configurations from device.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT sends <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem> 
                        <listitem>
                            <para>
                                Check that each PTZConfiguration from <emphasis role="bold">GetConfigurationsResponse</emphasis> message has unique token.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Check that all PTZConfigurations from the <emphasis role="bold">GetProfilesResponse</emphasis> message are included in list the <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Check that PTZConfiguration parameters are same in the <emphasis role="bold">GetProfilesResponse</emphasis> message and in the <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>

                    </orderedlist>
                </para>
                <para>
                    <emphasis role="bold">Test Result:</emphasis>
                </para>
                <para>
                    <emphasis role="bold">PASS –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT passes all assertions.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">FAIL –</emphasis>
                    <itemizedlist> 
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">GetProfilesResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send valid <emphasis role="bold">GetProfilesResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send valid <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT return two or more PTZConfigurations in <emphasis role="bold">GetConfigurationsResponse</emphasis> message with the same ConfigurationToken.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT returned the <emphasis role="bold">GetProfilesResponse</emphasis> message with PTZConfigurations that were not included in the <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT returned different parameters list and parameters values for the same PTZConfiguration in the <emphasis role="bold">GetConfigurationsResponse</emphasis> message and in the <emphasis role="bold">GetProfilesResponse</emphasis> message.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
            </section>

        </section>
        <!--Metadata Configuration-->
        <section xml:id="tc.media_configuration.metadata_configuration">
            <title>Metadata Configuration</title>

            <section xml:id="tc.MEDIA-5-1-3">
                <title>METADATA CONFIGURATION
                </title>
                <para>
                    <emphasis role="bold">Test Case ID:</emphasis> MEDIA-5-1-3
                </para>
                <para>
                    <emphasis role="bold">Specification Coverage:</emphasis> Create media profile, Add metadata configuration to a profile, Remove metadata configuration from a profile, Delete media profile, Get metadata configurations, Get metadata configuration, Get compatible metadata configurations, Get metadata configuration options, Modify a metadata configuration.
                </para>
                <para>
                    <emphasis role="bold">Feature Under Test:</emphasis> None
                </para>
                <para>
                    <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                </para>
                <para>
                    <emphasis role="bold">Test Purpose:</emphasis> To verify DUT Metadata Configuration Operations
                </para>
                <para>
                    <emphasis role="bold">Pre-Requisite:</emphasis> None
                </para>
                <para>
                    <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                </para>
                <para>
                    <emphasis role="bold">Test Procedure:</emphasis>
                </para>	
                <para>
                    <orderedlist>
                        <?dbfo label-width="1.5em"?>
                        <listitem>
                            <para>
                                Start an ONVIF Client.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Start the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">CreateProfile</emphasis> request with ProfileToken = ‘testprofileX’.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Verify <emphasis role="bold">CreateProfileResponse</emphasis> message or SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis>) from the DUT. If fault was received, execute <xref linkend="Annex_HelperCreateEmptyProfile"/>.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client will invoke <emphasis role="bold">GetMetadataConfigurations</emphasis> request to retrieve the list of metadata configurations supported by the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the list of metadata configurations sent by the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetCompatibleMetadataConfigurations</emphasis> request with ‘testprofileX’ as ProfileToken.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT sends the list of metadata configurations compatible with the received media profile token.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">AddMetadataConfiguration</emphasis> request message with ProfileToken as ‘testprofileX’ and ConfigurationToken as one of the metadata configuration tokens received in the <emphasis role="bold">GetCompatibleMetadataConfigurationsResponse</emphasis>.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT adds the Metadata configuration to the profile and sends the response.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetMetadataConfigurationOptions</emphasis> request with ConfigurationToken as same token in <emphasis role="bold" service="skip">AddMetadataConfiguration</emphasis> request.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT sends the configurable options supported for the received metadata configuration.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">SetMetadataConfiguration</emphasis> request with metadata configuration values outside the range defined in <emphasis role="bold">GetMetadataConfigurationOptionsResponse</emphasis> and ‘ForcePersistence’ flag as ‘FALSE’.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT sends the SOAP 1.2 fault message (<emphasis role="bold">InvalidArgVal/ConfigModify</emphasis>).
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the SOAP fault message sent by DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">SetMetadataConfiguration</emphasis> request with metadata configuration values within the range defined in <emphasis role="bold">GetMetadataConfigurationOptionsResponse</emphasis> and ‘ForcePersistence’ flag as ‘FALSE’.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT modifies the metadata configuration and sends the <emphasis role="bold">SetMetadataConfiguration</emphasis> indicating success.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the modified Metadata configuration by invoking the <emphasis role="bold">GetMetadataConfigurations</emphasis> request.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT sends the modified Metadata configuration in <emphasis role="bold">GetMetadataConfigurationResponse</emphasis>.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">RemoveMetadataConfiguration</emphasis> request with ProfileToken as ‘testprofileX’.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT removes the Metadata configuration token from media profile and sends the response.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                If profile with profile token = testprofileX was created during test execution, then ONVIF Client invokes DeleteProfile request with ProfileToken as ‘testprofileX’. Otherwise, ONVIF client skip rest steps and restore profile settings.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT deletes the media profile and sends the response.
                            </para>
                        </listitem>

                    </orderedlist>
                </para>
                <para>
                    <emphasis role="bold">Test Result:</emphasis>
                </para>
                <para>
                    <emphasis role="bold">PASS –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT passes all assertions.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">FAIL –</emphasis>
                    <itemizedlist> 	
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">CreateProfileResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">GetMetadataConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">GetCompatibleMetadataConfigurationsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">AddMetadataConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">GetMetadataConfigurationOptionsResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send the SOAP 1.2 fault message (<emphasis role="bold">InvalidArgVal/ConfigModify</emphasis>) for invalid <emphasis role="bold">SetMetadataConfiguration</emphasis> request.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">SetMetadataConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">GetMetadataConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not modify metadata configuration correctly.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">RemoveMetadataConfigurationResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send <emphasis role="bold">DeleteProfileResponse</emphasis> message.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.
                </para>
                <para>
                    <emphasis role="bold">NOTE:</emphasis> If profile was deleted during <xref linkend="Annex_HelperCreateEmptyProfile"/> execution, ONVIF Client restores the deleted profile and profile settings.

                </para>
            </section>

        </section>
        <!--Media Streaming-->
        <section xml:id="tc.media_configuration.media_streaming">
            <title>Media Streaming</title>

            <section xml:id="tc.MEDIA-6-1-1">
                <title>SNAPSHOT URI
                </title>
                <para>
                    <emphasis role="bold">Test Case ID:</emphasis> MEDIA-6-1-1
                </para>
                <para>
                    <emphasis role="bold">Specification Coverage:</emphasis> Get media profiles, Request snapshot URI.
                </para>
                <para>
                    <emphasis role="bold">Feature Under Test:</emphasis> GetSnapshotUri
                </para>
                <para>
                    <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                </para>
                <para>
                    <emphasis role="bold">Test Purpose:</emphasis> To retrieve snapshot URI of DUT for given media profile
                </para>
                <para>
                    <emphasis role="bold">Pre-Requisite:</emphasis> None
                </para>
                <para>
                    <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                </para>
                <para>
                    <emphasis role="bold">Test Procedure:</emphasis>
                </para>	
                <para>
                    <orderedlist>
                        <?dbfo label-width="1.5em"?>
                        <listitem>
                            <para>
                                Start an ONVIF Client.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Start the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetProfiles</emphasis> request to retrieve the list of existing media profiles on DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client validates the <emphasis role="bold">GetProfilesResponse</emphasis> message sent by the DUT. At least one media profile should be present with video source and video encoder.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes <emphasis role="bold">GetSnapshotUri</emphasis> request with ProfileToken as one of the media profile tokens received in <emphasis role="bold">GetProfilesResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT sends HTTP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the GetSnapshotUriResponse message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client invokes HTTP GET request on the snapshot URI sent by DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT sends 200 OK message and the single shot JPEG image data.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client verifies the JPEG image sent by the DUT.
                            </para>
                        </listitem>

                    </orderedlist>
                </para>
                <para>
                    <emphasis role="bold">Test Result:</emphasis>
                </para>
                <para>
                    <emphasis role="bold">PASS –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT passes all assertions.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">FAIL –</emphasis>
                    <itemizedlist> 	
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">GetProfilesResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send <emphasis role="bold">GetSnapshotUriResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetSnapshotUriResponse</emphasis> message (mandatory parameters –Uri, ValidUntilConnect, ValidUntilReboot and Timeout).
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send 200 OK message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT did not send valid JPEG image data.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
            </section>

        </section>
        <!--Error Handling-->
        <section xml:id="tc.media_configuration.error_handling">
            <title>Error Handling</title>

            <section xml:id="tc.MEDIA-7-1-2">
                <title>SOAP FAULT MESSAGE
                </title>
                <para>
                    <emphasis role="bold">Test Case ID:</emphasis> MEDIA-7-1-2
                </para>
                <para>
                    <emphasis role="bold">Specification Coverage:</emphasis> Request stream URI.
                </para>
                <para>
                    <emphasis role="bold">Feature Under Test:</emphasis> GetStreamUri
                </para>
                <para>
                    <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                </para>
                <para>
                    <emphasis role="bold">Test Purpose:</emphasis> To verify that DUT generates SOAP 1.2 fault message to the invalid GetStreamUriRequest message (Invalid Transport).
                </para>
                <para>
                    <emphasis role="bold">Pre-Requisite:</emphasis> Media service is supported by DUT. Real-time Streaming is supported by DUT. Media service was received from the DUT.
                </para>
                <para>
                    <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                </para>
                <para>
                    <emphasis role="bold">Test Procedure:</emphasis>
                </para>	
                <para>
                    <orderedlist>
                        <?dbfo label-width="1.5em"?>
                        <listitem>
                            <para>
                                Start an ONVIF Client.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Start the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client will invoke <emphasis role="bold">GetStreamUriRequest</emphasis> message with invalid Transport (<emphasis role="bold">RTP</emphasis>).
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT will generate the SOAP 1.2 fault message.
                            </para>
                        </listitem>

                    </orderedlist>
                </para>
                <para>
                    <emphasis role="bold">Test Result:</emphasis>
                </para>
                <para>
                    <emphasis role="bold">PASS –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT passes all assertions.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">FAIL –</emphasis>
                    <itemizedlist> 	
                        <listitem>
                            <para>
                                The DUT did not send SOAP 1.2 fault message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send correct SOAP 1.2 fault message (fault code, namespace etc).
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.

                </para>
            </section>
            <section xml:id="tc.MEDIA-7-1-4">
                <title>SOAP FAULT MESSAGE
                </title>
                <para>
                    <emphasis role="bold">Test Case ID:</emphasis> MEDIA-7-1-4
                </para>
                <para>
                    <emphasis role="bold">Specification Coverage:</emphasis> Request stream URI.
                </para>
                <para>
                    <emphasis role="bold">Feature Under Test:</emphasis> GetStreamUri
                </para>
                <para>
                    <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                </para>
                <para>
                    <emphasis role="bold">Test Purpose:</emphasis> To verify that DUT generates SOAP 1.2 fault message to the invalid GetStreamUriRequest message (Invalid Media Profile).
                </para>
                <para>
                    <emphasis role="bold">Pre-Requisite:</emphasis> Media service is supported by DUT. Real-time Streaming is supported by DUT. Media service was received from the DUT.
                </para>
                <para>
                    <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                </para>
                <para>
                    <emphasis role="bold">Test Procedure:</emphasis>
                </para>	
                <para>
                    <orderedlist>
                        <?dbfo label-width="1.5em"?>
                        <listitem>
                            <para>
                                Start an ONVIF Client.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Start the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client will invoke <emphasis role="bold">GetStreamUriRequest</emphasis> message with invalid media profile.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                DUT will generate the SOAP 1.2 fault message (<emphasis role="bold">InvalidArgVal/NoProfile</emphasis>).
                            </para>
                        </listitem>

                    </orderedlist>
                </para>
                <para>
                    <emphasis role="bold">Test Result:</emphasis>
                </para>
                <para>
                    <emphasis role="bold">PASS –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT passes all assertions.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">FAIL –</emphasis>
                    <itemizedlist> 	
                        <listitem>
                            <para>
                                The DUT did not send SOAP 1.2 fault message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send correct SOAP 1.2 fault message (fault code, namespace etc).
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
                </para>
                <para>
                    <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                </para>
            </section>
            <section xml:id="tc.MEDIA-7-1-5">
                <title>START MULTICAST - INVALID PROFILE TOKEN
                </title>
                <para>
                    <emphasis role="bold">Test Case ID:</emphasis> MEDIA-7-1-5
                </para>
                <para>
                    <emphasis role="bold">Specification Coverage:</emphasis> Start multicast streaming
                </para>
                <para>
                    <emphasis role="bold">Feature Under Test:</emphasis> StartMulticastStreaming
                </para>
                <para>
                    <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                </para>
                <para>
                    <emphasis role="bold">Test Purpose:</emphasis> To verify the behavior of StartMulticastStreaming command in case of invalid Profile Token.
                </para>
                <para>
                    <emphasis role="bold">Pre-Requisite:</emphasis> Media service is supported by DUT. Real-time Streaming is supported by DUT. Media service was received from the DUT.
                </para>
                <para>
                    <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                </para>
                <para>
                    <emphasis role="bold">Test Procedure:</emphasis>
                </para>
                <para>
                    <orderedlist>
                        <?dbfo label-width="1.5em"?>
                        <listitem>
                            <para>
                                Start an ONVIF Client.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Start the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client will invoke <emphasis role="bold">StartMulticastStreamingRequest</emphasis> message (<emphasis role="bold">invalid ProfileToken</emphasis>).
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT will generate a SOAP 1.2 fault message (<emphasis role="bold">InvalidArgVal/NoProfile</emphasis> or <emphasis role="bold">ActionNotSupported</emphasis> (for case when multicast is not supported)).
                            </para>
                        </listitem>

                    </orderedlist>
                </para>
                <para>
                    <emphasis role="bold">Test Result:</emphasis>
                </para>
                <para>
                    <emphasis role="bold">PASS –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT passes all assertions.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">FAIL –</emphasis>
                    <itemizedlist> 
                        <listitem>
                            <para>
                                The DUT did not send SOAP 1.2 fault message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT sent incorrect SOAP 1.2 fault message (fault code, namespace, etc.).
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">NOTE:</emphasis> See Annex in [ONVIF Base Test] for Invalid SOAP 1.2 fault message definition.
                </para>
                <para>
                    <emphasis role="bold">NOTE:</emphasis> Other faults than specified in the test are acceptable but specified are preferable.
                </para>
                <para>
                    <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.

                </para>
            </section>

        </section>
        <!--Capabilities-->
        <section xml:id="tc.media_configuration.capabilities">
            <title>Capabilities</title>

            <section xml:id="tc.MEDIA-8-1-1">
                <title>MEDIA SERVICE CAPABILITIES
                </title>
                <para>
                    <emphasis role="bold">Test Case ID:</emphasis> MEDIA-8-1-1
                </para>
                <para>
                    <emphasis role="bold">Specification Coverage:</emphasis> Capability exchange
                </para>
                <para>
                    <emphasis role="bold">Feature Under Test:</emphasis> GetServiceCapabilities (for Media Service)
                </para>
                <para>
                    <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
                </para>
                <para>
                    <emphasis role="bold">Test Purpose:</emphasis> To verify Media Service Capabilities of the DUT.
                </para>
                <para>
                    <emphasis role="bold">Pre-Requisite:</emphasis> Media Service was received from the DUT.
                </para>
                <para>
                    <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                </para>
                <para>
                    <emphasis role="bold">Test Procedure:</emphasis>
                </para>
                <para>
                    <orderedlist>
                        <?dbfo label-width="1.5em"?>
                        <listitem>
                            <para>
                                Start an ONVIF Client.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Start the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client will invoke <emphasis role="bold">GetServiceCapabilitiesRequest</emphasis> message to retrieve media service capabilities of the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Verify the <emphasis role="bold">GetServiceCapabilitiesResponse</emphasis> from the DUT.
                            </para>
                        </listitem>

                    </orderedlist>
                </para>
                <para>
                    <emphasis role="bold">Test Result:</emphasis>
                </para>
                <para>
                    <emphasis role="bold">PASS –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT passes all assertions.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">FAIL –</emphasis>
                    <itemizedlist> 
                        <listitem>
                            <para>
                                The DUT did not send valid <emphasis role="bold">GetServiceCapabilitiesResponse</emphasis>.
                            </para>
                        </listitem>

                    </itemizedlist>
                </para>
            </section>
            <section xml:id="tc.MEDIA-8-1-2">
                <title>GET SERVICES AND GET MEDIA SERVICE CAPABILITIES CONSISTENCY
                </title>
                <para>
                    <emphasis role="bold">Test Case ID:</emphasis> MEDIA-8-1-2
                </para>
                <para>
                    <emphasis role="bold">Specification Coverage:</emphasis> Capability exchange
                </para>
                <para>
                    <emphasis role="bold">Feature Under Test:</emphasis> GetServices, GetServiceCapabilities (for Media Service)
                </para>
                <para>
                    <emphasis role="bold">WSDL Reference:</emphasis> devicemgmt.wsdl, media.wsdl
                </para>
                <para>
                    <emphasis role="bold">Test Purpose:</emphasis> To verify Get Services and Media Service Capabilities consistency.
                </para>
                <para>
                    <emphasis role="bold">Pre-Requisite:</emphasis> None.
                </para>
                <para>
                    <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
                </para>
                <para>
                    <emphasis role="bold">Test Procedure:</emphasis>
                </para>
                <para>
                    <orderedlist>
                        <?dbfo label-width="1.5em"?>
                        <listitem>
                            <para>
                                Start an ONVIF Client.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Start the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client will invoke <emphasis role="bold">GetServicesRequest</emphasis> message (IncludeCapability = true) to retrieve all services of the DUT with service capabilities.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Verify the <emphasis role="bold">GetServicesResponse</emphasis> message from the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                ONVIF Client will invoke <emphasis role="bold">GetServiceCapabilitiesRequest</emphasis> message to retrieve Media service capabilities of the DUT.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Verify the <emphasis role="bold">GetServiceCapabilitiesResponse</emphasis> message from the DUT.
                            </para>
                        </listitem>

                    </orderedlist>
                </para>
                <para>
                    <emphasis role="bold">Test Result:</emphasis>
                </para>
                <para>
                    <emphasis role="bold">PASS –</emphasis>
                    <itemizedlist>
                        <listitem>
                            <para>
                                DUT passes all assertions.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">FAIL –</emphasis>
                    <itemizedlist> 
                        <listitem>
                            <para>
                                The DUT did not send valid <emphasis role="bold">GetServicesResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT did not send valid <emphasis role="bold">GetServiceCapabilitiesResponse</emphasis> message.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                The DUT sent different Capabilities in <emphasis role="bold">GetServicesResponse</emphasis> message and in <emphasis role="bold">GetServiceCapabilitiesResponse</emphasis> message.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    <emphasis role="bold">NOTE:</emphasis> Service will be defined as Media service if it will have Namespace element that is equal to “http://www.onvif.org/ver10/media/wsdl”.

                </para>
            </section>





        </section>
    </chapter>
    <appendix>
        <title>Helper Procedures and Additional Notes</title>
        <para>
            This section describes the meaning of the following definitions. These definitions are used in the test case description.
        </para>
        <!--A.1 Annex_HelperInvalidMediaProfile-->
        <section xml:id="Annex_HelperInvalidMediaProfile"
                xreflabel="Annex A.1">
            <title>Invalid Media Profile</title>
            <para>
                Media profile token is a string of max length value of 64.
            </para>
            <para>
                Invalid Media Profile: 
                <orderedlist numeration="loweralpha">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                        <para>
                            a)	A string which is not formed according to the rules of RFC 952.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            b)	A string which exceeds max length value of 64.
                        </para>
                    </listitem>
                </orderedlist>
            </para>

        </section>
        <!--A.2 Annex_HelperStreamSetupSyntax-->
        <section xml:id="Annex_HelperStreamSetupSyntax"
                xreflabel="Annex A.2">
            <title>StreamSetup syntax for GetStreamUri</title>
            <para>
                The following media stream setups for GetStreamUri are covered in this Test Specification:
                <orderedlist>
                    <?dbfo label-width="1.5em"?>
                    <listitem>
                        <para>
                            RTP Unicast over UDP
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            RTP over RTSP over HTTP over TCP
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            RTP over RTSP over TCP
                        </para>
                    </listitem>
                </orderedlist>
            </para>

            <para>
                The correct syntax for the StreamSetup element for these media stream setups are as follows:
                <orderedlist>
                    <?dbfo label-width="1.5em"?>
                    <listitem>
                        <para>     
                            RTP Unicast over UDP
                            <programlisting>
                                <![CDATA[
<?xml version="1.0"?>
<StreamSetup>
<StreamType>RTP_unicast</StreamType>
<Transport>
<Protocol>UDP</Protocol>
</Transport>
</StreamSetup>
]]>
                            </programlisting>
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            RTP over RTSP over HTTP over TCP
                            <programlisting>
                                <![CDATA[
<?xml version="1.0"?>
<StreamSetup>
<StreamType>RTP_unicast</StreamType>
<Transport>
<Protocol>HTTP</Protocol>
</Transport>
</StreamSetup>
]]>
                            </programlisting>
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            RTP over RTSP over TCP
                            <programlisting>
                                <![CDATA[
<?xml version="1.0"?>
<StreamSetup>
<StreamType>RTP_unicast</StreamType>
<Transport>
<Protocol>RTSP</Protocol>
</Transport>
</StreamSetup>
]]>
                            </programlisting>
                        </para>
                    </listitem>   

                </orderedlist>
            </para>
        </section>
        <!--A.3 Annex_HelperCreateEmptyProfile-->
        <section xml:id="Annex_HelperCreateEmptyProfile"
                xreflabel="Annex A.3">
            <title>Create Empty Profile</title>

            <para>
                For the execution of test cases with profile configurations, ONVIF Client has to find, create or configure empty media profile. 
            </para>
            <para>
                ONVIF Client follows the following procedure to find, create or configure empty media profile. 
                <orderedlist>
                    <?dbfo label-width="1.5em"?>
                    <listitem>
                        <para>
                            ONVIF Client will invoke <emphasis role="bold">GetProfilesRequest</emphasis> message to retrieve complete profiles list.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            Verify the <emphasis role="bold">GetProfilesResponse</emphasis> message from the DUT.
                        </para>
                    </listitem>
                    <para>
                        If there is profile with fixed attribute equal to false, then follows the following procedure:
                    </para>
                    <listitem>
                        <para>
                            ONVIF Client will invoke <emphasis role="bold">DeleteProfileRequest</emphasis> message (ProfileToken = Token1, where Token1 is the first ProfileToken from the <emphasis role="bold">GetProfilesResponse</emphasis> with fixed = false) to delete Profile.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            Verify the <emphasis role="bold">DeleteProfileResponse</emphasis> message from the DUT. 
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            Return to step with profile creation of the test procedure.
                        </para>
                    </listitem>
                    <para>
                        If there are no profiles with fixed = “false” remove all configurations from one fixed profile and use this profile for test. If there are no profiles skip other steps and fail test.
                    </para>
                </orderedlist>
            </para>
            <para>
                <emphasis role="bold">NOTE:</emphasis> See <xref linkend="Annex_HelperNameTokenParameters"/> for Name and Token Parameters Length limitations.
            </para>



        </section>
        <!--A.4 Annex_HelperGetGuaranteedNumberofVideoEncoderInstances-->
        <section xml:id="Annex_HelperGetGuaranteedNumberofVideoEncoderInstances"
                xreflabel="Annex A.4">
            <title>Get Guaranteed Number of Video Encoder Instances and Get Video Encoder Configuration Options Consistency Verification Description</title>

            <para>
                The following general rules (see below) were used to verify consistency between:
                <orderedlist>
                    <?dbfo label-width="1.5em"?>
                    <listitem>
                        <para>
                            GetVideoEncoderConfigurationOptionsResponse message requested without Profile token and Video Encoder Configuration token (general options for the DUT).
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            GetGuaranteedNumberOfVideoEncoderInstancesResponse messages for all Video Source Configurations supported by the DUT.
                        </para>
                    </listitem>
                </orderedlist>
            </para>
            <para>
                For <emphasis role="bold">JPEG</emphasis> encoding:
                <itemizedlist>
                    <listitem>
                        <para>
                            If DUT supports <emphasis role="bold">JPEG encoding</emphasis> (i.e. GetVideoEncoderConfigurationOptionsResponse message <emphasis role="bold">contains Options.JPEG</emphasis> element), then the following behavior
                            <itemizedlist>
                                <listitem>
                                    <para>
                                        will be assumed as <emphasis role="bold">correct</emphasis>:
                                        <itemizedlist>
                                            <listitem>
                                                <para>
                                                    <emphasis role="bold">For at least one</emphasis> Video Source Configuration GetGuaranteedNumberOfVideoEncoderInstancesResponse message <emphasis role="bold">contains no JPEG elements or contains a JPEG element with value > 0</emphasis>.
                                                </para>
                                            </listitem>
                                        </itemizedlist>
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        will be assumed as <emphasis role="bold">incorrect</emphasis>:
                                        <itemizedlist>
                                            <listitem>
                                                <para>
                                                    <emphasis role="bold">For all</emphasis> Video Source Configurations GetGuaranteedNumberOfVideoEncoderInstancesResponse message <emphasis role="bold">contains a JPEG element with value = 0</emphasis>
                                                </para>
                                            </listitem>
                                        </itemizedlist>
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            If DUT <emphasis role="bold">does not support JPEG</emphasis> encoding (i.e. GetVideoEncoderConfigurationOptionsResponse message <emphasis role="bold">does not contain Options.JPEG</emphasis> element), then the following behavior
                            <itemizedlist>
                                <listitem>
                                    <para>
                                        will be assumed as <emphasis role="bold">correct</emphasis>:
                                        <itemizedlist>
                                            <listitem>
                                                <para>
                                                    <emphasis role="bold">For all</emphasis> Video Source Configurations GetGuaranteedNumberOfVideoEncoderInstancesResponse message <emphasis role="bold">contains no JPEG elements or contains a JPEG element with value = 0</emphasis>.
                                                </para>
                                            </listitem>
                                        </itemizedlist>
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        will be assumed as <emphasis role="bold">incorrect</emphasis>:
                                        <itemizedlist>
                                            <listitem>
                                                <para>
                                                    <emphasis role="bold">For at least one</emphasis> Video Source Configuration GetGuaranteedNumberOfVideoEncoderInstancesResponse message <emphasis role="bold">contains a JPEG element with value > 0</emphasis>.
                                                </para>
                                            </listitem>
                                        </itemizedlist>
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                For <emphasis role="bold">MPEG-4</emphasis> encoding:
                <itemizedlist>
                    <listitem>
                        <para>
                            If DUT <emphasis role="bold">supports MPEG-4</emphasis> encoding (i.e. GetVideoEncoderConfigurationOptionsResponse message <emphasis role="bold">contains Options.MPEG</emphasis> element), then the following behavior
                            <itemizedlist>
                                <listitem>
                                    <para>
                                        will be assumed as <emphasis role="bold">correct</emphasis>:
                                        <itemizedlist>
                                            <listitem>
                                                <para>
                                                    <emphasis role="bold">For at least one</emphasis> Video Source Configuration GetGuaranteedNumberOfVideoEncoderInstancesResponse message <emphasis role="bold">contains no MPEG elements or contains an MPEG element with value > 0</emphasis>.
                                                </para>
                                            </listitem>
                                        </itemizedlist>
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        will be assumed as <emphasis role="bold">incorrect</emphasis>:
                                        <itemizedlist>
                                            <listitem>
                                                <para>
                                                    <emphasis role="bold">For all</emphasis> Video Source Configurations GetGuaranteedNumberOfVideoEncoderInstancesResponse message <emphasis role="bold">contains an MPEG element with value = 0</emphasis>
                                                </para>
                                            </listitem>
                                        </itemizedlist>
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            If DUT <emphasis role="bold">does not support MPEG-4</emphasis> encoding (i.e. GetVideoEncoderConfigurationOptionsResponse message <emphasis role="bold">does not contain Options.MPEG</emphasis> element), then the following behavior
                            <itemizedlist>
                                <listitem>
                                    <para>
                                        will be assumed as <emphasis role="bold">correct</emphasis>:
                                        <itemizedlist>
                                            <listitem>
                                                <para>
                                                    <emphasis role="bold">For all</emphasis> Video Source Configurations GetGuaranteedNumberOfVideoEncoderInstancesResponse message <emphasis role="bold">contains no MPEG elements or contains an MPEG element with value = 0</emphasis>.
                                                </para>
                                            </listitem>
                                        </itemizedlist>
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        will be assumed as <emphasis role="bold">incorrect</emphasis>:
                                        <itemizedlist>
                                            <listitem>
                                                <para>
                                                    <emphasis role="bold">For at least one</emphasis> Video Source Configuration GetGuaranteedNumberOfVideoEncoderInstancesResponse message <emphasis role="bold">contains an MPEG element with value > 0</emphasis>.
                                                </para>
                                            </listitem>
                                        </itemizedlist>
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                For <emphasis role="bold">H.264</emphasis> encoding:
                <itemizedlist>
                    <listitem>
                        <para>
                            If DUT <emphasis role="bold">supports H.264</emphasis> encoding (i.e. GetVideoEncoderConfigurationOptionsResponse message <emphasis role="bold">contains Options.H264</emphasis> element), then the following behavior
                            <itemizedlist>
                                <listitem>
                                    <para>
                                        will be assumed as <emphasis role="bold">correct</emphasis>:
                                        <itemizedlist>
                                            <listitem>
                                                <para>
                                                    <emphasis role="bold">For at least one</emphasis> Video Source Configuration GetGuaranteedNumberOfVideoEncoderInstancesResponse message <emphasis role="bold">contains no H264 elements or contains an H264 element with value > 0</emphasis>.
                                                </para>
                                            </listitem>
                                        </itemizedlist>
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        will be assumed as <emphasis role="bold">incorrect</emphasis>:
                                        <itemizedlist>
                                            <listitem>
                                                <para>
                                                    <emphasis role="bold">For all</emphasis> Video Source Configurations GetGuaranteedNumberOfVideoEncoderInstancesResponse message <emphasis role="bold">contains an H264 element with value = 0</emphasis>
                                                </para>
                                            </listitem>
                                        </itemizedlist>
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            If DUT <emphasis role="bold">does not support H.264</emphasis> encoding (i.e. GetVideoEncoderConfigurationOptionsResponse message <emphasis role="bold">does not contain Options.H264</emphasis> element), then the following behavior
                            <itemizedlist>
                                <listitem>
                                    <para>
                                        will be assumed as <emphasis role="bold">correct</emphasis>:
                                        <itemizedlist>
                                            <listitem>
                                                <para>
                                                    <emphasis role="bold">For all</emphasis> Video Source Configurations GetGuaranteedNumberOfVideoEncoderInstancesResponse message <emphasis role="bold">contains no H264 elements or contains an H264 element with value = 0</emphasis>.
                                                </para>
                                            </listitem>
                                        </itemizedlist>
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        will be assumed as <emphasis role="bold">incorrect</emphasis>:
                                        <itemizedlist>
                                            <listitem>
                                                <para>
                                                    <emphasis role="bold">For at least one</emphasis> Video Source Configuration GetGuaranteedNumberOfVideoEncoderInstancesResponse message <emphasis role="bold">contains an H264 element with value > 0</emphasis>.
                                                </para>
                                            </listitem>
                                        </itemizedlist>
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </para>
                    </listitem>
                </itemizedlist>
            </para>




        </section>
        <!--A.5 Annex_HelperNameTokenParameters-->
        <section xml:id="Annex_HelperNameTokenParameters"
                xreflabel="Annex A.5">
            <title>Name and Token Parameters</title>

            <para>
                There are following limitations on maximum length of Name and Token parameters that sell be used during tests by ONVIF Device Test Tool to prevent faults from DUT:
                <orderedlist>
                    <?dbfo label-width="1.5em"?>
                    <listitem>
                        <para>
                            Name shall be less than or equal to 64 characters (only readable characters accepted).
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            Token shall be less than or equal to 64 characters (only readable characters accepted).
                        </para>
                    </listitem>
                </orderedlist>
            </para>
            <para>
                UTF-8 character set shall be used for Name and Token.
            </para>
            <para>
                <emphasis role="bold">NOTE:</emphasis> these limitations will not be used, if ONVIF Device Test Tool reuses values that were received from the DUT.
            </para>




        </section>
        <!--A.6 Annex_HelperCreateConfigureEmptyProfile-->
        <section xml:id="Annex_HelperCreateConfigureEmptyProfile"
                xreflabel="Annex A.6">
            <title>Create or Configure Empty Profile</title>


            <para>
                <emphasis role="bold">Name:</emphasis> HelperCreateEmptyProfile
            </para>
            <para>
                <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to create or configure empty media profile.
            </para>
            <para>
                <emphasis role="bold">Pre-requisite:</emphasis> Media Service is supported by the DUT.
            </para>
            <para>
                <emphasis role="bold">Input:</emphasis> The profile name (<emphasis role="italic">profileName</emphasis>) of profile to be created.
            </para>
            <para>
                <emphasis role="bold">Returns:</emphasis> The profile token (<emphasis role="italic">profileToken</emphasis>), Media Profile to restore (<emphasis role="italic">profileToRestore</emphasis>) or Media Profile token to delete (<emphasis role="italic">profileToDelete</emphasis>). 
            </para>
            <para>
                <emphasis role="bold">Procedure:</emphasis>
            </para>
            <para>
                <orderedlist>
                    <?dbfo label-width="1.5em"?>
                    <listitem xml:id="Annex_HelperCreateConfigureEmptyProfile.1">
                        <para>
                            ONVIF Client invokes <emphasis role="bold">CreateProfile</emphasis> with with parameters
                            <itemizedlist>
                                <listitem>
                                    <para>
                                        Name := <emphasis role="italic">profileName</emphasis>
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        Token skipped
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            If DUT returns <emphasis role="bold">CreateProfileResponse</emphasis> message with parameters
                            <itemizedlist>
                                <listitem>
                                    <para>
                                        Profile := <emphasis role="italic">newProfile</emphasis>
                                    </para>
                                </listitem>
                            </itemizedlist>
                            <orderedlist numeration="arabic" inheritnum="inherit">
                                <?dbfo label-width="2.5em"?>
                                <listitem>
                                    <para>
                                        Set the following:
                                        <itemizedlist>
                                            <listitem>
                                                <para>
                                                    <emphasis role="italic">profileToken</emphasis> := <emphasis role="italic">newProfile</emphasis>.token
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    <emphasis role="italic">profileToDelete</emphasis> := <emphasis role="italic">newProfile</emphasis>.token
                                                </para>
                                            </listitem>
                                        </itemizedlist>
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        Skip other steps.
                                    </para>
                                </listitem>
                            </orderedlist>
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            If DUT returns <emphasis role="bold">env:Receiver\ter:Action\ter:MaxNVTProfiles</emphasis> SOAP 1.2 fault:
                            <orderedlist numeration="arabic" inheritnum="inherit">
                                <?dbfo label-width="2.5em"?>
                                <listitem>
                                    <para>
                                        If profile was deleted during HelperCreateEmptyProfile procedure, FAIL the test and skip other steps.
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        ONVIF Client will invoke <emphasis role="bold">GetProfiles</emphasis> message.
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        DUT responds with <emphasis role="bold">GetProfilesResponse</emphasis> with parameters:
                                        <itemizedlist>
                                            <listitem>
                                                <para>
                                                    Profiles  =: <emphasis role="italic">profileList</emphasis>
                                                </para>
                                            </listitem>
                                        </itemizedlist>
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        If <emphasis role="italic">profileList</emphasis> is empty, FAIL the test and skip other steps.
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        If <emphasis role="italic">profileList</emphasis> contains profile item with Profile.fixed = false:
                                        <orderedlist numeration="arabic" inheritnum="inherit">
                                            <?dbfo label-width="3.5em"?>
                                            <listitem>
                                                <para>
                                                    Set the following:
                                                    <itemizedlist>
                                                        <listitem>
                                                            <para>
                                                                <emphasis role="italic">profileToRestore</emphasis> := the first <emphasis role="italic">profileList</emphasis>[0].Profile with fixed = false
                                                            </para>
                                                        </listitem>
                                                    </itemizedlist>
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    Set the following:
                                                    <itemizedlist>
                                                        <listitem>
                                                            <para>
                                                                <emphasis role="italic">profileToDelete</emphasis> := <emphasis role="italic">profileToRestore</emphasis>.token
                                                            </para>
                                                        </listitem>
                                                    </itemizedlist>
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    ONVIF Client invokes <emphasis role="bold">DeleteProfile</emphasis> message with parameters
                                                    <itemizedlist>
                                                        <listitem>
                                                            <para>
                                                                ProfileToken := <emphasis role="italic">profileToDelete</emphasis>
                                                            </para>
                                                        </listitem>
                                                    </itemizedlist>
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    DUT responds with <emphasis role="bold">DeleteProfileResponse</emphasis>. 
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    Go to the step <xref linkend="Annex_HelperCreateConfigureEmptyProfile.1"/>.
                                                </para>
                                            </listitem>
                                        </orderedlist>
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        If <emphasis role="italic">profileList</emphasis> does not contain profile item with Profile.fixed = false
                                        <orderedlist numeration="arabic" inheritnum="inherit">
                                            <?dbfo label-width="3.5em"?>
                                            <listitem>
                                                <para>
                                                    Set the following:
                                                    <itemizedlist>
                                                        <listitem>
                                                            <para>
                                                                <emphasis role="italic">profileToConfigure</emphasis> := <emphasis role="italic">profileList</emphasis>[0].Profile
                                                            </para>
                                                        </listitem>
                                                        <listitem>
                                                            <para>
                                                                <emphasis role="italic">profileToRestore</emphasis>  := <emphasis role="italic">profileList</emphasis>[0].Profile
                                                            </para>
                                                        </listitem>
                                                    </itemizedlist>
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    If <emphasis role="italic">profileToConfigure</emphasis> contains VideoSourceConfiguration:
                                                    <orderedlist numeration="arabic" inheritnum="inherit">
                                                        <?dbfo label-width="4.5em"?>
                                                        <listitem>
                                                            <para>
                                                                ONVIF Client invokes <emphasis role="bold">RemoveVideoSourceConfiguration</emphasis> with parameters:
                                                                <itemizedlist>
                                                                    <listitem>
                                                                        <para>
                                                                            ProfileToken  := <emphasis role="italic">profileToConfigure</emphasis>.token
                                                                        </para>
                                                                    </listitem>
                                                                </itemizedlist>
                                                            </para>
                                                        </listitem>
                                                        <listitem>
                                                            <para>
                                                                DUT responds with <emphasis role="bold">RemoveVideoSourceConfigurationResponse</emphasis>
                                                            </para>
                                                        </listitem>
                                                    </orderedlist>
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    If <emphasis role="italic">profileToConfigure</emphasis> contains AudioSourceConfiguration
                                                    <orderedlist numeration="arabic" inheritnum="inherit">
                                                        <?dbfo label-width="4.5em"?>
                                                        <listitem>
                                                            <para>
                                                                ONVIF Client invokes <emphasis role="bold">RemoveAudioSourceConfiguration</emphasis> with parameters:
                                                                <itemizedlist>
                                                                    <listitem>
                                                                        <para>
                                                                            ProfileToken  := <emphasis role="italic">profileToConfigure</emphasis>.token
                                                                        </para>
                                                                    </listitem>
                                                                </itemizedlist>
                                                            </para>
                                                        </listitem>
                                                        <listitem>
                                                            <para>
                                                                DUT responds with <emphasis role="bold">RemoveAudioSourceConfigurationResponse</emphasis>
                                                            </para>
                                                        </listitem>
                                                    </orderedlist>
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    If <emphasis role="italic">profileToConfigure</emphasis> contains VideoEncoderConfiguration
                                                    <orderedlist numeration="arabic" inheritnum="inherit">
                                                        <?dbfo label-width="4.5em"?>
                                                        <listitem>
                                                            <para>
                                                                ONVIF Client invokes <emphasis role="bold">RemoveVideoEncoderConfiguration</emphasis> with parameters:
                                                                <itemizedlist>
                                                                    <listitem>
                                                                        <para>
                                                                            ProfileToken  := <emphasis role="italic">profileToConfigure</emphasis>.token
                                                                        </para>
                                                                    </listitem>
                                                                </itemizedlist>
                                                            </para>
                                                        </listitem>
                                                        <listitem>
                                                            <para>
                                                                DUT responds with <emphasis role="bold">RemoveVideoEncoderConfigurationResponse</emphasis>
                                                            </para>
                                                        </listitem>
                                                    </orderedlist>
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    If <emphasis role="italic">profileToConfigure</emphasis> contains AudioEncoderConfiguration
                                                    <orderedlist numeration="arabic" inheritnum="inherit">
                                                        <?dbfo label-width="4.5em"?>
                                                        <listitem>
                                                            <para>
                                                                ONVIF Client invokes <emphasis role="bold">RemoveAudioEncoderConfiguration</emphasis> with parameters:
                                                                <itemizedlist>
                                                                    <listitem>
                                                                        <para>
                                                                            ProfileToken  := <emphasis role="italic">profileToConfigure</emphasis>.token
                                                                        </para>
                                                                    </listitem>
                                                                </itemizedlist>
                                                            </para>
                                                        </listitem>
                                                        <listitem>
                                                            <para>
                                                                DUT responds with <emphasis role="bold">RemoveAudioEncoderConfigurationResponse</emphasis>
                                                            </para>
                                                        </listitem>
                                                    </orderedlist>
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    If <emphasis role="italic">profileToConfigure</emphasis> contains VideoAnalyticsConfiguration
                                                    <orderedlist numeration="arabic" inheritnum="inherit">
                                                        <?dbfo label-width="4.5em"?>
                                                        <listitem>
                                                            <para>
                                                                ONVIF Client invokes <emphasis role="bold">RemoveVideoAnalyticsConfiguration</emphasis> with parameters:
                                                                <itemizedlist>
                                                                    <listitem>
                                                                        <para>
                                                                            ProfileToken  := <emphasis role="italic">profileToConfigure</emphasis>.token
                                                                        </para>
                                                                    </listitem>
                                                                </itemizedlist>
                                                            </para>
                                                        </listitem>
                                                        <listitem>
                                                            <para>
                                                                DUT responds with <emphasis role="bold">RemoveVideoAnalyticsConfigurationResponse</emphasis>
                                                            </para>
                                                        </listitem>
                                                    </orderedlist>
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    If <emphasis role="italic">profileToConfigure</emphasis> contains PTZConfiguration
                                                    <orderedlist numeration="arabic" inheritnum="inherit">
                                                        <?dbfo label-width="4.5em"?>
                                                        <listitem>
                                                            <para>
                                                                ONVIF Client invokes <emphasis role="bold">RemovePTZConfiguration</emphasis> with parameters:
                                                                <itemizedlist>
                                                                    <listitem>
                                                                        <para>
                                                                            ProfileToken  := <emphasis role="italic">profileToConfigure</emphasis>.token
                                                                        </para>
                                                                    </listitem>
                                                                </itemizedlist>
                                                            </para>
                                                        </listitem>
                                                        <listitem>
                                                            <para>
                                                                DUT responds with <emphasis role="bold">RemovePTZConfigurationResponse</emphasis>
                                                            </para>
                                                        </listitem>
                                                    </orderedlist>
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    If <emphasis role="italic">profileToConfigure</emphasis> contains MetadataConfiguration
                                                    <orderedlist numeration="arabic" inheritnum="inherit">
                                                        <?dbfo label-width="4.5em"?>
                                                        <listitem>
                                                            <para>
                                                                ONVIF Client invokes <emphasis role="bold">RemoveMetadataConfiguration</emphasis> with parameters:
                                                                <itemizedlist>
                                                                    <listitem>
                                                                        <para>
                                                                            ProfileToken  := <emphasis role="italic">profileToConfigure</emphasis>.token
                                                                        </para>
                                                                    </listitem>
                                                                </itemizedlist>
                                                            </para>
                                                        </listitem>
                                                        <listitem>
                                                            <para>
                                                                DUT responds with <emphasis role="bold">RemoveMetadataConfigurationResponse</emphasis>
                                                            </para>
                                                        </listitem>
                                                    </orderedlist>
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    If <emphasis role="italic">profileToConfigure</emphasis> contains AudioOutputConfiguration
                                                    <orderedlist numeration="arabic" inheritnum="inherit">
                                                        <?dbfo label-width="4.5em"?>
                                                        <listitem>
                                                            <para>
                                                                ONVIF Client invokes <emphasis role="bold">RemoveAudioOutputConfiguration</emphasis> with parameters:
                                                                <itemizedlist>
                                                                    <listitem>
                                                                        <para>
                                                                            ProfileToken  := <emphasis role="italic">profileToConfigure</emphasis>.token
                                                                        </para>
                                                                    </listitem>
                                                                </itemizedlist>
                                                            </para>
                                                        </listitem>
                                                        <listitem>
                                                            <para>
                                                                DUT responds with <emphasis role="bold">RemoveAudioOutputConfigurationResponse</emphasis>
                                                            </para>
                                                        </listitem>
                                                    </orderedlist>
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    If <emphasis role="italic">profileToConfigure</emphasis> contains AudioDecoderConfiguration
                                                    <orderedlist numeration="arabic" inheritnum="inherit">
                                                        <?dbfo label-width="4.5em"?>
                                                        <listitem>
                                                            <para>
                                                                ONVIF Client invokes <emphasis role="bold">RemoveAudioDecoderConfiguration</emphasis> with parameters:
                                                                <itemizedlist>
                                                                    <listitem>
                                                                        <para>
                                                                            ProfileToken  := <emphasis role="italic">profileToConfigure</emphasis>.token
                                                                        </para>
                                                                    </listitem>
                                                                </itemizedlist>
                                                            </para>
                                                        </listitem>
                                                    </orderedlist>
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    DUT responds with <emphasis role="bold">RemoveAudioDecoderConfigurationResponse</emphasis>
                                                </para>
                                            </listitem>
                                        </orderedlist>
                                    </para>
                                </listitem>
                            </orderedlist>
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            If DUT returns any other SOAP 1.2 fault, FAIL the test and skip other steps.
                        </para>
                    </listitem>

                </orderedlist>
            </para>
            <para>
                <emphasis role="bold">Procedure Result:</emphasis>
            </para>
            <para>
                <emphasis role="bold">PASS –</emphasis>
                <itemizedlist>
                    <listitem>
                        <para>
                            DUT passes all assertions.
                        </para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <emphasis role="bold">FAIL –</emphasis>
                <itemizedlist>
                    <listitem>
                        <para>
                            DUT did not send <emphasis role="bold">CreateProfileResponse</emphasis> message.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            DUT did not send <emphasis role="bold">GetProfilesResponse</emphasis> message.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            DUT did not send <emphasis role="bold">DeleteProfileResponse</emphasis> message.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            DUT did not send <emphasis role="bold">RemoveVideoSourceConfigurationResponse</emphasis> message.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            DUT did not send <emphasis role="bold">RemoveAudioSourceConfigurationResponse</emphasis> message.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            DUT did not send <emphasis role="bold">RemoveVideoEncoderConfigurationResponse</emphasis> message.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            DUT did not send <emphasis role="bold">RemoveAudioEncoderConfigurationResponse</emphasis> message.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            DUT did not send <emphasis role="bold">RemoveVideoAnalyticsConfigurationResponse</emphasis> message.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            DUT did not send <emphasis role="bold">RemovePTZConfigurationResponse</emphasis> message.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            DUT did not send <emphasis role="bold">RemoveMetadataConfigurationResponse</emphasis> message.
                        </para>
                    </listitem>
                </itemizedlist>
            </para>


        </section>
        <!--A.7 Annex_HelperRestoreMediaProfile-->
        <section xml:id="Annex_HelperRestoreMediaProfile"
                xreflabel="Annex A.7">
            <title>Restore Media Profile</title>

            <para>
                <emphasis role="bold">Name:</emphasis> HelperRestoreMediaProfile
            </para>
            <para>
                <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to restore media profile.
            </para>
            <para>
                <emphasis role="bold">Pre-requisite:</emphasis> Media Service is received from the DUT.
            </para>
            <para>
                <emphasis role="bold">Input:</emphasis> Media Profile (<emphasis role="italic">profileToRestore</emphasis>).
            </para>
            <para>
                <emphasis role="bold">Returns:</emphasis> None.
            </para>
            <para>
                <emphasis role="bold">Procedure:</emphasis>
            </para>
            <para>
                <orderedlist>
                    <?dbfo label-width="1.5em"?>
                    <listitem>
                        <para>
                            If <emphasis role="italic">profileToRestore</emphasis> was deleted during <xref linkend="Annex_HelperCreateConfigureEmptyProfile"/>:
                            <orderedlist numeration="arabic" inheritnum="inherit">
                                <?dbfo label-width="2.5em"?>
                                <listitem>
                                    <para>
                                        ONVIF client invokes <emphasis role="bold">CreateProfile</emphasis> with parameters
                                        <itemizedlist>
                                            <listitem>
                                                <para>
                                                    Name := <emphasis role="italic">profileToRestore</emphasis>.Name
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    Token := <emphasis role="italic">profileToRestore</emphasis>
                                                </para>
                                            </listitem>
                                        </itemizedlist>
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        The DUT responds with <emphasis role="bold">CreateProfileResponse</emphasis> message with parameters
                                    </para>
                                </listitem>
                                Profile
                            </orderedlist>
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            ONVIF clients restore all <emphasis role="italic">profileToRestore</emphasis> configurations.
                        </para>
                    </listitem>

                </orderedlist>
            </para>
            <para>
                <emphasis role="bold">Procedure Result:</emphasis>
            </para>
            <para>
                <emphasis role="bold">PASS –</emphasis>
                <itemizedlist>
                    <listitem>
                        <para>
                            DUT passes all assertions.
                        </para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <emphasis role="bold">FAIL –</emphasis>
                <itemizedlist>	
                    <listitem>
                        <para>
                            DUT did not send <emphasis role="bold">CreateProfileResponse</emphasis> message.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            DUT did not send <emphasis role="bold">GetProfilesResponse</emphasis> message.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            DUT did not send <emphasis role="bold">DeleteProfileResponse</emphasis> message.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            DUT did not send <emphasis role="bold">RemoveVideoSourceConfigurationResponse</emphasis> message.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            DUT did not send <emphasis role="bold">RemoveAudioSourceConfigurationResponse</emphasis> message.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            DUT did not send <emphasis role="bold">RemoveVideoEncoderConfigurationResponse</emphasis> message.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            DUT did not send <emphasis role="bold">RemoveAudioEncoderConfigurationResponse</emphasis> message.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            DUT did not send <emphasis role="bold">RemoveVideoAnalyticsConfigurationResponse</emphasis> message.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            DUT did not send <emphasis role="bold">RemovePTZConfigurationResponse</emphasis> message.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            DUT did not send <emphasis role="bold">RemoveMetadataConfigurationResponse</emphasis> message.
                        </para>
                    </listitem>
                </itemizedlist>
            </para>


        </section>
        <!--A.8 Annex_HelperDeleteMediaProfile-->
        <section xml:id="Annex_HelperDeleteMediaProfile"
                xreflabel="Annex A.8">
            <title>Delete Media Profile</title>
            <para>
                <emphasis role="bold">Name:</emphasis> HelperDeleteMediaProfile
            </para>
            <para>
                <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to delete media profile.
            </para>
            <para>
                <emphasis role="bold">Pre-requisite:</emphasis> Media Service is received from the DUT.
            </para>
            <para>
                <emphasis role="bold">Input:</emphasis> Media Profile token (<emphasis role="italic">profileToDelete</emphasis>).
            </para>
            <para>
                <emphasis role="bold">Returns:</emphasis> None.
            </para>
            <para>
                <emphasis role="bold">Procedure:</emphasis>
            </para>
            <para>
                <orderedlist>
                    <?dbfo label-width="1.5em"?> 
                    <listitem>
                        <para>
                            ONVIF Client invokes <emphasis role="bold">DeleteProfile</emphasis> with parameters:
                            <itemizedlist>
                                <listitem>
                                    <para>
                                        ProfileToken =: <emphasis role="italic">profileToDelete</emphasis>
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            DUT responds with <emphasis role="bold">DeleteProfileResponse</emphasis>.
                        </para>
                    </listitem>

                </orderedlist>
            </para>
            <para>
                <emphasis role="bold">Procedure Result:</emphasis>
            </para>
            <para>
                <emphasis role="bold">PASS –</emphasis>
                <itemizedlist>
                    <listitem>
                        <para>
                            DUT passes all assertions.
                        </para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <emphasis role="bold">FAIL –</emphasis>
                <itemizedlist>	
                    <listitem>
                        <para>
                            DUT did not send <emphasis role="bold">DeleteProfileResponse</emphasis> message.
                        </para>
                    </listitem>

                </itemizedlist>
            </para>


        </section>
        <!--A.9 Annex_HelperGetVideoSourceConfigurationsList-->
        <section xml:id="Annex_HelperGetVideoSourceConfigurationsList"
                xreflabel="Annex A.9">
            <title>Get Video Source Configurations List</title>
            <para>
                <emphasis role="bold">Name:</emphasis> HelperGetVideoSourceConfigurationsList
            </para>
            <para>
                <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to retrieve Video Source Configurations List.
            </para>
            <para>
                <emphasis role="bold">Pre-requisite:</emphasis> Media Service is received from the DUT.
            </para>
            <para>
                <emphasis role="bold">Input:</emphasis> None.
            </para>
            <para>
                <emphasis role="bold">Returns:</emphasis> Video Source Configurations list (<emphasis role="italic">videoSourceConfList</emphasis>).
            </para>
            <para>
                <emphasis role="bold">Procedure:</emphasis>
            </para>
            <para>
                <orderedlist>
                    <?dbfo label-width="1.5em"?> 
                    <listitem>
                        <para>
                            ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurations</emphasis>.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            DUT responds with <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> with parameters:
                            <itemizedlist>
                                <listitem>
                                    <para>
                                        Configurations list =: <emphasis role="italic">videoSourceConfList</emphasis>
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            If <emphasis role="italic">videoSourceConfList</emphasis> is empty, FAIL the test.
                        </para>
                    </listitem>

                </orderedlist>
            </para>
            <para>
                <emphasis role="bold">Procedure Result:</emphasis>
            </para>
            <para>
                <emphasis role="bold">PASS –</emphasis>
                <itemizedlist>
                    <listitem>
                        <para>
                            DUT passes all assertions.
                        </para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <emphasis role="bold">FAIL –</emphasis>
                <itemizedlist>
                    <listitem>
                        <para>
                            DUT did not send <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                        </para>
                    </listitem>

                </itemizedlist>
            </para>



        </section>
        <!--A.10 Annex_HelperGetMetadataConfigurationsList-->
        <section xml:id="Annex_HelperGetMetadataConfigurationsList"
                xreflabel="Annex A.10">
            <title>Get Metadata Configurations List</title>


            <para>
                <emphasis role="bold">Name:</emphasis> HelperGetMetadataConfigurationsList
            </para>
            <para>
                <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to retrieve Metadata Configurations List.
            </para>
            <para>
                <emphasis role="bold">Pre-requisite:</emphasis> Media Service is received from the DUT.
            </para>
            <para>
                <emphasis role="bold">Input:</emphasis> None.
            </para>
            <para>
                <emphasis role="bold">Returns:</emphasis> Metadata Configurations list (<emphasis role="italic">metadataConfList</emphasis>).
            </para>
            <para>
                <emphasis role="bold">Procedure:</emphasis>
            </para>
            <para>
                <orderedlist>
                    <?dbfo label-width="1.5em"?> 
                    <listitem>
                        <para>
                            ONVIF Client invokes <emphasis role="bold">GetMetadataConfigurations</emphasis>.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            DUT responds with <emphasis role="bold">GetMetadataConfigurationsResponse</emphasis> with parameters:
                            <itemizedlist>
                                <listitem>
                                    <para>
                                        Configurations list =: <emphasis role="italic">metadataConfList</emphasis>
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </para>
                    </listitem>

                </orderedlist>
            </para>
            <para>
                <emphasis role="bold">Procedure Result:</emphasis>
            </para>
            <para>
                <emphasis role="bold">PASS –</emphasis>
                <itemizedlist>
                    <listitem>
                        <para>
                            DUT passes all assertions.
                        </para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <emphasis role="bold">FAIL –</emphasis>
                <itemizedlist>
                    <listitem>
                        <para>
                            DUT did not send <emphasis role="bold">GetMetadataConfigurationsResponse</emphasis> message.
                        </para>
                    </listitem>

                </itemizedlist>
            </para>

        </section>
        <!--A.11 Annex_HelperGetAudioSourceConfigurationsList-->
        <section xml:id="Annex_HelperGetAudioSourceConfigurationsList"
                xreflabel="Annex A.11">
            <title>Get Audio Source Configurations List</title>


            <para>
                <emphasis role="bold">Name:</emphasis> HelperGetAudioSourceConfigurationsList
            </para>
            <para>
                <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to retrieve Audio Source Configurations List.
            </para>
            <para>
                <emphasis role="bold">Pre-requisite:</emphasis> Media Service is received from the DUT. Audio is supported by the DUT.
            </para>
            <para>
                <emphasis role="bold">Input:</emphasis> None.
            </para>
            <para>
                <emphasis role="bold">Returns:</emphasis> Audio Source Configurations list (<emphasis role="italic">audioSourceConfList</emphasis>).
            </para>
            <para>
                <emphasis role="bold">Procedure:</emphasis>
            </para>
            <para>
                <orderedlist>
                    <?dbfo label-width="1.5em"?> 
                    <listitem>
                        <para>
                            ONVIF Client invokes <emphasis role="bold">GetAudioSourceConfigurations</emphasis>.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            DUT responds with <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> with parameters:
                            <itemizedlist>
                                <listitem>
                                    <para>
                                        Configurations list =: <emphasis role="italic">audioSourceConfList</emphasis>
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            If <emphasis role="italic">audioSourceConfList</emphasis> is empty, FAIL the test.
                        </para>
                    </listitem>

                </orderedlist>
            </para>
            <para>
                <emphasis role="bold">Procedure Result:</emphasis>
            </para>
            <para>
                <emphasis role="bold">PASS –</emphasis>
                <itemizedlist>
                    <listitem>
                        <para>
                            DUT passes all assertions.
                        </para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <emphasis role="bold">FAIL –</emphasis>
                <itemizedlist>
                    <listitem>
                        <para>
                            DUT did not send <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                        </para>
                    </listitem>

                </itemizedlist>
            </para>

        </section>
        <!--A.12 Annex_HelperGetAudioOutputConfigurationsList-->
        <section xml:id="Annex_HelperGetAudioOutputConfigurationsList"
                xreflabel="Annex A.12">
            <title>Get Audio Output Configurations List</title>

            <para>
                <emphasis role="bold">Name:</emphasis> HelperGetAudioOutputConfigurationsList
            </para>
            <para>
                <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to retrieve Audio Output Configurations List.
            </para>
            <para>
                <emphasis role="bold">Pre-requisite:</emphasis> Media Service is received from the DUT. Audio Outputs is supported by the DUT.
            </para>
            <para>
                <emphasis role="bold">Input:</emphasis> None.
            </para>
            <para>
                <emphasis role="bold">Returns:</emphasis> Audio Output Configurations list (<emphasis role="italic">audioOutputConfList</emphasis>).
            </para>
            <para>
                <emphasis role="bold">Procedure:</emphasis>
            </para>
            <para>
                <orderedlist>
                    <?dbfo label-width="1.5em"?> 
                    <listitem>
                        <para>
                            ONVIF Client invokes <emphasis role="bold">GetAudioOutputConfigurations</emphasis>.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            DUT responds with <emphasis role="bold">GetAudioOutputConfigurationsResponse</emphasis> with parameters:
                            <itemizedlist>
                                <listitem>
                                    <para>
                                        Configurations list =: <emphasis role="italic">audioOutputConfList</emphasis>
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            If <emphasis role="italic">audioOutputConfList</emphasis> is empty, FAIL the test.
                        </para>
                    </listitem>

                </orderedlist>
            </para>
            <para>
                <emphasis role="bold">Procedure Result:</emphasis>
            </para>
            <para>
                <emphasis role="bold">PASS –</emphasis>
                <itemizedlist>
                    <listitem>
                        <para>
                            DUT passes all assertions.
                        </para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <emphasis role="bold">FAIL –</emphasis>
                <itemizedlist>
                    <listitem>
                        <para>
                            DUT did not send <emphasis role="bold">GetAudioOutputConfigurationsResponse</emphasis> message.
                        </para>
                    </listitem>

                </itemizedlist>
            </para>

        </section>





    </appendix>
</book>