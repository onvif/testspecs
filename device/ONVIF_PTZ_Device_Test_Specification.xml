<?xml version="1.0" encoding="UTF-8"?>
<!--For PDF version (standard)-->
<!-- <?xml-stylesheet href="docbook/xsl/fo/docbook.xsl" type="text/xsl" ?>-->
<!--For PDF version-->
<!-- <?xml-stylesheet href="ONVIF-stylesheets/onvif-specification-fo-us.xsl" type="text/xsl" ?>-->
<!--For online version-->
<?xml-stylesheet href="docbook-css/docbook.xsl" type="text/xsl" ?>
<!--For PDF version - New ONVIF-->
<!--<?xml-stylesheet href="../ONVIFNew-stylesheets/onvif-specification-fo-us.xsl" type="text/xsl" ?>-->
<book xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xml="http://www.w3.org/XML/1998/namespace" xsi:schemaLocation="http://docbook.org/ns/docbook http://docbook.org/xml/5.0/xsd/docbook.xsd" version="0.1" xml:id="ONVIF_Profile_Imaging_Client_TS">
  <info>
    <orgname>
      <phrase>
        <trademark class="registered">ONVIF</trademark>
      </phrase>
    </orgname>
    <title>PTZ Device Test Specification</title>
    <subtitle>Version 20.06</subtitle>
    <date>June 2020</date>
    <copyright>
      <year>2020</year>
      <holder>ONVIF, Inc. All rights reserved.</holder>
    </copyright>
    <address>
      <uri>www.onvif.org</uri>
    </address>
    <legalnotice role="notices">
      <para>
        Recipients of this document may copy, distribute, publish, or display this
        document so long as this copyright notice, license and disclaimer are retained with
        all copies of the document. No license is granted to modify this document.
      </para>
      <para>
        THIS DOCUMENT IS PROVIDED "AS IS," AND THE CORPORATION AND ITS MEMBERS AND THEIR
        AFFILIATES, MAKE NO REPRESENTATIONS OR WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT
        NOT LIMITED TO, WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE,
        NON-INFRINGEMENT, OR TITLE; THAT THE CONTENTS OF THIS DOCUMENT ARE SUITABLE FOR ANY
        PURPOSE; OR THAT THE IMPLEMENTATION OF SUCH CONTENTS WILL NOT INFRINGE ANY PATENTS,
        COPYRIGHTS, TRADEMARKS OR OTHER RIGHTS.
      </para>
      <para>
        IN NO EVENT WILL THE CORPORATION OR ITS MEMBERS OR THEIR AFFILIATES BE LIABLE FOR
        ANY DIRECT, INDIRECT, SPECIAL, INCIDENTAL, PUNITIVE OR CONSEQUENTIAL DAMAGES,
        ARISING OUT OF OR RELATING TO ANY USE OR DISTRIBUTION OF THIS DOCUMENT, WHETHER OR
        NOT (1) THE CORPORATION, MEMBERS OR THEIR AFFILIATES HAVE BEEN ADVISED OF THE
        POSSIBILITY OF SUCH DAMAGES, OR (2) SUCH DAMAGES WERE REASONABLY FORESEEABLE, AND
        ARISING OUT OF OR RELATING TO ANY USE OR DISTRIBUTION OF THIS DOCUMENT. THE
        FOREGOING DISCLAIMER AND LIMITATION ON LIABILITY DO NOT APPLY TO, INVALIDATE, OR
        LIMIT REPRESENTATIONS AND WARRANTIES MADE BY THE MEMBERS AND THEIR RESPECTIVE
        AFFILIATES TO THE CORPORATION AND OTHER MEMBERS IN CERTAIN WRITTEN POLICIES OF THE
        CORPORATION.
      </para>
    </legalnotice>
    <revhistory>
      <revision>
        <revnumber>1.02.4</revnumber>
        <date>Jul 29, 2011</date>
        <revdescription>
          <para>
            First issue of PTZ Test Specification
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>11.12</revnumber>
        <date>Dec 22, 2011</date>
        <revdescription>
          <para>
            New version numbering scheme has been applied.
          </para>
          <para>
            Requirement level terms have been removed.
          </para>
          <para>
            Term "NVT" is removed in each test case.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>12.06</revnumber>
        <date>Jun 18, 2012</date>
        <revdescription>
          <para>
            PTZ Service Capabilities test cases have been added.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>12.12</revnumber>
        <date>Dec 20, 2012</date>
        <revdescription>
          <para>
            New test PTZ – HOME POSITION OPERATIONS (USAGE OF FIXEDHOMEPOSITION FLAG) was added.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>13.06</revnumber>
        <date>June, 2013</date>
        <revdescription>
          <para>
            The following test cases were updated:
          </para>
          <para>
            GENERIC PAN/TILT POSITION SPACE
          </para>
          <para>
            GENERIC ZOOM POSITION SPACE
          </para>
          <para>
            GENERIC PAN/TILT TRANSLATION SPACE
          </para>
          <para>
            GENERIC ZOOM TRANSLATION SPACE
          </para>
          <para>
            GENERIC PAN/TILT VELOCITY SPACE
          </para>
          <para>
            GENERIC ZOOM VELOCITY SPACE
          </para>
          <para>
            GENERIC PAN/TILT SPEED SPACE
          </para>
          <para>
            GENERIC ZOOM SPEED SPACE
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>13.12</revnumber>
        <date>Dec, 2013</date>
        <revdescription>
          <para>
            Minor changes
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>14.06</revnumber>
        <date>Feb, 2014</date>
        <revdescription>
          <para>
            New Note was added in the following test cases:
          </para>
          <para>
            PTZ ABSOLUTE MOVE
          </para>
          <para>
            SET AND GET PRESET
          </para>
          <para>
            GOTO PRESET
          </para>
          <para>
            HOME POSITION OPERATIONS (CONFIGURABLE)
          </para>
          <para>
            HOME POSITION OPERATIONS (FIXED)
          </para>
          <para>
            GENERIC PAN/TILT POSITION SPACE
          </para>
          <para>
            GENERIC ZOOM POSITION SPACE
          </para>
          <para>
            GENERIC PAN/TILT SPEED SPACE
          </para>
          <para>
            GENERIC ZOOM SPEED SPACE
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>15.06</revnumber>
        <date>Jul, 2015</date>
        <revdescription>
          <para>
            The following test case was updated:
          </para>
          <para>
            SET AND GET PRESET
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>17.06</revnumber>
        <date>Jun 21, 2017</date>
        <revdescription>
          <para>
            Current document name was changed from PTZ Test Specification to PTZ Device Test Specification.
          </para>
          <para>
            The document formating were updated.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>17.12</revnumber>
        <date>Jul 31, 2017</date>
        <revdescription>
          <para>
            The following test cases and annexes were added according to #1330:
          </para>
          <para>
            PTZ HOME POSITION OPERATIONS USING CUSTOM MEDIA PROFILE
          </para>
          <para>
            Annex Get PTZ Node List
          </para>

          <para>
            Annex Create Profile for PTZ Control
          </para>
          <para>
            Annex Node's Features
          </para>
          <para>
            Annex Get PTZ Configuration Options
          </para>
          <para>
            Annex Change PTZ Position to Minimum Position
          </para>
          <para>
            Annex Continuous Move - Change PTZ Position to Initial State
          </para>
          <para>
            Annex Adjust Pan/Tilt and Zoom Limits
          </para>
          <para>
            Annex Absolute Move - Change PTZ Position to Initial State
          </para>
          <para>
            Annex Relative Move - Change PTZ Position to Minimum Position
          </para>
          <para>
            Annex Change PTZ Position to Maximum Position
          </para>
          <para>
            Annex Continuous Move - Change PTZ Position to Maximum Position
          </para>
          <para>
            Annex Absolute Move - Change PTZ Position to Maximum Position
          </para>
          <para>
            Annex Relative Move - Change PTZ Position to Maximum Position
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>17.12</revnumber>
        <date>Nov 29, 2017</date>
        <revdescription>
          <para>
            Content from ONVIF PTZ Using Media2 Device Test Specification was merged with current document.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>18.06</revnumber>
        <date>Feb 20, 2018</date>
        <revdescription>
          <para>
            The following test cases and annexes were added according to #1535:
          </para>
          <para>
            PTZ-3-1-1 PTZ ABSOLUTE MOVE (pre-requisite was updated)
          </para>
          <para>
            PTZ-3-1-2 SOAP FAULT MESSAGE (pre-requisite was updated)
          </para>
          <para>
            PTZ-3-1-3 PTZ RELATIVE MOVE (pre-requisite was updated)
          </para>
          <para>
            PTZ-4-1-4 SET AND GET PRESET (pre-requisite was updated, steps 4, 10-14, 19-22 were updated)
          </para>
          <para>
            PTZ-4-1-5 GOTO PRESET (pre-requisite updated, step 4 was updated)
          </para>
          <para>
            PTZ-4-1-6 REMOVE PRESET (pre-requisite was updated)
          </para>
          <para>
            PTZ-5-1-1 HOME POSITION OPERATIONS (CONFIGURABLE) (pre-requisite was updated, step 4 was updated)
          </para>
          <para>
            PTZ-5-1-2 HOME POSITION OPERATIONS (FIXED) (pre-requisite was updated, step 7 was updated)
          </para>
          <para>
            PTZ-5-1-3 PTZ – HOME POSITION OPERATIONS (USAGE OF FIXEDHOMEPOSITION FLAG) (pre-requisite was updated)
          </para>
          <para>
            PTZ-6-1-1 SEND AUXILIARY COMMAND (pre-requisite was updated)
          </para>
          <para>
            MEDIA2_PTZ-1-1-1 PTZ ABSOLUTE MOVE USING MEDIA2 PROFILE (pre-requisite was updated, steps 10, 11, 10.1, 10.4.1.3, 11.1, 11.4.1.3, 14.1, 14.2 were updated)
          </para>
          <para>
            MEDIA2_PTZ-1-1-2 PTZ CONTINUOUS MOVE USING MEDIA2 PROFILE (pre-requisite was updated, steps 10, 11, 10.4.1.3, 11.4.1.3 were updated)
          </para>
          <para>
            MEDIA2_PTZ-1-1-3 PTZ CONTINUOUS MOVE &amp; STOP USING MEDIA2 PROFILE (pre-requisite was updated, steps 9, 10, 9.7.1.3, 10.7.1.3 were updated)
          </para>
          <para>
            MEDIA2_PTZ-2-1-1 PTZ SET AND GET PRESET USING MEDIA2 PROFILE (pre-requisite was updated, steps 3, 8, 9, 11, 12, 23, 24, 25, 26, 37, 38 were updated)
          </para>
          <para>
            MEDIA2_PTZ-2-1-2 PTZ GOTO PRESET USING MEDIA2 PROFILE (pre-requisite was updated, steps 3, 8, 9, 11, 12, 16.1.3, 16.1.4, 19, 20, 24.1.3, 24.1.4, 28.1.3, 28.1.4, 31, 32 were updated)
          </para>
          <para>
            MEDIA2_PTZ-2-1-3 PTZ REMOVE PRESET USING MEDIA2 PROFILE (pre-requisite was updated)
          </para>
          <para>
            MEDIA2_PTZ-3-1-1 PTZ HOME POSITION OPERATIONS (CONFIGURABLE) USING MEDIA2 PROFILE (pre-requisite was updated, steps 3, 8, 9, 11, 12, 18, 19, 28, 29 were updated)
          </para>
          <para>
            MEDIA2_PTZ-3-1-2 PTZ HOME POSITION OPERATIONS (FIXED) USING MEDIA2 PROFILE (pre-requisite was updated, steps 3, 11, 12, 14, 15, 18.1, 18.2, 29, 30 were updated)
          </para>
          <para>
            MEDIA2_PTZ-3-1-3 PTZ – HOME POSITION OPERATIONS (USAGE OF FIXEDHOMEPOSITION FLAG) USING MEDIA2 PROFILE (pre-requisite was updated)
          </para>
          <para>
            Annex A.19 Verify PTZ Configuration Options (steps 2-9 were updated)
          </para>
          <para>
            Annex A.20 Configure Default Absolute Spaces (steps 1, 2 were updated)
          </para>
          <para>
            Annex A.21 Absolute Move - Change PTZ Position to Initial State (pre-requisite was updated, steps 1, 4.1.3 were updated)
          </para>
          <para>
            Annex A.22 Continuous Move - Change PTZ Position to Initial State (pre-requisite was updated, steps 1, 5.1.3 were updated)
          </para>
        </revdescription>
      </revision>
     <revision>
				<revnumber>18.06</revnumber>
				<date>Jun 21, 2018</date>
				<revdescription>
          <para>Reformatting document using new template</para>				
				</revdescription>
			</revision>
      <revision>
        <revnumber>18.12</revnumber>
        <date>Oct 01, 2018</date>
        <revdescription>
          <para>The following were changed according to #1663:</para>
          <para>Annex A.1 Media Profile Configuration for PTZ Control (reformatted, step 5 added)</para>
          <para>Annex А.4 Create Profile for PTZ Control (step 6 changed, step 7 added)</para>
          <para>Annex А.28 Configure Empty Media Profile (new)</para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>18.12</revnumber>
        <date>Oct 22, 2018</date>
        <revdescription>
          <para>The following were changed according to #1545:</para>
          <para>MEDIA2_PTZ-4-2-1 CONTINUOUS PAN/TILT VELOCITY SPACE (10s timeout was replaced with Operation Delay timeout)</para>
          <para>MEDIA2_PTZ-4-2-2 GENERIC ZOOM VELOCITY SPACE (10s timeout was replaced with Operation Delay timeout)</para>
        </revdescription>
        
      </revision>
    <revision>
				<revnumber>18.12</revnumber>
				<date>Dec 21, 2018</date>
				<revdescription>
          <para>Switching Hub description in 'Network Configuration for DUT' section was updated according to #1737</para>				
				</revdescription>
			</revision>
    <revision>
				<revnumber>20.06</revnumber>
				<date>Dec 26, 2019</date>
				<revdescription>
          <para>Annex A.4 Create Profile for PTZ Control was updated according to #1986 (step 6 updated)</para>				
				</revdescription>
			</revision>
    </revhistory>
  </info>
  <chapter xml:id="s.intro">
    <title>Introduction</title>
    <para>
      The goal of the ONVIF test specification set is to make it possible to realize fully interoperable
      IP physical security implementation from different vendors. The set of ONVIF test specification describes
      the test cases need to verify the [ONVIF Network Interface Specs] and [ONVIF Conformance] requirements.
      In addition, the test cases are to be basic inputs for some Profile specification requirements.
      It also describes the test framework, test setup, pre-requisites, test policies needed for the execution
      of the described test cases.
    </para>
    <para>
      This ONVIF PTZ Device Test Specification acts as a supplementary document to the [ONVIF Network Interface Specs],
      illustrating test cases that need to be executed and passed. And also this specification also acts as an input document
      to the development of test tool which will be used to test the ONVIF device implementation conformance towards ONVIF standard.
      As the test tool performs as a Client during testing, this test tool is referred as ONVIF Client hereafter.
    </para>
    <section xml:id="s.intro.scope">
      <title>Scope</title>
      <para>
        This ONVIF PTZ Test Specification defines and regulates the conformance testing procedure for the ONVIF conformant devices. Conformance testing is meant to be functional black-box testing. The objective of this specification is to provide the test cases to test individual requirements of ONVIF devices according to ONVIF PTZ service which are defined in [ONVIF Network Interface Specs].
      </para>
      <para>
        The principal intended purposes are:
        <itemizedlist>
          <listitem>
            <para>
              Provide self-assessment tool for implementations.
            </para>
          </listitem>
          <listitem>
            <para>
              Provide comprehensive test suite coverage for [ONVIF Network Interface Specs].
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        This specification does not address the following:
        <itemizedlist>
          <listitem>
            <para>
              Product use cases and non-functional (performance and regression) testing.
            </para>
          </listitem>
          <listitem>
            <para>
              SOAP Implementation Interoperability test i.e. Web Services Interoperability Basic Profile version 2.0 (WS-I BP2.0).
            </para>
          </listitem>
          <listitem>
            <para>
              Network protocol implementation Conformance test for HTTPS, HTTP, RTP and RTSP protocols.
            </para>
          </listitem>
          <listitem>
            <para>
              Wi-Fi Conformance test
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        The set of ONVIF Test Specification will not cover the complete set of requirements as defined in [ONVIF Network Interface Specs]; instead it would cover subset of it.
      </para>
      <para>
        This ONVIF PTZ Test Specification covers core parts of functional blocks in [ONVIF Network Interface Specs]. The following sections describe the brief overview and scope of each functional block.
      </para>
      <section xml:id="s.intro.scope.ptz_common">
        <title>PTZ Common</title>
        <para>
          The PTZ Common section covers the test cases needed for getting capabilities, PTZ Nodes from an ONVIF Device, and for PTZ Configuration management.
        </para>
        <para>
          The scope of this specification section is to cover the following functions described in <xref linkend="s.intro.scope.ptz_common.table1" xrefstyle="template:Table %n"/>.
        </para>
        <table xml:id="s.intro.scope.ptz_common.table1">
          <title>PTZ Common Commands Under Test</title>
          <tgroup cols="2">
            <colspec colwidth="500*" />
            <colspec colwidth="500*" />
            <thead>
              <row>
                <entry>Feature</entry>
                <entry>Messages</entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>PTZ Node</entry>
                <entry>
                  <para>GetNodes</para>
                  <para>GetNode</para>
                </entry>
              </row>
              <row>
                <entry>PTZ Configuration</entry>
                <entry>
                  <para>GetConfigurations</para>
                  <para>GetConfiguration</para>
                  <para>GetConfigurationOptions</para>
                  <para>SetConfiguration</para>
                </entry>
              </row>
              <row>
                <entry>PTZ Service Capabilities</entry>
                <entry>
                  <para>GetServiceCapabilities</para>
                  <para>GetServices</para>
                </entry>
              </row>
            </tbody>
          </tgroup>

        </table>
      </section>
      <section xml:id="s.intro.scope.ptz_control_media1">
        <title>PTZ Control Using Media Service</title>
        <para>
          The PTZ Control Using Media Service section covers the test cases needed for PTZ Control using Media Service.
        </para>
        <para>
          The scope of this specification section is to cover the following functions described in <xref linkend="s.intro.scope.ptz_control_media1.table1" xrefstyle="template:Table %n"/>.
        </para>
        <table xml:id="s.intro.scope.ptz_control_media1.table1">
          <title>PTZ Control Commands Under Test (Media Service)</title>
          <tgroup cols="2">
            <colspec colwidth="500*" />
            <colspec colwidth="500*" />
            <thead>
              <row>
                <entry>Feature</entry>
                <entry>Messages</entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>Move Operations</entry>
                <entry>
                  <para>AbsoluteMove</para>
                  <para>RelativeMove</para>
                  <para>ContinuousMove</para>
                  <para>Stop</para>
                  <para>GetStatus</para>
                </entry>
              </row>

              <row>
                <entry>Preset Operations</entry>
                <entry>
                  <para>SetPreset</para>
                  <para>GetPresets</para>
                  <para>GotoPreset</para>
                  <para>RemovePreset</para>
                </entry>
              </row>
              <row>
                <entry>Home Position Operations</entry>
                <entry>
                  <para>GotoHomePosition</para>
                  <para>SetHomePosition</para>
                </entry>
              </row>
              <row>
                <entry>Auxiliary operations</entry>
                <entry>
                  <para>SendAuxiliaryCommand</para>
                </entry>
              </row>
              <?hard-pagebreak?>
              <row>
                <entry>Predefined PTZ spaces</entry>
                <entry>
                  <para>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</para>
                  <para>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</para>
                  <para>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</para>
                  <para>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</para>
                  <para>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</para>
                  <para>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</para>
                  <para>http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace</para>
                  <para>http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace</para>
                </entry>
              </row>

            </tbody>
          </tgroup>
        </table>
      </section>
      <section xml:id="s.intro.scope.ptz_control_media2">
        <title>PTZ Control Using Media2 Service</title>
        <para>
          The PTZ Control Using Media2 Service section covers the test cases needed for PTZ Control using Media2 Service.
        </para>
        <para>
          The scope of this specification section is to cover the following functions described in <xref linkend="s.intro.scope.ptz_control_media2.table1" xrefstyle="template:Table %n"/>.
        </para>
        <table xml:id="s.intro.scope.ptz_control_media2.table1">
          <title>PTZ Control Commands Under Test (Media 2 Service)</title>
          <tgroup cols="2">
            <colspec colwidth="500*" />
            <colspec colwidth="500*" />
            <thead>
              <row>
                <entry>Feature</entry>
                <entry>Messages</entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>Move Operations</entry>
                <entry>
                  <para>AbsoluteMove</para>
                  <para>ContinuousMove</para>
                  <para>Stop</para>
                  <para>GetStatus</para>
                </entry>
              </row>

              <row>
                <entry>Preset Operations</entry>
                <entry>
                  <para>SetPreset</para>
                  <para>GetPresets</para>
                  <para>GotoPreset</para>
                  <para>RemovePreset</para>
                </entry>
              </row>
              <row>
                <entry>Home Position Operations</entry>
                <entry>
                  <para>GotoHomePosition</para>
                  <para>SetHomePosition</para>
                </entry>
              </row>
              <?hard-pagebreak?>
              <row>
                <entry>Predefined PTZ spaces</entry>
                <entry>
                  <para>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</para>
                  <para>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</para>
                  <para>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</para>
                  <para>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</para>
                  <para>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</para>
                </entry>
              </row>

            </tbody>
          </tgroup>
        </table>
      </section>
    </section>
  </chapter>
  <chapter xml:id="s.docbook">
    <title>Normative references</title>
    <itemizedlist>
      <listitem>
        <para>[ONVIF Conformance] ONVIF Conformance Process Specification:</para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/conformance/">https://www.onvif.org/profiles/conformance/</link>
        </para>
      </listitem>
      <listitem>
        <para>[ONVIF Profile Policy] ONVIF Profile Policy:</para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/">https://www.onvif.org/profiles/</link>
        </para>
      </listitem>
      <listitem>
        <para>[ONVIF Network Interface Specs] ONVIF Network Interface Specification documents:</para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/specifications/">https://www.onvif.org/profiles/specifications/</link>
        </para>
      </listitem>
      <listitem>
        <para>[ONVIF Core Specs] ONVIF Core Specifications:</para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/specifications/">https://www.onvif.org/profiles/specifications/</link>
        </para>
      </listitem>
      <listitem>
        <para>[ONVIF PTZ Specs] ONVIF PTZ Specifications:</para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/specifications/">https://www.onvif.org/profiles/specifications/</link>
        </para>
      </listitem>
      <listitem>
        <para>[ONVIF Media Specs] ONVIF Media Specifications:</para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/specifications/">https://www.onvif.org/profiles/specifications/</link>
        </para>
      </listitem>
      <listitem>
        <para>[ONVIF Media2 Specs] ONVIF Media2 Specifications:</para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/specifications/">https://www.onvif.org/profiles/specifications/</link>
        </para>
      </listitem>
      <listitem>
        <para>[ONVIF Base Test] ONVIF Base Device Test Specifications:</para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/conformance/device-test/">https://www.onvif.org/profiles/conformance/device-test/</link>
        </para>
      </listitem>
      <listitem>
        <para>[ISO/IEC Directives, Part 2] ISO/IEC Directives, Part 2, Annex H:</para>
        <para>
          <link xlink:href="http://www.iso.org/directives">http://www.iso.org/directives</link>
        </para>
      </listitem>
      <listitem>
        <para>[ISO 16484-5] ISO 16484-5:2014-09 Annex P:</para>
        <para>
          <link xlink:href="https://www.iso.org/obp/ui/#!iso:std:63753:en">https://www.iso.org/obp/ui/#!iso:std:63753:en</link>
        </para>
      </listitem>
      <listitem>
        <para>[SOAP 1.2, Part 1] W3C SOAP 1.2, Part 1, Messaging Framework:</para>
        <para>
          <link xlink:href="http://www.w3.org/TR/soap12-part1/">http://www.w3.org/TR/soap12-part1/</link>
        </para>
      </listitem>
      <listitem>
        <para>[XML-Schema, Part 1] W3C XML Schema Part 1: Structures Second Edition:</para>
        <para>
          <link xlink:href="http://www.w3.org/TR/xmlschema-1/">http://www.w3.org/TR/xmlschema-1/</link>
        </para>
      </listitem>
      <listitem>
        <para>[XML-Schema, Part 2] W3C XML Schema Part 2: Datatypes Second Edition:</para>
        <para>
          <link xlink:href="http://www.w3.org/TR/xmlschema-2/">http://www.w3.org/TR/xmlschema-2/</link>
        </para>
      </listitem>
      <listitem>
        <para>[WS-Security] "Web Services Security: SOAP Message Security 1.1 (WS-Security 2004)", OASIS Standard, February 2006.:</para>
        <para>
          <link xlink:href="http://www.oasis-open.org/committees/download.php/16790/wss-v1.1-spec-os-SOAPMessageSecurity.pdf">http://www.oasis-open.org/committees/download.php/16790/wss-v1.1-spec-os-SOAPMessageSecurity.pdf</link>
        </para>
      </listitem>
    </itemizedlist>
  </chapter>
  <chapter xml:id="additions">
    <title>Terms and Definitions</title>
    <section xml:id="additions.conventions">
      <title>Conventions</title>
      <para>
        The key words "shall", "shall not", "should", "should not", "may", "need not",
        "can", "cannot" in this specification are to be interpreted as described in [ISO/IEC
        Directives Part 2].
      </para>
    </section>
    <section xml:id="additions.definitions">
      <title>Definitions</title>
      <para>This section describes terms and definitions used in this document.</para>
      <variablelist>
        <varlistentry>
          <term>Profile</term>
          <listitem>
            <para>See ONVIF Profile Policy.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>ONVIF Device</term>
          <listitem>
            <para>
              Computer appliance or software program that exposes one or multiple
              ONVIF Web Services.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>ONVIF Client</term>
          <listitem>
            <para>
              Computer appliance or software program that uses ONVIF Web
              Services.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>SOAP</term>
          <listitem>
            <para>
              SOAP is a lightweight protocol intended for exchanging structured
              information in a decentralized, distributed environment. It uses XML
              technologies to define an extensible messaging framework providing a
              message construct that can be exchanged over a variety of underlying
              protocols.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Device Test Tool</term>
          <listitem>
            <para>
              ONVIF Device Test Tool that tests ONVIF Device implementation towards
              the ONVIF Test Specification set.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Media Service/Media2 Service</term>
          <listitem>
            <para>
              Services to determine the streaming properties of requested media streams.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>PTZ Service</term>
          <listitem>
            <para>
              Services to configure and control PTZ movement.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Pan</term>
          <listitem>
            <para>
              Horizontal movement or rotation of a camera or device.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Tilt</term>
          <listitem>
            <para>
              Vertical movement or rotation of a camera or device.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Zoom</term>
          <listitem>
            <para>
              Adjustment of the focal length of a zoom lens, causing the subject,
              scene to be brought closer or made to recede.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>PTZ</term>
          <listitem>
            <para>
              The capability of a camera to pan, tilt, and zoom.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>PTZ node</term>
          <listitem>
            <para>
              Low-level PTZ entity that maps to the PTZ device and its capabilities.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Media Profile</term>
          <listitem>
            <para>
              A media profile maps a video and/or audio source to a video and/or an audio encoder, PTZ and analytics configurations.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Capability</term>
          <listitem>
            <para>
              The capability commands allow a client to ask for the services provided by an ONVIF device.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Network</term>
          <listitem>
            <para>
              A network is an interconnected group of devices communicating using the Internet protocol.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Proxy Server</term>
          <listitem>
            <para>
              A server that services the requests of its clients by forwarding requests to other servers. A Proxy provides indirect network connections to its clients.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Switching Hub</term>
          <listitem>
            <para>
              A device for connecting multiple Ethernet devices together, making them act as a single network segment.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Target Service</term>
          <listitem>
            <para>
              An endpoint that makes itself available for discovery.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </section>
    <section xml:id="additions.abbreviations">
      <title>Abbreviations</title>
      <para>This section describes abbreviations used in this document.</para>
      <variablelist>
        <varlistentry>
          <term>HTTP</term>
          <listitem>
            <para>Hyper Text Transport Protocol.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>WSDL</term>
          <listitem>
            <para>Web Services Description Language.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>XML</term>
          <listitem>
            <para>eXtensible Markup Language.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>PTZ</term>
          <listitem>
            <para>Pan/Tilt/Zoom.</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </section>
  </chapter>
  <chapter xml:id="overview">
    <title>Test Overview</title>
    <para>
      This section describes about the test setup and prerequisites needed,
      and the test policies that should be followed for test case execution.
    </para>
    <section xml:id="overview.test_setup">
      <title>Test Setup</title>
      <section xml:id="overview.test_setup.network_configuration">
        <title>Network Configuration for DUT</title>
        <para>
          The generic test configuration for the execution of test cases defined in this document is as shown below (Figure 4.1).
        </para>
        <para>
          Based on the individual test case requirements, some of the entities in the below setup may not be needed for the execution of those corresponding test cases.
        </para>
        <figure>
          <title>Test Configuration for DUT</title>
          <mediaobject>
            <imageobject>
              <imagedata fileref="test_network.png" format="PNG" scalefit="0"/>
            </imageobject>
            <textobject>
              <phrase>Test Configuration for DUT</phrase>
            </textobject>
          </mediaobject>
        </figure>
        <para>
          <emphasis role="bold">DUT:</emphasis> ONVIF device to be tested. Hereafter, this is referred to as DUT (Device Under Test).
        </para>
        <para>
          <emphasis role="bold">ONVIF Client (Test Tool):</emphasis> Tests are executed by this system and it controls the behavior of the DUT. It handles both expected and unexpected behavior.
        </para>
        <para>
          <emphasis role="bold">HTTP Proxy:</emphasis> provides facilitation in case of RTP and RTSP tunneling over HTTP.
        </para>
        <para>
          <emphasis role="bold">Wireless Access Point:</emphasis> provides wireless connectivity to the devices that support wireless connection.
        </para>
        <para>
          <emphasis role="bold">DNS Server:</emphasis> provides DNS related information to the connected devices.
        </para>
        <para>
          <emphasis role="bold">DHCP Server:</emphasis> provides IPv4 Address to the connected devices.
        </para>
        <para>
          <emphasis role="bold">NTP Server:</emphasis> provides time synchronization between ONVIF Client and DUT.
        </para>
        <para>
          <emphasis role="bold">Switching Hub:</emphasis> provides network connectivity among all the test equipments in the test environment. All devices should be connected to the Switching Hub.
          When running multiple test instances in parallel on the same network, the Switching Hub should be configured to use filtering in order to avoid multicast traffic being flooded to all ports, because this may affect test stability.
        </para>
        <para>
          <emphasis role="bold">Router:</emphasis> provides router advertisements for IPv6 configuration.
        </para>
      </section>
    </section>
    <section xml:id="overview.prerequisites">
      <title>Prerequisites</title>
      <para>
        The pre-requisites for executing the test cases described in this Test Specification are:
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              The DUT shall be configured with an IPv4 address.
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT shall be IP reachable [in the test configuration].
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT shall be able to be discovered by the Test Tool.
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT shall be configured with the time i.e. manual configuration of UTC time and if NTP is supported by the DUT, then NTP time shall be synchronized with NTP Server.
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT time and Test tool time shall be synchronized with each other either manually or by common NTP server
            </para>
          </listitem>
        </orderedlist>
      </para>
    </section>
    <section xml:id="overview.test_policy">
      <title>Test Policy</title>
      <para>
        This section describes the test policies specific to the test case execution of each functional block.
      </para>
      <para>
        The DUT shall adhere to the test policies defined in this section.
      </para>
      <section xml:id="overview.test_policy.ptz">
        <title>PTZ</title>
        <para>
          To start with ONVIF Client shall check device capabilities of PTZ. If the DUT doesn’t have PTZ capability, this test case will skip.
        </para>
        <para>
          The device under test shall support at least one media profile with PTZ configuration. Moreover, the DUT shall include video source configuration and video encoder configuration in the same media profile to see the video and to confirm movement. A PTZ configuration shall include a PTZ node.
        </para>
        <para>
          Poor PTZ performance test is outside the scope of the ONVIF Test Specification.
        </para>
        <para>
          In certain test cases, ONVIF Client may register new preset position into PTZ configuration. In such cases, the test procedure will delete those modified configuration at the end of the test procedure.
        </para>
        <para>
          If DUT does not support PTZ Configuration commands (ex. RelativeMove, AbsoluteMove request) then it SHALL respond to the request with SOAP 1.2 fault message (ActionNotSupported).
        </para>
        <para>
          Please refer to <xref linkend="tc.ptz"/> for PTZ Test Cases.
        </para>
      </section>
    </section>
  </chapter>
  <!--PTZ Test Cases-->
  <chapter xml:id="tc.ptz" xreflabel="Section 5">
    <title>PTZ Test Cases</title>
    <!--PTZ Common-->
    <section xml:id="tc.ptz_common">
      <title>PTZ Common</title>
      <!--PTZ Node-->
      <section xml:id="tc.ptz_control.ptz_node">
        <title>PTZ Node</title>
        <!--PTZ-1-1-1-->
        <section xml:id="tc.PTZ-1-1-1">
          <title>PTZ NODES</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> PTZ-1-1-1
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> GetNodes
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> GetNodes
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify GetNodes command and return all PTZ Nodes available on the device.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> PTZ Service is received from the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT.
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetNodes</emphasis> request to retrieve the list of PTZ nodes supported by DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify that the DUT returns at least one PTZNode in the <emphasis role="bold">GetNodesResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  Validate PTZNodes of <emphasis role="bold">GetNodesResponse</emphasis> message (check mandatory element of SupportedPTZSpaces, MaximumNumberOfPresets, and HomeSupported.)
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <?hard-pagebreak?>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetNodesResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send a valid <emphasis role="bold">GetNodesResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetNodesResponse</emphasis> message with at least one PTZNode.
                </para>
              </listitem>
            </itemizedlist>
          </para>
        </section>
        <!--PTZ-1-1-2-->
        <section xml:id="tc.PTZ-1-1-2">
          <title>PTZ NODE</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> PTZ-1-1-2
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> GetNode
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> GetNode
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify GetNode command and return the properties of the requested PTZ Node, if it exists.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> PTZ Service is received from the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT.
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetNodes</emphasis> request to retrieve a list of the existing PTZNodes.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify that DUT returns at least one PTZNode in the <emphasis role="bold">GetNodesResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetNode</emphasis> request (NodeToken of existing PTZNode) to retrieve the specific PTZNode
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify that DUT returns a PTZNode in <emphasis role="bold">GetNodeResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  Validate PTZNode of <emphasis role="bold">GetNodeResponse</emphasis> message (check mandatory element of SupportedPTZSpaces, MaximumNumberOfPresets, and HomeSupported.)
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetNodesResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send a valid <emphasis role="bold">GetNodesResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetNodesResponse</emphasis> message with at least one PTZNode.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetNodeResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send a valid <emphasis role="bold">GetNodeResponse</emphasis> message.
                </para>
              </listitem>
            </itemizedlist>
          </para>
        </section>
        <!--PTZ-1-1-4-->
        <section xml:id="tc.PTZ-1-1-4">
          <title>SOAP FAULT MESSAGE</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> PTZ-1-1-4
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> GetNode
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> GetNode
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify that DUT generates a SOAP fault message to invalid GetNode message.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> PTZ Service is received from the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT.
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetNode</emphasis> request with invalid NodeToken (not NodeToken of existing PTZNode. For example, NodeToken ReferenceToken = "xyz").
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT returns <emphasis role="bold">env:Sender/ter:InvalidArgVal/ter:NoEntity</emphasis> SOAP 1.2 fault.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send SOAP 1.2 fault message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send a correct SOAP 1.2 fault message (fault code, namespace, etc.).
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_name_max_len"/> for Name and Token Parameters Length limitations.
          </para>
        </section>
      </section>
      <!--PTZ Configuration-->
      <section xml:id="tc.ptz_control.ptz_configuration">
        <title>PTZ Configuration</title>
        <!--PTZ-2-1-1-->
        <section xml:id="tc.PTZ-2-1-1">
          <title>PTZ CONFIGURATIONS</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> PTZ-2-1-1
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> GetConfigurations
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> GetConfigurations
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To retrieve DUT PTZ Configurations setting.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> PTZ Service is received from the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT.
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetConfigurations</emphasis> request to retrieve a list of existing PTZConfigurations on the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify that the DUT returns at least one PTZConfiguration in the <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send a valid <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetConfigurationsResponse</emphasis> message with at least one PTZConfiguration.
                </para>
              </listitem>
            </itemizedlist>
          </para>
        </section>
        <!--PTZ-2-1-2-->
        <section xml:id="tc.PTZ-2-1-2">
          <title>PTZ CONFIGURATION</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> PTZ-2-1-2
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> GetConfiguration
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> GetConfiguration
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To retrieve DUT PTZ Configuration setting.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> PTZ Service is received from the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT.
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetConfigurations</emphasis> request to retrieve a list of existing PTZConfigurations.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetConfigurationsResponse</emphasis> message from DUT (a list of existing PTZConfigurations).
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetConfiguration</emphasis> request (PTZConfigurationToken of existing PTZConfiguration) to retrieve requested PTZConfiguration.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetConfigurationResponse</emphasis> message from DUT (PTZConfiguration includes a NodeToken, and at least one parameter (DefaultAbsolutePantTiltPositionSpace, DefaultAbsoluteZoomPositionSpace, DefaultRelativePanTiltTranslationSpace, DefaultRelativeZoomTranslationSpace, DefaultContinuousPanTiltVelocitySpace, DefaultContinuousZoomVelocitySpace, DefaultPTZSpeed, DefaultPTZTimeout, PanTiltLimits, and ZoomLimits)).
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send a valid <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetConfigurationsResponse</emphasis> message with at least one PTZConfiguration.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send a valid <emphasis role="bold">GetConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetConfigurationResponse</emphasis> message with NodeToken.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetConfigurationResponse</emphasis> message with at least one parameter (excluding NodeToken).
                </para>
              </listitem>
            </itemizedlist>
          </para>
        </section>
        <!--PTZ-2-1-3-->
        <section xml:id="tc.PTZ-2-1-3">
          <title>PTZ CONFIGURATION OPTIONS</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> PTZ-2-1-3
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> GetConfigurationOptions
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> GetConfigurationOptions
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To retrieve returns the list of supported coordinate systems including their range limitations in the DUT PTZ Configuration Options setting.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> PTZ Service is received from the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT.
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetConfigurations</emphasis> request to retrieve a list of existing PTZConfigurations on the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetConfigurationsResponse</emphasis> message from DUT (a list of existing PTZConfiguration).
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetConfigurationOptions</emphasis> request to retrieve PTZConfigurationOptions.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetConfigurationsResponse</emphasis> message from DUT (valid Spaces and PTZTimeout).
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send a valid <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetConfigurationsResponse</emphasis> message with at least one PTZConfiguration.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send a valid <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetConfigurationsResponse</emphasis> message with valid Spaces and PTZTimeout.
                </para>
              </listitem>
            </itemizedlist>
          </para>
        </section>
        <!--PTZ-2-1-5-->
        <section xml:id="tc.PTZ-2-1-5">
          <title>PTZ CONFIGURATIONS AND PTZ CONFIGURATION CONSISTENCY</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> PTZ-2-1-5
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> GetConfigurations, GetConfiguration
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> GetConfigurations, GetConfiguration
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify the capability to set the DUT PTZ Configuration.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> PTZ Service is received from the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT.
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetConfigurations</emphasis> request to retrieve a list of PTZ Configurations from device.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetConfiguration</emphasis> message (ConfigurationToken) to retrieve parameters of PTZ configuration from device.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends <emphasis role="bold">GetConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  Check that all parameters values in <emphasis role="bold">GetConfigurationResponse</emphasis> message are same as in the <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  Repeat steps 5-7 for all other configurations from the <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send a valid <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetConfigurationsResponse</emphasis> message with at least one PTZConfiguration.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send a valid <emphasis role="bold">GetConfigurationResponse</emphasis> message.
                </para>
              </listitem>
            </itemizedlist>
          </para>
        </section>
        <!--PTZ-2-1-6-->
        <section xml:id="tc.PTZ-2-1-6">
          <title>PTZ CONFIGURATIONS AND PTZ NODES CONSISTENCY</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> PTZ-2-1-6
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> GetNodes, GetConfigurations
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> GetNodes, GetConfigurations
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To check that GetConfigurations command and GetNodes command are consistent.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> PTZ Service is received from the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT.
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetConfigurations</emphasis> request to retrieve a list of PTZ Configurations from device.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetNodes</emphasis> request to retrieve list of available PTZ nodes from device.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends <emphasis role="bold">GetNodesResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  Check that parameters for every PTZConfiguration are correct according to <emphasis role="bold">GetNodesResponse</emphasis> message.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send a valid <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetNodesResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send a valid <emphasis role="bold">GetNodesResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  For at least one PTZConfiguration there is at least one of the following items:
                  <itemizedlist>
                    <listitem>
                      <para>
                        NodeToken from PTZConfiguration is not present in <emphasis role="bold">GetNodesResponse</emphasis> message (PTZNode.token) or is present more than one time.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        DefaultAbsolutePantTiltPositionSpace from PTZConfiguration is not included in one of SupportedPTZSpaces.AbsolutePanTiltPositionSpace from <emphasis role="bold">GetNodesResponse</emphasis> message.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        DefaultAbsoluteZoomPositionSpace from PTZConfiguration is not included in one of SupportedPTZSpaces.AbsoluteZoomPositionSpace from <emphasis role="bold">GetNodesResponse</emphasis> message.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        DefaultRelativePanTiltTranslationSpace from PTZConfiguration is not included in one of SupportedPTZSpaces.RelativePanTiltTranlationSpace from <emphasis role="bold">GetNodesResponse</emphasis> message.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        DefaultRelativeZoomTranslationSpace from PTZConfiguration is not included in one of SupportedPTZSpaces.RelativeZoomTranlationSpace from <emphasis role="bold">GetNodesResponse</emphasis> message.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        DefaultContinuousPanTiltVelocitySpace from PTZConfiguration is not included in one of SupportedPTZSpaces.ContinuousPanTiltVelocitySpacefrom <emphasis role="bold">GetNodesResponse</emphasis> message.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        DefaultContinuousZoomVelocitySpace from PTZConfiguration is not included in one of SupportedPTZSpaces.ContinuousZoomVelocitySpace from <emphasis role="bold">GetNodesResponse</emphasis> message.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        DefaultPTZSpeed.PanTilt.space from PTZConfiguration is not included in one of PanTiltSpeedSpace.URI section from <emphasis role="bold">GetNodesResponse</emphasis> message.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        DefaultPTZSpeed.PanTilt.x is not between SupportedPTZSpaces.PanTiltSpeedSpace.XRange.Min and SupportedPTZSpaces.PanTiltSpeedSpace.XRange.Max for appropriate PanTiltSpeedSpace.URI from <emphasis role="bold">GetNodesResponse</emphasis> message.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        DefaultPTZSpeed.PanTilt.y is not between SupportedPTZSpaces.PanTiltSpeedSpace.XRange.Min and SupportedPTZSpaces.PanTiltSpeedSpace.XRange.Max for appropriate PanTiltSpeedSpace.URI from <emphasis role="bold">GetNodesResponse</emphasis> message.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        DefaultPTZSpeed.Zoom.Space is not included in one of ZoomSpeedSpace.URI section of <emphasis role="bold">GetNodesResponse</emphasis> message.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        DefaultPTZSpeed.Zoom.x is not between SupportedPTZSpaces.ZoomSpeedSpace.XRange.Min and SupportedPTZSpaces.ZoomSpeedSpace.XRange.Max for appropriate ZoomSpeedSpace.URI from <emphasis role="bold">GetNodesResponse</emphasis> message.
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
            </itemizedlist>
          </para>
        </section>
        <!--PTZ-2-1-7-->
        <section xml:id="tc.PTZ-2-1-7">
          <title>PTZ CONFIGURATIONS AND PTZ CONFIGURATION OPTIONS CONSISTENCY</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> PTZ-2-1-7
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> GetConfigurations, GetConfigurationOptions
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> GetConfigurations, GetConfigurationOptions
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To check that PTZ Configurations and PTZ Configuration Options are consistent.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> PTZ Service is received from the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT.
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetConfigurations</emphasis> request to retrieve a list of PTZ Configurations from device.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetConfigurationOptions</emphasis> request (ConfigurationToken) to retrieve options for PTZConfiguration from device.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  Check that parameters for PTZ configuration are corresponded to PTZConfigurationOptions.
                </para>
              </listitem>
              <listitem>
                <para>
                  Repeat Steps 5-7 for other PTZConfigurations from the <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send a valid <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetConfigurationOptions</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send a valid <emphasis role="bold">GetConfigurationOptions</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  For at least one PTZConfiguration there is at least one of the following items:
                  <itemizedlist>
                    <listitem>
                      <para>
                        DefaultAbsolutePantTiltPositionSpace from PTZConfiguration is not included in one of Spaces.AbsolutePanTiltPositionSpace from <emphasis role="bold">GetConfigurationOptions</emphasis> message.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        DefaultAbsoluteZoomPositionSpace from PTZConfiguration is not included in one of Spaces.AbsoluteZoomPositionSpace from <emphasis role="bold">GetConfigurationOptions</emphasis> message.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        DefaultRelativePanTiltTranslationSpace from PTZConfiguration is not included in one of Spaces.RelativePanTiltTranlationSpace from <emphasis role="bold">GetConfigurationOptions</emphasis> message.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        DefaultRelativeZoomTranslationSpace from PTZConfiguration is not included in one of Spaces.RelativeZoomTranlationSpace from <emphasis role="bold">GetConfigurationOptions</emphasis> message.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        DefaultContinuousPanTiltVelocitySpace from PTZConfiguration is not included in one of Spaces.ContinuousPanTiltVelocitySpace from <emphasis role="bold">GetConfigurationOptions</emphasis> message.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        DefaultContinuousZoomVelocitySpace from PTZConfiguration is not included in one of Spaces.ContinuousZoomVelocitySpace from <emphasis role="bold">GetConfigurationOptions</emphasis> message.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        DefaultPTZSpeed.PanTilt.space from PTZConfiguration is not included in one of Spaces.PanTiltSpeedSpace.URI section from <emphasis role="bold">GetConfigurationOptions</emphasis> message.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        DefaultPTZSpeed.PanTilt.x is not between Spaces.PanTiltSpeedSpace.XRange.Min and Spaces.PanTiltSpeedSpace.XRange.Max for appropriate Spaces.PanTiltSpeedSpace.URI from <emphasis role="bold">GetConfigurationOptions</emphasis> message.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        DefaultPTZSpeed.PanTilt.y is not between Spaces.PanTiltSpeedSpace.YRange.Min and Spaces.PanTiltSpeedSpace.YRange.Max for appropriate Spaces.PanTiltSpeedSpace.URI from <emphasis role="bold">GetConfigurationOptions</emphasis> message.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        DefaultPTZSpeed.Zoom.Space is not included in one of Spaces.ZoomSpeedSpace.URI section of <emphasis role="bold">GetConfigurationOptions</emphasis> message.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        DefaultPTZSpeed.Zoom.x is not between Spaces.ZoomSpeedSpace.XRange.Min and PTZSpaces.ZoomSpeedSpace.XRange.Max for appropriate Spaces.ZoomSpeedSpace.URI from <emphasis role="bold">GetConfigurationOptions</emphasis> message.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        DefaultPTZTimeout is not between PTZTimeout.Min and PTZTimeout.Max from <emphasis role="bold">GetConfigurationOptions</emphasis> message.
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
            </itemizedlist>
          </para>
        </section>
        <!--PTZ-2-1-9-->
        <section xml:id="tc.PTZ-2-1-9">
          <title>PTZ SET CONFIGURATION</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> PTZ-2-1-9
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> SetConfiguration
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> SetConfiguration
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify the capability to set the DUT PTZ Configuration.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> PTZ Service is received from the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT.
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetConfigurations</emphasis> request to retrieve a list of existing PTZConfigurations.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetConfigurationsResponse</emphasis> message from DUT (a list of existing PTZConfigurations).
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetConfigurationOptions</emphasis> request (ConfigurationToken of existing PTZConfiguration) to retrieve the range of PTZTimeout that can be changed.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify that DUT returns PTZConfigurationOptions in <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">SetConfiguration</emphasis> request (DefaultPTZTimeout = [Max or Min of duration value], and force persistence = false). DefaultPTZTimeout will be set to Max of the duration value. If DefaultPTZTimeout of DUT is same value with Max of duration value, this value will be set to Min of the duration value.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT modifies PTZ Configuration and return with <emphasis role="bold">SetConfigurationResponse</emphasis> message indicating success.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will verify the modified PTZ configuration by invoking <emphasis role="bold">GetConfiguration</emphasis> request.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify that DUT returns the modified PTZ Configuration in the <emphasis role="bold">GetConfigurationResponse</emphasis> message (DefaultPTZTimeout = [Max or Min of the duration value]).
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send a valid <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send a valid <emphasis role="bold">GetConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send equal parameters for one or more PTZConfiguration in the <emphasis role="bold">GetConfigurationResponse</emphasis> message and in the <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_name_max_len"/> for Name and Token Parameters Length limitations.
          </para>
        </section>
        <!--PTZ-2-1-10-->
        <section xml:id="tc.PTZ-2-1-10">
          <title>SOAP FAULT MESSAGE</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> PTZ-2-1-10
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> SetConfiguration
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> SetConfiguration
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify that the DUT generates a SOAP fault message if an invalid PTZ Configuration message is sent.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> PTZ Service is received from the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT.
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">SetConfiguration</emphasis> request with an invalid Configuration token.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT returns <emphasis role="bold">env:Sender/ter:InvalidArgVal/ter:NoConfig</emphasis> SOAP 1.2 fault.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send SOAP 1.2 fault message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send a correct SOAP 1.2 fault message (fault code, namespace etc).
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_name_max_len"/> for Name and Token Parameters Length limitations.
          </para>
        </section>
      </section>
      <!--Capabilities-->
      <section xml:id="tc.ptz_control.capabilities">
        <title>Capabilities</title>
        <!--PTZ-8-1-1-->
        <section xml:id="tc.PTZ-8-1-1">
          <title>PTZ SERVICE CAPABILITIES</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> PTZ-8-1-1
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> Capability exchange
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> GetServiceCapabilities (for PTZ Service)
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify PTZ Service Capabilities of the DUT.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> PTZ Service is received from the DUT. GetServices is supported by the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT.
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetServiceCapabilities</emphasis> request to retrieve PTZ service capabilities of the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetServiceCapabilitiesResponse</emphasis> message from the DUT.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send a valid GetServiceCapabilitiesResponse.
                </para>
              </listitem>
            </itemizedlist>
          </para>
        </section>
        <!--PTZ-8-1-2-->
        <section xml:id="tc.PTZ-8-1-2">
          <title>GET SERVICES AND GET PTZ SERVICE CAPABILITIES CONSISTENCY</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> PTZ-8-1-2
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> Capability exchange
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> GetServices, GetServiceCapabilities (for PTZ Service)
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify Get Services and PTZ Service Capabilities consistency.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> PTZ Service is received from the DUT. GetServices is supported by the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT.
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetServices</emphasis> request (IncludeCapability = true) to retrieve all services of the DUT with service capabilities.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetServicesResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetServiceCapabilities</emphasis> request to retrieve PTZ service capabilities of the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetServiceCapabilitiesResponse</emphasis> message from the DUT.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send a valid <emphasis role="bold">GetServicesResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send a valid <emphasis role="bold">GetServiceCapabilitiesResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sent different Capabilities in <emphasis role="bold">GetServicesResponse</emphasis> message and in <emphasis role="bold">GetServiceCapabilitiesResponse</emphasis> message.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> Service will be defined as PTZ service if it will have Namespace element that is equal to "http://www.onvif.org/ver20/ptz/wsdl".
          </para>
        </section>
      </section>
    </section>
    <!--PTZ Control Using Media Service-->
    <section xml:id="tc.ptz_control_media1">
      <title>PTZ Control Using Media Service</title>
      <!--Move Operation-->
      <section xml:id="tc.ptz_control_media1.move_operation">
        <title>Move Operation</title>
        <!--PTZ-3-1-1-->
        <section xml:id="tc.PTZ-3-1-1">
          <title>PTZ ABSOLUTE MOVE</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> PTZ-3-1-1
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> <emphasis role="bold">AbsoluteMove</emphasis> request
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> <emphasis role="bold">AbsoluteMove</emphasis> request
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify absolute Pan/Tilt or absolute Zoom movements using the DUT PTZ AbsoluteMove request operation.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> PTZ Service is received from the DUT. Media Service is received from the DUT.
            Absolute movement is supported by the DUT for PTZ Node selected on Management tab or by 1st PTZ Node (if PTZ node is not selected on Management tab). A ProfileToken that refers to a Media Profile that includes a PTZConfiguration for the PTZNode is required.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT.
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client configures and selects a media profile as described in <xref linkend="Annex_HelperConfigureMediaProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetConfigurationOptions</emphasis> request to retrieve PTZConfigurationOptions.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify that DUT returns <emphasis role="bold">GetConfigurationsResponse</emphasis> message with valid Spaces and PTZTimeout, and has the function of Absolute movement.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetStatus</emphasis> request to get a current PTZStatus.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT returns a current PTZStatus in the <emphasis role="bold">GetStatusResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  If Absolute move is supported for 'Pan Tilt', ONVIF Client will invoke <emphasis role="bold">AbsoluteMove</emphasis> request (ProfileToken, Position:PanTilt = ["x", "y"], Speed:PanTilt = ["x", "y"]). The Speed:PanTilt parameter is added if supported Speed:PanTilt.
                </para>
              </listitem>
              <listitem>
                <para>
                  If ONVIF Client invoked <emphasis role="bold">AbsoluteMove</emphasis> request for PanTilt, verify that DUT returns <emphasis role="bold">AbsoluteMoveResponse</emphasis> message indicating success.
                </para>
              </listitem>
              <listitem>
                <para>
                  If Absolute move is supported for 'Zoom', ONVIF Client will invoke <emphasis role="bold">AbsoluteMove</emphasis> request (ProfileToken, Position:Zoom = ["x"], Speed:Zoom = ["x"]). The Speed:Zoom parameter is added if supported Speed:Zoom.
                </para>
              </listitem>
              <listitem>
                <para>
                  If ONVIF Client invoked <emphasis role="bold">AbsoluteMove</emphasis> request for Zoom, verify that DUT returns <emphasis role="bold">AbsoluteMoveResponse</emphasis> message indicating success.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetStatus</emphasis> request to get a current PTZStatus.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify that the DUT moves to the specified position by <emphasis role="bold">GetStatusResponse</emphasis> message.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send a valid <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetConfigurationsResponse</emphasis> message with valid Spaces and PTZTimeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStatusResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send a valid <emphasis role="bold">GetStatusResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">AbsoluteMoveResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStatusResponse</emphasis> message with the specified position after moved by ONVIF Client.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If DUT does not return a current position by <emphasis role="bold">GetStatusResponse</emphasis> message, the specified position after being moved by ONVIF Client is not checked by ONVIF Client.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> PTZ accuracy is out of scope for this Test Specification. Therefore, the position reported by the DUT in the <emphasis role="bold">GetStatusResponse</emphasis> message does not have to be exactly the same as the position requested by the ONVIF Client in the <emphasis role="bold">AbsoluteMove</emphasis> request.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If profile selected for test contains PanTiltLimits or ZoomLimits in the PTZConfiguration then these limitations will be taken into account for x, y values of PanTilt or Zoom in <emphasis role="bold">AbsoluteMove</emphasis> request.
          </para>
        </section>
        <!--PTZ-3-1-2-->
        <section xml:id="tc.PTZ-3-1-2">
          <title>SOAP FAULT MESSAGE</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> PTZ-3-1-2
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> <emphasis role="bold">AbsoluteMove</emphasis> request
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> <emphasis role="bold">AbsoluteMove</emphasis> request
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify that DUT generates a SOAP fault message to AbsoluteMove request operation with out of bounds values.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> PTZ Service is received from the DUT. Media Service is received from the DUT. Absolute movement is supported by the DUT for PTZ Node selected on Management tab or by 1st PTZ Node (if PTZ node is not selected on Management tab) . A ProfileToken that refers to a Media Profile that includes a PTZConfiguration for the PTZNode is required.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT.
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client configures and selects a media profile as described in <xref linkend="Annex_HelperConfigureMediaProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetConfigurationOptions</emphasis> request (PTZConfigurationToken).
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT returns existing PTZConfiguration in the <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">AbsoluteMove</emphasis> request (ProfileToken, PanTilt = ["x (Out of range)", "y (Out of range)"]).
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT returns <emphasis role="bold">env:Sender/ter:InvalidArgVal/ter:InvalidPosition</emphasis> SOAP 1.2 fault.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send a valid <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send SOAP 1.2 fault message against <emphasis role="bold">AbsoluteMove</emphasis> request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send a correct SOAP 1.2 fault message (fault code, namespace etc) against <emphasis role="bold">AbsoluteMove</emphasis> request.
                </para>
              </listitem>
            </itemizedlist>
          </para>
        </section>
        <!--PTZ-3-1-3-->
        <section xml:id="tc.PTZ-3-1-3">
          <title>PTZ RELATIVE MOVE</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> PTZ-3-1-3
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RelativeMove
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> RelativeMove
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify relative Pan/Tilt or relative Zoom movements using the DUT PTZ RelativeMove operation.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> PTZ Service is received from the DUT. Media Service is received from the DUT. Relative movement is supported by the DUT for PTZ Node selected on Management tab or by 1st PTZ Node (if PTZ node is not selected on Management tab) . A ProfileToken that refers to a Media Profile that includes a PTZConfiguration for the PTZNode is required.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT.
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client configures and selects a media profile as described in <xref linkend="Annex_HelperConfigureMediaProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetConfigurationOptions</emphasis> request to retrieve PTZConfigurationOptions.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify that DUT returns <emphasis role="bold">GetConfigurationsResponse</emphasis> message with valid Spaces and PTZTimeout, and has the function of Relative movement.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetStatus</emphasis> request to get a current PTZStatus.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT returns a current PTZStatus in the <emphasis role="bold">GetStatusResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  If PanTilt of Relative movement is supported (there is a parameter of RelativePanTiltTranslationSpace in PTZConfigurationOptions), ONVIF Client will invoke <emphasis role="bold">RelativeMove</emphasis> request (ProfileToken, Position:PanTilt = ["x", "y"], Speed:PanTilt = ["x", "y"]). The Speed:PanTilt parameter is added if supported Speed:PanTilt.
                </para>
              </listitem>
              <listitem>
                <para>
                  If ONVIF Client invoked <emphasis role="bold" service="skip">RelativeMove</emphasis> request for PanTilt, verify that DUT returns <emphasis role="bold">RelativeMoveResponse</emphasis> message indicating success.
                </para>
              </listitem>
              <listitem>
                <para>
                  If Zoom Relative movement is supported (there is a parameter of RelativeZoomTranslationSpace in PTZConfigurationOptions), ONVIF Client will invoke <emphasis role="bold">RelativeMove</emphasis> request (ProfileToken, Position:Zoom = ["x"], Speed:Zoom = ["x"]). The Speed:Zoom parameter is added if supported Speed:Zoom.
                </para>
              </listitem>
              <listitem>
                <para>
                  If ONVIF Client invoked <emphasis role="bold" service="skip">RelativeMove</emphasis> request for Zoom, verify that DUT returns <emphasis role="bold">RelativeMoveResponse</emphasis> message indicating success.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetStatus</emphasis> request to get a current PTZStatus.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify that DUT moves to the specified position by <emphasis role="bold">GetStatusResponse</emphasis> message.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send a valid <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetConfigurationsResponse</emphasis> message with valid Spaces and PTZTimeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStatusResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send a valid <emphasis role="bold">GetStatusResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">RelativeMoveResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStatusResponse</emphasis> message with the specified position after moved by ONVIF Client.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If DUT does not return a current position by <emphasis role="bold">GetStatusResponse</emphasis> message, the specified position after being moved by ONVIF Client is not checked by ONVIF Client.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> PTZ accuracy is out of scope for this Test Specification. Therefore the position reported by the DUT in the <emphasis role="bold">GetStatusResponse</emphasis> message does not have to be exactly the same as the position requested by the ONVIF Client in the <emphasis role="bold">RelativeMove</emphasis> request.
          </para>
        </section>
        <!--PTZ-3-1-4-->
        <section xml:id="tc.PTZ-3-1-4">
          <title>PTZ CONTINUOUS MOVE</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> PTZ-3-1-4
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> ContinuousMove
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> ContinuousMove
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify continuous Pan/Tilt or continuous Zoom movements using the DUT PTZ ContinuousMove operation with timeout parameter.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> PTZ Service is received from the DUT. Media Service is received from the DUT. A ProfileToken that refers to a Media Profile that includes a PTZConfiguration for the PTZNode is required.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT.
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client configures and selects a media profile as described in <xref linkend="Annex_HelperConfigureMediaProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetConfigurationOptions</emphasis> request to retrieve PTZConfigurationOptions.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify that DUT returns <emphasis role="bold">GetConfigurationsResponse</emphasis> message with valid Spaces and PTZTimeout, and has the function of Relative movement.
                </para>
              </listitem>
              <listitem>
                <para>
                  If PanTilt of Continuous movement is supported (there is a parameter of ContinuousPanTiltVelocitySpace in PTZConfigurationOptions), ONVIF Client will invoke <emphasis role="bold">ContinuousMove</emphasis> request (ProfileToken, Velocity:PanTilt = ["x", "y"], Timeout = PT60S).
                </para>
              </listitem>
              <listitem>
                <para>
                  If ONVIF Client invoked <emphasis role="bold" service="skip">ContinuousMove</emphasis> request for PanTilt, verify that DUT returns <emphasis role="bold">ContinuousMoveResponse</emphasis> message indicating success.
                </para>
              </listitem>
              <listitem>
                <para>
                  If ONVIF Client invoked <emphasis role="bold" service="skip">ContinuousMove</emphasis> request for PanTilt, ONVIF Client will invoke <emphasis role="bold">GetStatus</emphasis> request to get a current PTZStatus after 60 second.
                </para>
              </listitem>
              <listitem>
                <para>
                  If ONVIF Client invoked <emphasis role="bold" service="skip">ContinuousMove</emphasis> request for PanTilt, verify that the DUT returns <emphasis role="bold">GetStatusResponse</emphasis> message with MoveStatus = IDLE or UNKNOWN.
                </para>
              </listitem>
              <listitem>
                <para>
                  If Zoom of Continuous movement is supported (there is a parameter of ContinuousZoomVelocitySpace in PTZConfigurationOptions), ONVIF Client will invoke <emphasis role="bold">ContinuousMove</emphasis> request (ProfileToken, Velocity:Zoom = ["x"], Timeout = PT60S).
                </para>
              </listitem>
              <listitem>
                <para>
                  If ONVIF Client invoked <emphasis role="bold" service="skip">ContinuousMove</emphasis> request for Zoom, verify that DUT returns <emphasis role="bold">ContinuousMoveResponse</emphasis> message indicating success.
                </para>
              </listitem>
              <listitem>
                <para>
                  If ONVIF Client invoked <emphasis role="bold" service="skip">ContinuousMove</emphasis> request for Zoom, ONVIF Client will invoke <emphasis role="bold">GetStatus</emphasis> request to get a current PTZStatus after 60 second.
                </para>
              </listitem>
              <listitem>
                <para>
                  If ONVIF Client invoked <emphasis role="bold" service="skip">ContinuousMove</emphasis> request for PanTilt, verify that the DUT returns <emphasis role="bold">GetStatusResponse</emphasis> message with MoveStatus = IDLE or UNKNOWN.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send a valid <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetConfigurationsResponse</emphasis> message with valid Spaces and PTZTimeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStatusResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send a valid <emphasis role="bold">GetStatusResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">ContinuousMoveResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStatusResponse</emphasis> message with MoveStatus = MOVING or UNKNOWN after executing Test Procedure 9 and 15.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStatusResponse</emphasis> message with MoveStatus = IDLE or UNKNOWN after executing Test Procedure 11 and 17.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If DUT does not return a current MoveStatus by <emphasis role="bold">GetStatusResponse</emphasis> message, the MoveStatus is not checked by ONVIF Client.
          </para>
        </section>
        <!--PTZ-3-1-5-->
        <section xml:id="tc.PTZ-3-1-5">
          <title>PTZ CONTINUOUS MOVE &amp; STOP</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> PTZ-3-1-5
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> ContinuousMove, Stop
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> ContinuousMove, Stop
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify continuous Pan/Tilt or continuous Zoom movements using the DUT PTZ ContinuousMove operation without timeout parameter and to stop all ongoing pan, tilt and zoom movements.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> PTZ Service is received from the DUT. Media Service is received from the DUT. A ProfileToken that refers to a Media Profile that includes a PTZConfiguration for the PTZNode is required.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT.
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client configures and selects a media profile as described in <xref linkend="Annex_HelperConfigureMediaProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetConfigurationOptions</emphasis> request to retrieve PTZConfigurationOptions.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify that DUT returns <emphasis role="bold">GetConfigurationsResponse</emphasis> message with valid Spaces and PTZTimeout, and has the function of Relative movement.
                </para>
              </listitem>
              <listitem>
                <para>
                  If PanTilt of Continuous movement is supported (there is a parameter of ContinuousPanTiltVelocitySpace in PTZConfigurationOptions), ONVIF Client will invoke <emphasis role="bold">ContinuousMove</emphasis> request (ProfileToken, Velocity:PanTilt = ["x", "y"]).
                </para>
              </listitem>
              <listitem>
                <para>
                  If ONVIF Client invoked <emphasis role="bold" service="skip">ContinuousMove</emphasis> request for PanTilt, verify that DUT returns <emphasis role="bold">ContinuousMoveResponse</emphasis> message indicating success.
                </para>
              </listitem>
              <listitem>
                <para>
                  If ONVIF Client invoked <emphasis role="bold" service="skip">ContinuousMove</emphasis> request for PanTilt, ONVIF Client will invoke <emphasis role="bold">Stop</emphasis> request to stop continuous move.
                </para>
              </listitem>
              <listitem>
                <para>
                  If ONVIF Client invoked <emphasis role="bold" service="skip">ContinuousMove</emphasis> request for PanTilt, verify that the DUT returns <emphasis role="bold">StopResponse</emphasis> message indicating success.
                </para>
              </listitem>
              <listitem>
                <para>
                  If ONVIF Client invoked <emphasis role="bold" service="skip">ContinuousMove</emphasis> request for PanTilt, ONVIF Client will invoke <emphasis role="bold">GetStatus</emphasis> request to get a current PTZStatus.
                </para>
              </listitem>
              <listitem>
                <para>
                  If ONVIF Client invoked <emphasis role="bold" service="skip">ContinuousMove</emphasis> request for PanTilt, verify that the DUT returns <emphasis role="bold">GetStatusResponse</emphasis> message with MoveStatus = IDLE or UNKNOWN.
                </para>
              </listitem>
              <listitem>
                <para>
                  If Zoom of Continuous movement is supported (there is a parameter of ContinuousZoomVelocitySpace in PTZConfigurationOptions), ONVIF Client will invoke <emphasis role="bold">ContinuousMove</emphasis> request (ProfileToken, Velocity:Zoom = ["x"]).
                </para>
              </listitem>
              <listitem>
                <para>
                  If ONVIF Client invoked <emphasis role="bold" service="skip">ContinuousMove</emphasis> request for Zoom, verify that DUT returns <emphasis role="bold">ContinuousMoveResponse</emphasis> message indicating success.
                </para>
              </listitem>
              <listitem>
                <para>
                  If ONVIF Client invoked <emphasis role="bold" service="skip">ContinuousMove</emphasis> request for Zoom, ONVIF Client will invoke <emphasis role="bold">Stop</emphasis> request to stop continuous move.
                </para>
              </listitem>
              <listitem>
                <para>
                  If ONVIF Client invoked <emphasis role="bold" service="skip">ContinuousMove</emphasis> request for Zoom, verify that the DUT returns <emphasis role="bold">StopResponse</emphasis> message indicating success.
                </para>
              </listitem>
              <listitem>
                <para>
                  If ONVIF Client invoked <emphasis role="bold" service="skip">ContinuousMove</emphasis> request for Zoom, ONVIF Client will invoke <emphasis role="bold">GetStatus</emphasis> request to get a current PTZStatus.
                </para>
              </listitem>
              <listitem>
                <para>
                  If ONVIF Client invoked <emphasis role="bold" service="skip">ContinuousMove</emphasis> request for PanTilt, verify that the DUT returns <emphasis role="bold">GetStatusResponse</emphasis> message with MoveStatus = IDLE or UNKNOWN.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send a valid <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetConfigurationsResponse</emphasis> message with valid Spaces and PTZTimeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStatusResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send a valid <emphasis role="bold">GetStatusResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">ContinuousMoveResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">StopResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStatusResponse</emphasis> message with MoveStatus = MOVING or UNKNOWN after executing Test Procedure 9 and 17.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStatusResponse</emphasis> message with MoveStatus = IDLE or UNKNOWN after executing Test Procedure 13 and 21.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If DUT does not return a current MoveStatus by <emphasis role="bold">GetStatusResponse</emphasis> message, the MoveStatus is not checked by ONVIF Client.
          </para>
        </section>
      </section>
      <!--Preset operations-->
      <section xml:id="tc.ptz_control_media1.preset_operations">
        <title>Preset operations</title>
        <!--PTZ-4-1-4-->
        <section xml:id="tc.PTZ-4-1-4">
          <title>SET AND GET PRESET</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> PTZ-4-1-4
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> SetPreset, GetPresets
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> SetPreset, GetPresets
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify that the DUT supports the setting of presets using the SetPreset operation and the retrieval of presets using the GetPresets operation.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> PTZ Service is received from the DUT. Media Service is received from the DUT. Presets is supported by the DUT for PTZ Node selected on Management tab or by 1st PTZ Node (if PTZ node is not selected on Management tab) . Absolute or Relative movement is supported by the DUT for PTZ Node selected on Management tab or by 1st PTZ Node (if PTZ node is not selected on Management tab) . A ProfileToken that refers to a Media Profile that includes a PTZConfiguration for the PTZNode is required.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT.
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client configures and selects a media profile as described in <xref linkend="Annex_HelperConfigureMediaProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  Position the DUT so that it is at PTZPosition X using a move request supported by the DUT (e.g. <emphasis role="bold">AbsoluteMove</emphasis> request or <emphasis role="bold">RelativeMove</emphasis> request depending of features for PTZ Node selected on Management tab).
                </para>
              </listitem>
              <listitem>
                <para>
                  Create a new preset using <emphasis role="bold">SetPreset</emphasis> request (Name = "Test").
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify that the DUT sends a<emphasis role="bold">SetPresetResponse</emphasis> message and a PresetToken for the preset. The PresetToken will need to be used in the following test steps. The PresetToken can have any valid value but it will be referred to as PresetToken = "A" in this test case.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client sends a <emphasis role="bold">GetPresets</emphasis> request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends a list of presets in the <emphasis role="bold">GetPresetsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify that the <emphasis role="bold">GetPresetsResponse</emphasis> message has a preset with PresetToken = "A" and with Name = "Test".
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports absolute Pan/Tilt movement for PTZ Node selected on Management tab, the ONVIF Client checks that <emphasis role="bold">GetPresetsResponse</emphasis> message contains PTZPosition.PanTilt field with values that are equal to X.
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports absolute Zoom movement for PTZ Node selected on Management tab, the ONVIF Client checks that <emphasis role="bold">GetPresetsResponse</emphasis> message contains PTZPosition.Zoom field with values that are equal to X.
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT does not support absolute Pan/Tilt movement for PTZ Node selected on Management tab and <emphasis role="bold">GetPresetsResponse</emphasis> message contains PTZPosition.PanTilt field, the ONVIF Client checks that values of PanTilt that are equal to X.
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT does not support absolute Zoom movement for PTZ Node selected on Management tab and <emphasis role="bold">GetPresetsResponse</emphasis> message contains PTZPosition.Zoom field, the ONVIF Client checks that values of PanTilt that are equal to X.
                </para>
              </listitem>
              <listitem>
                <para>
                  Position the DUT so that is at PTZPosition Y using a move request supported by the DUT (e.g. <emphasis role="bold">AbsoluteMove</emphasis> request or <emphasis role="bold">RelativeMove</emphasis> request depending of features for PTZ Node selected on Management tab).
                </para>
              </listitem>
              <listitem>
                <para>
                  Overwrite the preset using <emphasis role="bold">SetPreset</emphasis> request (PresetToken = "A").
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client sends a <emphasis role="bold">GetPresets</emphasis> request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends a list of presets in the <emphasis role="bold">GetPresetsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify that there is a preset with PresetToken = "A" and with Name = "Test.
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports absolute Pan/Tilt movement for PTZ Node selected on Management tab, the ONVIF Client checks that <emphasis role="bold">GetPresetsResponse</emphasis> message contains PTZPosition.PanTilt field with values that correspond to Y.
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports absolute Zoom movement for PTZ Node selected on Management tab, the ONVIF Client checks that <emphasis role="bold">GetPresetsResponse</emphasis> message contains PTZPosition.Zoom field with values that correspond to Y.
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT does not support absolute Pan/Tilt movement for PTZ Node selected on Management tab and <emphasis role="bold">GetPresetsResponse</emphasis> message contains PTZPosition.PanTilt field, the ONVIF Client checks that values of PanTilt that correspond to Y.
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT does not support absolute Zoom movement for PTZ Node selected on Management tab and <emphasis role="bold">GetPresetsResponse</emphasis> message contains PTZPosition.Zoom field, the ONVIF Client checks that values of PanTilt that correspond to X.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client sends a <emphasis role="bold">RemovePreset</emphasis> request (PresetToken = "A") to the DUT and the DUT removes the preset.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT’s move operation failed.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send<emphasis role="bold">SetPresetResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not include a PresetToken in the<emphasis role="bold">SetPresetResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetPresetsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not include the correct PTZPosition in the <emphasis role="bold">GetPresetsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not include the correct name (Name = "Test") in the <emphasis role="bold">GetPresetsResponse</emphasis> message.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> There are no specific requirements on what the exact values for PTZPositions X and Y should be used in this test, other than they shall be different positions.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If profile selected for test contains PanTiltLimits or ZoomLimits in the PTZConfiguration then these limitations will be taken into account for x, y values of PanTilt in <emphasis role="bold">AbsoluteMove</emphasis> request.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> PTZ accuracy is out of scope for this Test Specification. Therefore the position reported by the DUT in the GetPresetResponse does not have to be exactly the same as the position of the preset created with the <emphasis role="bold">SetPreset</emphasis> request.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_name_max_len"/> for Name and Token Parameters Length limitations.
          </para>
        </section>
        <!--PTZ-4-1-5-->
        <section xml:id="tc.PTZ-4-1-5">
          <title>GOTO PRESET</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> PTZ-4-1-5
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> GotoPreset, SetPreset
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> GotoPreset
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify that it is possible to go to presets using the GotoPreset operation.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> PTZ Service is received from the DUT. Media Service is received from the DUT.
            Presets is supported by the DUT for PTZ Node selected on Management tab or by 1st PTZ Node (if PTZ node is not selected on Management tab) . Absolute or Relative movement is supported by the DUT for PTZ Node selected on Management tab or by 1st PTZ Node (if PTZ node is not selected on Management tab) .
            A ProfileToken that refers to a Media Profile that includes a PTZConfiguration for the PTZNode is required.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT.
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client configures and selects a media profile as described in <xref linkend="Annex_HelperConfigureMediaProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  Position the DUT so that it is at PTZPosition X using a move request supported by the DUT (e.g. <emphasis role="bold">AbsoluteMove</emphasis> request or <emphasis role="bold">RelativeMove</emphasis> request depending of features for PTZ Node selected on Management tab).
                </para>
              </listitem>
              <listitem>
                <para>
                  Create a new preset using <emphasis role="bold">SetPreset</emphasis> request (Name = "Test").
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify that the DUT sends a<emphasis role="bold">SetPresetResponse</emphasis> message and a PresetToken for the preset. The PresetToken will need to be used in the following test steps. The PresetToken can have any valid value but it will be referred to as PresetToken = "A" in this test case.
                </para>
              </listitem>
              <listitem>
                <para>
                  Move the DUT so that it is not at PTZPosition X (e.g. using <emphasis role="bold">AbsoluteMove</emphasis> request Y).
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client sends <emphasis role="bold">GotoPreset</emphasis> request (PresetToken = "A").
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT goes to the preset PTZ position and sends a <emphasis role="bold">GotoPresetResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify that the DUT is at PTZPosition X. <emphasis role="bold">GetStatus</emphasis> request (Position) can be used if it is supported; else this will have to be done manually.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client sends a <emphasis role="bold">RemovePreset</emphasis> request (PresetToken = "A") to the DUT and the DUT removes the preset.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT’s move operation failed.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send<emphasis role="bold">SetPresetResponse</emphasis> message with a PresetToken.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not go to the correct position after <emphasis role="bold">GotoPreset</emphasis> request was sent.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GotoPresetResponse</emphasis> message.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> There is no specific requirement on what the exact value for PTZPosition X should be used in this test case.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If profile selected for test contains PanTiltLimits or ZoomLimits in the PTZConfiguration, then these limitations will be taken into account for x, y values of PanTilt in <emphasis role="bold">AbsoluteMove</emphasis> request.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> PTZ accuracy is out of scope for this Test Specification. Therefore the position reported by the DUT in the <emphasis role="bold">GetStatusResponse</emphasis> message does not have to be exactly the same as the position of the preset created with the <emphasis role="bold">SetPreset</emphasis> request.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_name_max_len"/> for Name and Token Parameters Length limitations.
          </para>
        </section>
        <!--PTZ-4-1-6-->
        <section xml:id="tc.PTZ-4-1-6">
          <title>REMOVE PRESET</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> PTZ-4-1-6
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RemovePreset, SetPreset, GetPresets
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> RemovePreset
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify that it is possible to remove presets using the RemovePreset operation.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> PTZ Service is received from the DUT. Media Service is received from the DUT.
            Presets is supported by the DUT for PTZ Node selected on Management tab or by 1st PTZ Node (if PTZ node is not selected on Management tab) . A ProfileToken that refers to a Media Profile that includes a PTZConfiguration for the PTZNode is required.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT.
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client configures and selects a media profile as described in <xref linkend="Annex_HelperConfigureMediaProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client creates a new preset using <emphasis role="bold">SetPreset</emphasis> request (Name = "Test").
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT saves the preset and sends a<emphasis role="bold">SetPresetResponse</emphasis> message. Verify that the DUT sent a<emphasis role="bold">SetPresetResponse</emphasis> message and a PresetToken for the preset. The PresetToken will need to be used in the following test steps. The PresetToken can have any valid value but it will be referred to as "PresetToken = "A" in this test case.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client sends a <emphasis role="bold">GetPresets</emphasis> request.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends a list of presets in the <emphasis role="bold">GetPresetsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify that there is a preset with PresetToken = "A" and Name = "Test".
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client sends <emphasis role="bold">RemovePreset</emphasis> request (PresetToken = "A").
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT removes preset and sends a <emphasis role="bold">RemovePresetResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client sends a <emphasis role="bold">GetPresets</emphasis> request.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends a list of presets in the <emphasis role="bold">GetPresetsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify that there is no preset with PresetToken = "A" and Name = "Test".
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT did not send<emphasis role="bold">SetPresetResponse</emphasis> message with a PresetToken.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetPresetsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not remove a preset after <emphasis role="bold">RemovePreset</emphasis> request was sent.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">RemovePresetResponse</emphasis> message.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_name_max_len"/> for Name and Token Parameters Length limitations.
          </para>
        </section>
      </section>
      <!--Home Position operations-->
      <section xml:id="tc.ptz_control_media1.home_position_operations">
        <title>Home Position operations</title>
        <!--PTZ-5-1-1-->
        <section xml:id="tc.PTZ-5-1-1">
          <title>HOME POSITION OPERATIONS (CONFIGURABLE)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> PTZ-5-1-1
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> GotoHomePosition, SetHomePosition
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> GotoHomePosition, SetHomePosition
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify that the SetHomePosition and GotoHomePosition operations are correctly implemented.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> PTZ Service is received from the DUT. Media Service is received from the DUT.
            Configurable Home Position is supported by the DUT for PTZ Node selected on Management tab or by 1st PTZ Node (if PTZ node is not selected on Management tab) .
            Absolute or Relative movement is supported by the DUT for PTZ Node selected on Management tab or by 1st PTZ Node (if PTZ node is not selected on Management tab) . A ProfileToken that refers to a Media Profile that includes a PTZConfiguration for the PTZNode is required.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT.
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client configures and selects a media profile as described in <xref linkend="Annex_HelperConfigureMediaProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  Position the DUT so that it is at PTZPosition X using a move request supported by the DUT (e.g. <emphasis role="bold">AbsoluteMove</emphasis> request or <emphasis role="bold">RelativeMove</emphasis> depending of features for PTZ Node selected on Management tab).
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client sends a <emphasis role="bold">SetHomePosition</emphasis> request.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sets the Home position to the current position and sends a <emphasis role="bold">SetHomePositionResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  Move DUT so that it is not at PTZPosition X (e.g. using <emphasis role="bold">AbsoluteMove</emphasis> request Y).
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client sends a <emphasis role="bold">GotoHomePosition</emphasis> request.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT goes to the Home PTZ position and sends a <emphasis role="bold">GotoHomePositionResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify that the DUT is at PTZPosition X (<emphasis role="bold">GetStatus</emphasis> request/Position can be used if it is supported, else this will have to be done manually).
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT’s move operation failed.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">SetHomePositionResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not save the new position as Home position.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GotoHomePositionResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not go to Home position.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> PTZ accuracy is out of scope for this Test Specification. Therefore, the position reported by the DUT in the <emphasis role="bold">GetStatusResponse</emphasis> message does not have to be exactly the same as the position of the Home position.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If profile selected for test contains PanTiltLimits or ZoomLimits in the PTZConfiguration then these limitations will be taken into account for x, y values of PanTilt in <emphasis role="bold">AbsoluteMove</emphasis> request.
          </para>
        </section>
        <!--PTZ-5-1-2-->
        <section xml:id="tc.PTZ-5-1-2">
          <title>HOME POSITION OPERATIONS (FIXED)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> PTZ-5-1-2
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> Capability exchange
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> GetCapabilities
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify that the SetHomePosition and GotoHomePosition operations are correctly implemented.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> PTZ Service is received from the DUT. Media Service is received from the DUT. Fixed Home Position is supported by the DUT for PTZ Node selected on Management tab or by 1st PTZ Node (if PTZ node is not selected on Management tab) .
            Absolute or Relative movement is supported by the DUT for PTZ Node selected on Management tab or by 1st PTZ Node (if PTZ node is not selected on Management tab) . A ProfileToken that refers to a Media Profile that includes a PTZConfiguration for the PTZNode is required.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT.
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client configures and selects a media profile as described in <xref linkend="Annex_HelperConfigureMediaProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client sends a <emphasis role="bold">GotoHomePosition</emphasis> request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT goes to the Home position and sends a <emphasis role="bold">GotoHomePositionResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  Note at which PTZPosition the DUT is (<emphasis role="bold">GetStatus</emphasis> request/Position can be used if it is supported, else this will have to be done manually). This position will be referred to as "PTZPosition A" below.
                </para>
              </listitem>
              <listitem>
                <para>
                  Position the DUT so that is at PTZPosition Y using a move request supported by the DUT (e.g. <emphasis role="bold">AbsoluteMove</emphasis> request or <emphasis role="bold">RelativeMove</emphasis> request  depending of features for PTZ Node selected on Management tab).
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client sends a <emphasis role="bold">SetHomePosition</emphasis> request.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT responds with "Cannot Overwrite Home" message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client sends a <emphasis role="bold">GotoHomePosition</emphasis> request.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT goes to the Home PTZ position and sends a <emphasis role="bold">GotoHomePositionResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify that the DUT is back at PTZPosition A (<emphasis role="bold">GetStatus</emphasis> request/Position can be used if it is supported, else this will have to be done manually).
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send SOAP Fault message (CannotOverwriteHome).
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT’s move operation failed.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not save the new position ("PTZPosition Y") as Home position.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GotoHomePositionResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not go to original Home position ("PTZPosition A").
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> PTZ accuracy is out of scope for this Test Specification. Therefore the position reported by the DUT in the <emphasis role="bold">GetStatusResponse</emphasis> message does not have to be exactly the same as the position of the Home position.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If profile selected for test contains PanTiltLimits or ZoomLimits in the PTZConfiguration then these limitations will be taken into account for x, y values of PanTilt in <emphasis role="bold">AbsoluteMove</emphasis> request.
          </para>
        </section>
        <!--PTZ-5-1-3-->
        <section xml:id="tc.PTZ-5-1-3">
          <title>PTZ – HOME POSITION OPERATIONS (USAGE OF FIXEDHOMEPOSITION FLAG)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> PTZ-5-1-3
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> SetHomePosition
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> SetHomePosition
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify that the SetHomePosition and GotoHomePosition operations are correctly implemented.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> PTZ Service is received from the DUT. Media Service is received from the DUT.
            A ProfileToken that refers to a Media Profile that includes a PTZConfiguration for the PTZNode is required.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT.
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client configures and selects a media profile as described in <xref linkend="Annex_HelperConfigureMediaProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetNode</emphasis> request (Node Token) to get PTZ node capabilities.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetNodeResponse</emphasis> message from the DUT. If <emphasis role="bold">GetNodeResponse</emphasis> message does not contains FixedHomePosition attribute skip other steps and go to the next test.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetHomePosition</emphasis> request message (Profile Token) to get PTZ node capabilities.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetHomePositionResponse</emphasis> message or SOAP 1.2 fault message (Action/CannotOverwriteHome or ActionNotSupported) from the DUT. Verify that <emphasis role="bold">SetHomePositionResponse</emphasis> message was relieved if FixedHomePosition = "false". Verify that SOAP 1.2 fault message (Action/CannotOverwriteHome or ActionNotSupported) was relieved if FixedHomePosition = "true".
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">SetHomePositionResponse</emphasis> message if FixedHomePosition = false.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send a valid SOAP 1.2 fault message if FixedHomePosition = true.
                </para>
              </listitem>
            </itemizedlist>
          </para>
        </section>
        <!--PTZ-5-1-4-->
        <section xml:id="tc.PTZ-5-1-4">
          <title>PTZ HOME POSITION OPERATIONS USING CUSTOM MEDIA PROFILE</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> PTZ-5-1-4
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> SetHomePosition, GotoHomePosition
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify that the SetHomePosition and GotoHomePosition operations are correctly implemented in the case of custom created profile.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media Service is received from the DUT. PTZ Service is received from the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client retrieves PTZ Nodes list by following the procedure mentioned in <xref linkend="Annex_HelperGetPTZNodeList"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        out <emphasis role="italic">ptzNodeList</emphasis> PTZ Node List
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  For each PTZ Node <emphasis role="italic">ptzNode</emphasis> from <emphasis role="italic">ptzNodeList</emphasis> list with HomeSupported = true repeat the following steps:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>

                    <listitem xml:id="tc.PTZ-5-1-4.4.1">
                      <para>
                        ONVIF Client creates Media Profile with Video Source Configuration and PTZ Configuration by following the procedure mentioned in <xref linkend="Annex_HelperCreateMediaProfile"/> with the following input and output parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              in <emphasis role="italic">ptzNodeToken1</emphasis> - token of the PTZ Node, with which Media Profile should be configured
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              out <emphasis role="italic">profile</emphasis> - Media Profile with Video Source Configuration and PTZ Configuration
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        ONVIF Client defines features of PTZ Node <emphasis role="italic">ptzNode</emphasis> by following the procedure mentioned in <xref linkend="Annex_HelperNodeFeatures"/> with the following input and output parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              in <emphasis role="italic">ptzNode</emphasis> - PTZ Node,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              out <emphasis role="italic">continuousPanTilt</emphasis> - Supporting of Continuous Pan/Tilt movement,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              out <emphasis role="italic">continuousZoom</emphasis> - Supporting of Continuous Zoom movement ,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              out <emphasis role="italic">absolutePanTilt</emphasis> - Supporting of Absolute Pan/Tilt movement,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              out <emphasis role="italic">absoluteZoom</emphasis> - Supporting of Absolute Zoom movement,

                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              out <emphasis role="italic">relativePanTilt</emphasis> - Supporting of Relative Pan/Tilt movement,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              out <emphasis role="italic">relativeZoom</emphasis> - Supporting of Relative Zoom movement.
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>


                    <listitem>
                      <para>
                        ONVIF Client gets PTZ Configuration Options <emphasis role="italic">ptzConfigurationOptions</emphasis> by following the procedure mentioned in <xref linkend="Annex_HelperGetPTZConfOptions"/> with the following input and output parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              in <emphasis role="italic">profile</emphasis>.Configurations.PTZ.@token - PTZ Configutation token,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              out <emphasis role="italic">ptzConfigurationOptions</emphasis> - PTZ Configuration Options.
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem xml:id="tc.PTZ-5-1-4.4.4">
                      <para>
                        ONVIF Client changes PTZ position to minimum by following the procedure mentioned in <xref linkend="Annex_HelperMoveToMinPosition"/> with the following input and output parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              in <emphasis role="italic">profile</emphasis> - Media Profile with PTZ Configuration,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              in <emphasis role="italic">ptzConfigurationOptions</emphasis> - PTZ Configuration Options,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              in <emphasis role="italic">continuousPanTilt</emphasis> - Supporting of Continuous Pan/Tilt movement,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              in <emphasis role="italic">continuousZoom</emphasis> - Supporting of Continuous Zoom movement,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              in <emphasis role="italic">absolutePanTilt</emphasis> - Supporting of Absolute Pan/Tilt movement,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              in <emphasis role="italic">absoluteZoom</emphasis> - Supporting of Absolute Zoom movement,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              in <emphasis role="italic">relativePanTilt</emphasis> - Supporting of Relative Pan/Tilt movement,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              in <emphasis role="italic">relativeZoom</emphasis> - Supporting of Relative Zoom movement,
                            </para>
                          </listitem>

                        </itemizedlist>
                      </para>
                    </listitem>




                    <listitem>
                      <para xml:id="tc.PTZ-5-1-4.4.5">
                        ONVIF Client invokes <emphasis role="bold">GetStatus</emphasis> request with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        The DUT responds with <emphasis role="bold">GetStatusResponse</emphasis> with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              PTZStatus =: <emphasis role="italic">ptzStatus1</emphasis>
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        ONVIF Client invokes <emphasis role="bold">SetHomePosition</emphasis> request with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem xml:id="tc.PTZ-5-1-4.4.8">
                      <para>
                        The DUT returns <emphasis role="bold">env:Receiver/ter:Action/ter:CannotOverwriteHome</emphasis> or <emphasis role="bold">env:Receiver/ter:ActionNotSupported</emphasis> SOAP 1.2 fault or <emphasis role="bold">SetHomePositionResponse</emphasis> message.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If DUT returns <emphasis role="bold">env:Receiver/ter:Action/ter:CannotOverwriteHome</emphasis> or <emphasis role="bold">env:Receiver/ter:ActionNotSupported</emphasis> SOAP 1.2 fault at step <link linkend="tc.PTZ-5-1-4.4.8">4.8</link>:
                        <itemizedlist>
                          <listitem>
                            <para>
                              set <emphasis role="italic">fixedHomePosition</emphasis> :=  true
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If DUT returns <emphasis role="bold">SetHomePositionResponse</emphasis> message at step <link linkend="tc.PTZ-5-1-4.4.8">4.8</link>:
                        <itemizedlist>
                          <listitem>
                            <para>
                              set <emphasis role="italic">fixedHomePosition</emphasis> :=  false
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If <emphasis role="italic">ptzNode</emphasis>.@FixedHomePosition is specified:
                        <orderedlist numeration="arabic" inheritnum="inherit">
                          <?dbfo label-width="3.5em"?>
                          <listitem>
                            <para>
                              If <emphasis role="italic">ptzNode</emphasis>.@FixedHomePosition = true and <emphasis role="italic">fixedHomePosition</emphasis> = false, FAIL the test and skip other steps.
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              If <emphasis role="italic">ptzNode</emphasis>.@FixedHomePosition = false and <emphasis role="italic">fixedHomePosition</emphasis> = true, FAIL the test and skip other steps.
                            </para>
                          </listitem>
                        </orderedlist>
                      </para>
                    </listitem>


                    <listitem>
                      <para>
                        If <emphasis role="italic">fixedHomePosition</emphasis> = true:
                        <orderedlist numeration="arabic" inheritnum="inherit">
                          <?dbfo label-width="3.5em"?>
                          <listitem>
                            <para>
                              ONVIF Client invokes <emphasis role="bold">GotoHomePosition</emphasis> request with parameters
                              <itemizedlist>
                                <listitem>
                                  <para>
                                    ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    Speed skipped
                                  </para>
                                </listitem>
                              </itemizedlist>
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              The DUT responds with <emphasis role="bold">GotoHomePositionResponse</emphasis> message.
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              Wait until <emphasis role="italic">timeout1</emphasis> timeout expires.
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              ONVIF Client invokes <emphasis role="bold">GetStatus</emphasis> request with parameters
                              <itemizedlist>
                                <listitem>
                                  <para>
                                    ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                                  </para>
                                </listitem>
                              </itemizedlist>
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              The DUT responds with <emphasis role="bold">GetStatusResponse</emphasis> with parameters
                              <itemizedlist>
                                <listitem>
                                  <para>
                                    PTZStatus =: <emphasis role="italic">ptzStatus1</emphasis>
                                  </para>
                                </listitem>
                              </itemizedlist>
                            </para>
                          </listitem>

                        </orderedlist>
                      </para>
                    </listitem>
                    <listitem xml:id="tc.PTZ-5-1-4.4.13">
                      <para>
                        ONVIF Client changes PTZ position to maximum by following the procedure mentioned in <xref linkend="Annex_HelperMoveToMaxPosition"/> with the following input and output parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              in <emphasis role="italic">profile</emphasis> - Media Profile with PTZ Configuration,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              in <emphasis role="italic">ptzConfigurationOptions</emphasis> - PTZ Configuration Options,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              in <emphasis role="italic">continuousPanTilt</emphasis> - Supporting of Continuous Pan/Tilt movement,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              in <emphasis role="italic">continuousZoom</emphasis> - Supporting of Continuous Zoom movement,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              in <emphasis role="italic">absolutePanTilt</emphasis> - Supporting of Absolute Pan/Tilt movement,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              in <emphasis role="italic">absoluteZoom</emphasis> - Supporting of Absolute Zoom movement,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              in <emphasis role="italic">relativePanTilt</emphasis> - Supporting of Relative Pan/Tilt movement,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              in <emphasis role="italic">relativeZoom</emphasis> - Supporting of Relative Zoom movement,
                            </para>
                          </listitem>

                        </itemizedlist>
                      </para>
                    </listitem>

                    <listitem>
                      <para>
                        ONVIF Client invokes <emphasis role="bold">GotoHomePosition</emphasis> request with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              Speed skipped
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        The DUT responds with <emphasis role="bold">GotoHomePositionResponse</emphasis> message.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Wait until <emphasis role="italic">timeout1</emphasis> timeout expires.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        ONVIF Client invokes <emphasis role="bold">GetStatus</emphasis> request with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        The DUT responds with <emphasis role="bold">GetStatusResponse</emphasis> with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              PTZStatus =: <emphasis role="italic">ptzStatus2</emphasis>
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>

                    <listitem>
                      <para>
                        If <emphasis role="italic">ptzStatus2</emphasis>.Position.PanTilt is specified:
                        <orderedlist numeration="arabic" inheritnum="inherit">
                          <?dbfo label-width="2.5em"?>
                          <listitem xml:id="tc.PTZ-5-1-4.4.19.1">
                            <para>
                              If difference between <emphasis role="italic">ptzStatus2</emphasis>.Position.PanTilt.x and <emphasis role="italic">ptzStatus1</emphasis>.Position.PanTilt.x is more than 10% of full range, write WARNING.
                            </para>
                          </listitem>
                          <listitem xml:id="tc.PTZ-5-1-4.4.19.2">
                            <para>
                              If difference between <emphasis role="italic">ptzStatus2</emphasis>.Position.PanTilt.y and <emphasis role="italic">ptzStatus1</emphasis>.Position.PanTilt.y is more than 10% of full range, write WARNING.
                            </para>
                          </listitem>
                        </orderedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If <emphasis role="italic">ptzStatus2</emphasis>.Position.Zoom is specified:
                        <orderedlist numeration="arabic" inheritnum="inherit">
                          <?dbfo label-width="2.5em"?>
                          <listitem xml:id="tc.PTZ-5-1-4.4.20.1">
                            <para>
                              If difference between <emphasis role="italic">ptzStatus2</emphasis>.Position.Zoom.x and <emphasis role="italic">ptzStatus1</emphasis>.Position.Zoom.x is more than 10% of full range, write WARNING.
                            </para>
                          </listitem>
                        </orderedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If PTZ Configuration <emphasis role="italic">profile</emphasis>.Configurations.PTZ was changed at step <link linkend="tc.PTZ-5-1-4.4.4">4.4</link> or at step <link linkend="tc.PTZ-5-1-4.4.13">4.13</link>, ONVIF Client restores PTZ Configuration.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If Media Profile <emphasis role="italic">profile</emphasis> was changed at step <link linkend="tc.PTZ-5-1-4.4.1">4.1</link>, ONVIF Client restores Media Profile.
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetConfigurationOptionsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetStatusResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">SetHomePositionResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GotoHomePositionResponse</emphasis> message.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> PTZ accuracy is out of scope for this Test Specification. Therefore, the position reported by the DUT in the <emphasis role="bold">GetStatusResponse</emphasis> does not have to be exactly the same as the position requested by the ONVIF Client in the <emphasis role="bold">AbsoluteMove</emphasis> request.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> The DUT features support are defined by the procedure mentioned in [ONVIF Feature Discovery].
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> <emphasis role="italic">timeout1</emphasis> will be taken from Operation Delay field of ONVIF Device Test Tool.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> To calculate full range for Pan Tilt for step <link linkend="tc.PTZ-5-1-4.4.19.1">4.19.1</link> and for step <link linkend="tc.PTZ-5-1-4.4.19.2">4.19.2</link> ONVIF Client uses <emphasis role="italic">ptzStatus2</emphasis>.Position.PanTilt.@space space.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> To calculate full range for Zoom for step <link linkend="tc.PTZ-5-1-4.4.20.1">4.20.1</link> ONVIF Client uses <emphasis role="italic">ptzStatus2</emphasis>.Position.Zoom.@space space.
          </para>
        </section>
      </section>
      <!--Auxiliary operations-->
      <section xml:id="tc.ptz_control_media1.auxiliary_operations">
        <title>Auxiliary operations</title>
        <!--PTZ-6-1-1-->
        <section xml:id="tc.PTZ-6-1-1">
          <title>SEND AUXILIARY COMMAND</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> PTZ-6-1-1
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> SendAuxiliaryCommand
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> SendAuxiliaryCommand
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify that it is possible to send an auxiliary command using the SendAuxiliaryCommand operation.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> PTZ Service is received from the DUT. Media Service is received from the DUT.
            Auxilary operations is supported by the DUT for PTZ Node selected on Management tab or by 1st PTZ Node (if PTZ node is not selected on Management tab) . A ProfileToken that refers to a Media Profile that includes a PTZConfiguration for the PTZNode is required.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT.
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client configures and selects a media profile as described in <xref linkend="Annex_HelperConfigureMediaProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client sends a <emphasis role="bold">GetNode</emphasis> request.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends a <emphasis role="bold">GetNodeResponse</emphasis> message that includes a list of the supported auxiliary commands.
                </para>
              </listitem>
              <listitem>
                <para>
                  Send an Auxiliary command that matches the supported command listed in the PTZ Node, using <emphasis role="bold">SendAuxiliaryCommand</emphasis> request.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify that the DUT sends a <emphasis role="bold">SendAuxiliaryCommandResponse</emphasis> message.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT did not list the available auxiliary commands in the PTZ Node properties.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">SendAuxiliaryCommandResponse</emphasis> message.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> It is outside the scope of this test case to verify that the functionality connected to an Auxiliary command works as intended. This should be independently verified by the person executing the test.
          </para>
        </section>
      </section>
      <!--Predefined PTZ spaces-->
      <section xml:id="tc.ptz_control_media1.predefined_ptz_spaces">
        <title>Predefined PTZ spaces</title>
        <!--Absolute Position Spaces-->
        <section xml:id="tc.ptz_control_media1.predefined_ptz_spaces.absolute_position_spaces">
          <title>Absolute Position Spaces</title>
          <!--PTZ-7-1-3-->
          <section xml:id="tc.PTZ-7-1-3">
            <title>GENERIC PAN/TILT POSITION SPACE</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> PTZ-7-1-3
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> Generic Pan/Tilt Position Space
            </para>
            <para>
              <emphasis role="bold">Feature Under Test:</emphasis> Generic Pan/Tilt Position Space
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify that the node supports the Generic Pan/Tilt Position Space for AbsolutePanTilt.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> PTZ Service is received from the DUT. Media Service is received from the DUT. A ProfileToken that refers to a Media Profile that includes a PTZConfiguration for the PTZNode is required.
            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT.
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client will invoke <emphasis role="bold">GetNodes</emphasis> request to retrieve a complete list of PTZNodes.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">GetNodesResponse</emphasis> message from the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Select the first PTZNode that supports Absolute Pan/Tilt movement. If there is no such PTZNodes skip other steps and go to the next test.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify that the node’s Absolute Position Space description is correctly formed and that the allowed range is specified. Verify that there is Generic Pan/Tilt Position Space description for AbsolutePanTilt.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client configures and selects a media profile as described in <xref linkend="Annex_HelperConfigureMediaProfile"/> for PTZ Configuration that refers to the selected PTZNode.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client sends a valid <emphasis role="bold">AbsoluteMove</emphasis> request using the min XRange/YRange values from the space description and with Generic Pan/Tilt Position Space.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify that the <emphasis role="bold" service="skip">AbsoluteMove</emphasis> request is accepted.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client sends a valid <emphasis role="bold">AbsoluteMove</emphasis> request using the max XRange/YRange values from the space description and with Generic Pan/Tilt Position Space.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify that the <emphasis role="bold" service="skip">AbsoluteMove</emphasis> request is accepted.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Repeat test procedure for all PTZNodes available that supports Absolute Pan/Tilt movement in the DUT.
                  </para>
                </listitem>
              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    The DUT does not have a Generic Pan/Tilt Position Space description for AbsolutePanTilt.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The allowed range is not specified.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    A valid <emphasis role="bold">AbsoluteMove</emphasis> request operation does not succeed.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> This test case shall be repeated for all PTZNodes with Absolute Pan/Tilt move support that are available in the DUT.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> Absolute Pan/Tilt Move is regarded as supported for PTZNode, if PTZNode contains at least one AbsolutePanTiltPositionSpace tag.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> If profile selected for test contains PanTiltLimits or ZoomLimits in the PTZConfiguration then these limitations will be taken into account for x, y values of PanTilt or Zoom in <emphasis role="bold">AbsoluteMove</emphasis> request.
            </para>
          </section>
          <!--PTZ-7-1-4-->
          <section xml:id="tc.PTZ-7-1-4">
            <title>GENERIC ZOOM POSITION SPACE</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> PTZ-7-1-4
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> Generic Zoom Position Space
            </para>
            <para>
              <emphasis role="bold">Feature Under Test:</emphasis> Generic Zoom Position Space
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify that the node supports the Generic Zoom Position Space for Absolute Zoom.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> PTZ Service is received from the DUT. Media Service is received from the DUT. A ProfileToken that refers to a Media Profile that includes a PTZConfiguration for the PTZNode is required.
            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT.
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client will invoke <emphasis role="bold">GetNodes</emphasis> request to retrieve a complete list of PTZNodes.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">GetNodesResponse</emphasis> message from the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Select the first PTZNode that supports Absolute Zoom movement. If there is no such PTZNodes, skip other steps and go to the next test.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify that the node’s Absolute Position Space description is correctly formed and that the allowed range is specified. Verify that there is Generic Zoom Position Space description for AbsoluteZoom.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client configures and selects a media profile as described in <xref linkend="Annex_HelperConfigureMediaProfile"/> for PTZ Configuration that refers to selected PTZNode.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client sends a valid <emphasis role="bold">AbsoluteMove</emphasis> request using the max XRange values from the space description and with Generic Zoom Position Space.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify that the <emphasis role="bold" service="skip">AbsoluteMove</emphasis> request is accepted.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client sends a valid <emphasis role="bold">AbsoluteMove</emphasis> request using the min XRange values from the space description and with Generic Zoom Position Space.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify that the <emphasis role="bold" service="skip">AbsoluteMove</emphasis> request is accepted.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Repeat test procedure for all PTZNodes available that supports Absolute Zoom movement in the DUT.
                  </para>
                </listitem>
              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    The DUT does not have a Generic Zoom Position Space description for AbsoluteZoom.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The allowed range is not specified.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    A valid <emphasis role="bold">AbsoluteMove</emphasis> request operation does not succeed.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> This test case shall be repeated for all PTZNodes with Absolute Zoom move support that are available in the DUT.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> Absolute Zoom Move is regarded as supported for PTZNode, if PTZNode contains at least one AbsoluteZoomPositionSpace tag.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> If profile selected for test contains PanTiltLimits or ZoomLimits in the PTZConfiguration then these limitations will be taken into account for x, y values of PanTilt or Zoom in <emphasis role="bold">AbsoluteMove</emphasis> request.
            </para>
          </section>
        </section>
        <!--Relative Translation Spaces-->
        <section xml:id="tc.ptz_control_media1.predefined_ptz_spaces.relative_translation_spaces">
          <title>Relative Translation Spaces</title>
          <!--PTZ-7-2-3-->
          <section xml:id="tc.PTZ-7-2-3">
            <title>GENERIC PAN/TILT TRANSLATION SPACE</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> PTZ-7-2-3
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> Generic Pan/Tilt Translation Space
            </para>
            <para>
              <emphasis role="bold">Feature Under Test:</emphasis> Generic Pan/Tilt Translation Space
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify that the node supports the Generic Pan/Tilt Translation Space for Relative Pan/Tilt.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> PTZ Service is received from the DUT. Media Service is received from the DUT. A ProfileToken that refers to a Media Profile that includes a PTZConfiguration for the PTZNode is required.
            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT.
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client will invoke <emphasis role="bold">GetNodes</emphasis> request to retrieve a complete list of PTZNodes.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">GetNodesResponse</emphasis> message from the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Select the first PTZNode that supports Relative Pan/Tilt movement. If there is no such PTZNodes, skip other steps and go to the next test.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify that the node’s Relative Translation Space description is correctly formed and that the allowed range is specified. Verify that there is Generic Pan/Tilt Translation Space description for RelativePanTilt.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client configures and selects a media profile as described in <xref linkend="Annex_HelperConfigureMediaProfile"/> for PTZ Configuration that refers to selected PTZNode.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client sends a valid <emphasis role="bold">RelativeMove</emphasis> request using the min XRange/YRange values from the space description and with Generic Pan/Tilt Translation Space.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify that the <emphasis role="bold" service="skip">RelativeMove</emphasis> request is accepted.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client sends a valid <emphasis role="bold">RelativeMove</emphasis> request using the max XRange/YRange values from the space description and with Generic Pan/Tilt Translation Space.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify that the <emphasis role="bold" service="skip">RelativeMove</emphasis> request is accepted.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Repeat test procedure for all PTZNodes available that supports Relative Pan/Tilt movement in the DUT.
                  </para>
                </listitem>
              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    The DUT does not have a Generic Pan/Tilt Translation Space description for Relative Pan/Tilt.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The allowed range is not specified.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    A valid RelativeMove operation does not succeed.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> This test case shall be repeated for all PTZNodes with Relative Pan/Tilt move support that are available in the DUT.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> Relative Pan/Tilt Move is regarded as supported for PTZNode, if PTZNode contains at least one RelativePanTiltTranslationSpace tag.
            </para>
          </section>
          <!--PTZ-7-2-4-->
          <section xml:id="tc.PTZ-7-2-4">
            <title>GENERIC ZOOM TRANSLATION SPACE</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> PTZ-7-2-4
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> Generic Zoom Translation Space
            </para>
            <para>
              <emphasis role="bold">Feature Under Test:</emphasis> Generic Zoom Translation Space
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify that the node supports the Generic Zoom Translation Space for Relative Zoom.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> PTZ Service is received from the DUT. Media Service is received from the DUT. A ProfileToken that refers to a Media Profile that includes a PTZConfiguration for the PTZNode is required.
            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT.
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client will invoke <emphasis role="bold">GetNodes</emphasis> request to retrieve a complete list of PTZNodes.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">GetNodesResponse</emphasis> message from the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Select the first PTZNode that supports Relative Zoom movement. If there is no such PTZNodes skip, other steps and go to the next test.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify that the node’s Relative Translation Space description is correctly formed and that the allowed range is specified. Verify that there is Generic Zoom Translation Space description for RelativeZoom.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client configures and selects a media profile as described in <xref linkend="Annex_HelperConfigureMediaProfile"/> for PTZ Configuration that refers to selected PTZNode.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client sends a valid <emphasis role="bold">RelativeMove</emphasis> request using the max XRange values from the space description and with Generic Zoom Translation Space.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify that the <emphasis role="bold" service="skip">RelativeMove</emphasis> request is accepted.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client sends a valid <emphasis role="bold">RelativeMove</emphasis> request using the min XRange values from the space description and with Generic Zoom Translation Space.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify that the <emphasis role="bold" service="skip">RelativeMove</emphasis> request is accepted.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Repeat test procedure for all PTZNodes available that supports Relative Zoom movement in the DUT.
                  </para>
                </listitem>
              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    The DUT does not have a Generic Zoom Translation Space description for RelativeZoom.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The allowed range is not specified
                  </para>
                </listitem>
                <listitem>
                  <para>
                    A valid RelativeMove operation does not succeed
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> This test case shall be repeated for all PTZNodes with Relative Zoom move support that are available in the DUT.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> Relative Zoom Move is regarded as supported for PTZNode, if PTZNode contains at least one RelativeZoomTranslationSpace tag.
            </para>
          </section>
        </section>
        <!--Continuous Velocity Spaces-->
        <section xml:id="tc.ptz_control_media1.predefined_ptz_spaces.continuous_velocity_spaces">
          <title>Continuous Velocity Spaces</title>
          <!--PTZ-7-3-3-->
          <section xml:id="tc.PTZ-7-3-3">
            <title>GENERIC PAN/TILT VELOCITY SPACE</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> PTZ-7-3-3
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> Generic Pan/Tilt Velocity Space
            </para>
            <para>
              <emphasis role="bold">Feature Under Test:</emphasis> Generic Pan/Tilt Velocity Space
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify that the node supports the Generic Pan/Tilt Velocity Space for Continuous Pan/Tilt.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> PTZ Service is received from the DUT. Media Service is received from the DUT. A ProfileToken that refers to a Media Profile that includes a PTZConfiguration for the PTZNode is required.
            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT.
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client will invoke <emphasis role="bold">GetNodes</emphasis> request to retrieve a complete list of PTZNodes.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">GetNodesResponse</emphasis> message from the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Select the first PTZNode that supports Continuous Pan/Tilt movement. If there is no such PTZNodes, skip other steps and go to the next test.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify that the node’s Continuous Velocity Space description is correctly formed and that the allowed range is specified. Verify that there is Generic Pan/Tilt Velocity Space description for ContinuousPanTilt.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client configures and selects a media profile as described in <xref linkend="Annex_HelperConfigureMediaProfile"/> for PTZ Configuration that refers to selected PTZNode.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client sends a valid <emphasis role="bold">ContinuousMove</emphasis> request using the min XRange/YRange values from the space description and with Generic Pan/Tilt Velocity Space.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify that the <emphasis role="bold" service="skip">ContinuousMove</emphasis> request is accepted.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client sends a valid <emphasis role="bold">ContinuousMove</emphasis> request using the max XRange/YRange values from the space description and with Generic Pan/Tilt Velocity Space.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify that the <emphasis role="bold" service="skip">ContinuousMove</emphasis> request is accepted.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Repeat test procedure for all PTZNodes available that supports Continuous Pan/Tilt movement in the DUT.
                  </para>
                </listitem>
              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    The DUT does not have a Generic Pan/Tilt Velocity Space description for Continuous Pan/Tilt.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The allowed range is not specified
                  </para>
                </listitem>
                <listitem>
                  <para>
                    A valid ContinuousMove operation does not succeed
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> This test case shall be repeated for all PTZNodes with Continuous Pan/Tilt move support that are available in the DUT.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> Continuous Pan/Tilt Move is regarded as supported for PTZNode, if PTZNode contains at least one ContinuousPanTiltVelocitySpace tag.
            </para>
          </section>
          <!--PTZ-7-3-4-->
          <section xml:id="tc.PTZ-7-3-4">
            <title>GENERIC ZOOM VELOCITY SPACE</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> PTZ-7-3-4
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> Generic Zoom Velocity Space
            </para>
            <para>
              <emphasis role="bold">Feature Under Test:</emphasis> Generic Zoom Velocity Space
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify that the node supports the Generic Zoom Velocity Space for Continuous Zoom.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> PTZ Service is received from the DUT. Media Service is received from the DUT. A ProfileToken that refers to a Media Profile that includes a PTZConfiguration for the PTZNode is required.
            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT.
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client will invoke <emphasis role="bold">GetNodes</emphasis> request to retrieve a complete list of PTZNodes.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">GetNodesResponse</emphasis> message from the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Select the first PTZNode that supports Continuous Zoom movement. If there is no such PTZNodes, skip other steps and go to the next test.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify that the node’s Continuous Velocity Space description is correctly formed and that the allowed range is specified. Verify that there is Generic Zoom Velocity Space description for ContinuousZoom.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client configures and selects a media profile as described in <xref linkend="Annex_HelperConfigureMediaProfile"/> for PTZ Configuration that refers to selected PTZNode.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client sends a valid <emphasis role="bold">ContinuousMove</emphasis> request using the max XRange values from the space description and with Generic Zoom Velocity Space.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify that the <emphasis role="bold" service="skip">ContinuousMove</emphasis> request is accepted.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client sends a valid <emphasis role="bold">ContinuousMove</emphasis> request using the min XRange values from the space description and with Generic Zoom Velocity Space.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify that the <emphasis role="bold" service="skip">ContinuousMove</emphasis> request is accepted.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Repeat test procedure for all PTZNodes available that supports Continuous Zoom movement in the DUT.
                  </para>
                </listitem>
              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    The DUT does not have a Generic Zoom Velocity Space description for ContinuousZoom.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The allowed range is not specified
                  </para>
                </listitem>
                <listitem>
                  <para>
                    A valid ContinuousMove operation does not succeed
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> This test case shall be repeated for all PTZNodes with Continuous Zoom move support that are available in the DUT.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> Continuous Zoom Move is regarded as supported for PTZNode, if PTZNode contains at least one ContinuousZoomVelocitySpace tag.
            </para>
          </section>
        </section>
        <!--Speed Spaces-->
        <section xml:id="tc.ptz_control_media1.predefined_ptz_spaces.speed_spaces">
          <title>Speed Spaces</title>
          <!--PTZ-7-4-3-->
          <section xml:id="tc.PTZ-7-4-3">
            <title>GENERIC PAN/TILT SPEED SPACE</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> PTZ-7-4-3
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> Generic Pan/Tilt Speed Space
            </para>
            <para>
              <emphasis role="bold">Feature Under Test:</emphasis> Generic Pan/Tilt Speed Space
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify that the node supports the Generic Pan/Tilt Speed Space for pan/tilt.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> PTZ Service is received from the DUT. Media Service is received from the DUT. A ProfileToken that refers to a Media Profile that includes a PTZConfiguration for the PTZNode is required.
            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT.
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client will invoke <emphasis role="bold">GetNodes</emphasis> request to retrieve a complete list of PTZNodes.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">GetNodesResponse</emphasis> message from the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Select the first PTZNode that supports Speed for Pan/Tilt movement. If there is no such PTZNodes, skip other steps and go to the next test.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify that the node’s Speed Space description is correctly formed and that the allowed range is specified. Verify that there is Generic Pan/Tilt Speed Space description for PanTiltSpeedSpace.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client configures and selects a media profile as described in <xref linkend="Annex_HelperConfigureMediaProfile"/> for PTZ Configuration that refers to selected PTZNode.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client sends a valid <emphasis role="bold">AbsoluteMove</emphasis> request or <emphasis role="bold">RelativeMove</emphasis> request (depending on which is supported by the PTZNode) using the min XRange/YRange values from the space description for Pan/Tilt position, min XRange/YRange values from the space description for Pan/Tilt speed and with Generic Pan/Tilt Speed Space.
                  </para>
                </listitem>
                <listitem>
                  <para>
                  Verify that the <emphasis role="bold" service="skip">AbsoluteMove</emphasis> request (or <emphasis role="bold" service="skip">RelativeMove</emphasis> request) is accepted.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client sends a valid <emphasis role="bold">AbsoluteMove</emphasis> request or <emphasis role="bold">RelativeMove</emphasis> request (depending on which is supported by the PTZNode) using the max XRange/YRange values from the space description for Pan/Tilt position, max XRange/YRange values from the space description for Pan/Tilt speed and with Generic Pan/Tilt Speed Space.
                  </para>
                </listitem>
                <listitem>
                  <para>
                  Verify that the <emphasis role="bold" service="skip">AbsoluteMove</emphasis> request (or <emphasis role="bold" service="skip">RelativeMove</emphasis> request) is accepted.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Repeat test procedure for all PTZNodes available that supports Speed for Pan/Tilt movement in the DUT.
                  </para>
                </listitem>
              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    The DUT does not have a Generic Pan/Tilt Position Space description for Speed Pan/Tilt.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The allowed range is not specified
                  </para>
                </listitem>
                <listitem>
                  <para>
                    A valid <emphasis role="bold">AbsoluteMove</emphasis> request or <emphasis role="bold">RelativeMove</emphasis> request (depending on which is supported by the PTZNode) does not succeed.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> This test case shall be repeated for all PTZNodes with supported Speed for Pan/Tilt move that are available in the DUT.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> Speed for Pan/Tilt is regarded as supported for PTZNode, if PTZNode contains at least one PanTiltSpeedSpace tag.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> If profile selected for test contains PanTiltLimits or ZoomLimits in the PTZConfiguration, then these limitations will be taken into account for x, y values of PanTilt or Zoom in <emphasis role="bold">AbsoluteMove</emphasis> request.
            </para>
          </section>
          <!--PTZ-7-4-4-->
          <section xml:id="tc.PTZ-7-4-4">
            <title>GENERIC ZOOM SPEED SPACE</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> PTZ-7-4-4
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> Generic Zoom Speed Space
            </para>
            <para>
              <emphasis role="bold">Feature Under Test:</emphasis> Generic Zoom Speed Space
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify that the node supports the Generic Zoom Speed Space for zoom.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> PTZ Service is received from the DUT. Media Service is received from the DUT. A ProfileToken that refers to a Media Profile that includes a PTZConfiguration for the PTZNode is required.
            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT.
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client will invoke <emphasis role="bold">GetNodes</emphasis> request to retrieve a complete list of PTZNodes.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">GetNodesResponse</emphasis> message from the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Select the first PTZNode that supports Speed for Zoom movement. If there is no such PTZNodes, skip other steps and go to the next test.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify that the node’s Speed Space description is correctly formed and that the allowed range is specified. Verify that there is Generic Zoom Speed Space description for ZoomSpeedSpace.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client configures and selects a media profile as described in <xref linkend="Annex_HelperConfigureMediaProfile"/> for PTZ Configuration that refers to selected PTZNode.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client sends a valid <emphasis role="bold">AbsoluteMove</emphasis> request or <emphasis role="bold">RelativeMove</emphasis> request (depending on which is supported by the PTZNode) using the max XRange values from the space description for Zoom position, max XRange values from the space description for Zoom speed and with Generic Zoom Speed Space.
                  </para>
                </listitem>
                <listitem>
                  <para>
                  Verify that the <emphasis role="bold" service="skip">AbsoluteMove</emphasis> request (or <emphasis role="bold" service="skip">RelativeMove</emphasis> request) is accepted.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client sends a valid <emphasis role="bold">AbsoluteMove</emphasis> request or <emphasis role="bold">RelativeMove</emphasis> request (depending on which is supported by the PTZNode) using the min XRange values from the space description for Zoom position, min XRange values from the space description for Zoom speed and with Generic Zoom Speed Space.
                  </para>
                </listitem>
                <listitem>
                  <para>
                  Verify that the <emphasis role="bold" service="skip">AbsoluteMove</emphasis> request (or <emphasis role="bold" service="skip">RelativeMove</emphasis> request) is accepted.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Repeat test procedure for all PTZNodes available that supports Speed for Zoom movement in the DUT.
                  </para>
                </listitem>
              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    The DUT does not have a Generic Zoom Speed Space description for SpeedZoom.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The allowed range is not specified.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> This test case shall be repeated for all PTZNodes with supported Speed for Zoom move that are available in the DUT.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> Speed for Zoom is regarded as supported for PTZNode, if PTZNode contains at least one ZoomSpeedSpace tag.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> If profile selected for test contains PanTiltLimits or ZoomLimits in the PTZConfiguration, then these limitations will be taken into account for x, y values of PanTilt or Zoom in <emphasis role="bold">AbsoluteMove</emphasis> request.
            </para>
          </section>
        </section>
      </section>
    </section>
    <!--PTZ Control Using Media2 Service-->
    <section xml:id="tc.ptz_control_media2">
      <title>PTZ Control Using Media2 Service</title>
      <!--Move Operation-->
      <section xml:id="tc.ptz_control_media2.move_operation">
        <title>Move Operation</title>
        <!--MEDIA2_PTZ-1-1-1-->
        <section xml:id="tc.MEDIA2_PTZ-1-1-1">
          <title>PTZ ABSOLUTE MOVE USING MEDIA2 PROFILE</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> MEDIA2_PTZ-1-1-1
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> AbsoluteMove
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify absolute Pan/Tilt or absolute Zoom movements using the DUT PTZ AbsoluteMove operation.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media2 Service is received from the DUT. PTZ Service is received from the DUT. Absolute movement is supported by the DUT for PTZ Node selected on Management tab or by 1st PTZ Node (if PTZ node is not selected on Management tab) .
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <!--Annex_HelperMediaProfileConfiguration-->
              <listitem xml:id="tc.MEDIA2_PTZ-1-1-1.3">
                <para>
                  ONVIF Client configures or selects a Media Profile with Video Source Configuration and PTZ Configuration by following the procedure mentioned in <xref linkend="Annex_HelperMediaProfileConfiguration"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">ptzNodeToken1</emphasis> - token of the PTZ Node, with which Media Profile should be configured
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">profile</emphasis> - Media Profile with Video Source Configuration and PTZ Configuration
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <!--GetConfigurationOptions-->
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetConfigurationOptions</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ConfigurationToken := <emphasis role="italic">profile</emphasis>Configurations.PTZ.@token
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <!--GetConfigurationOptionsResponse-->
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">GetConfigurationOptionsResponse</emphasis> with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        PTZConfigurationOptions =: <emphasis role="italic">ptzConfigurationOptions</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <!--Annex_HelperVerifyPTZConfOptions-->
              <listitem>
                <para>
                  ONVIF Client verifies PTZ Configuration Options by following the procedure mentioned in <xref linkend="Annex_HelperVerifyPTZConfOptions"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">ptzConfigurationOptions</emphasis> - PTZ Configuration Options
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <!--Check-->
              <listitem>
                <para>
                  If <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces does not have at least one of the AbsolutePanTiltPositionSpace element or AbsoluteZoomPositionSpace element, FAIL the test and skip other steps.
                </para>
              </listitem>
              <!--Annex_HelperConfigureDefaultAbsoluteSpaces-->
              <listitem xml:id="tc.MEDIA2_PTZ-1-1-1.8">
                <para>
                  ONVIF Client configures Default Absolute Spaces by following the procedure mentioned in <xref linkend="Annex_HelperConfigureDefaultAbsoluteSpaces"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">ptzConfigurationOptions</emphasis> - PTZ Configuration Options
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">profile</emphasis> - Media Profile with PTZ Configuration
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">profile</emphasis> - Media Profile with PTZ Configuration with configured Absolute Position Default Spaces
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">pantiltSpace</emphasis> - Options for Absolute Pan/Tilt Position Default Space
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">zoomSpace</emphasis> - Options for Absolute Zoom Position Default Space
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <!--Annex_HelperAbsoluteMoveTestInitialPosition-->
              <listitem xml:id="tc.MEDIA2_PTZ-1-1-1.9">
                <para>
                  ONVIF Client change PTZ position to initial state by following the procedure mentioned in <xref linkend="Annex_HelperAbsoluteMoveTestInitialPosition"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">profile</emphasis> - Media Profile with PTZ Configuration
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">pantiltSpace</emphasis> - Options for Absolute Pan/Tilt Position Default Space
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">zoomSpace</emphasis> - Options for Absolute Zoom Position Default Space
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <!--Branch Absolute Pan/Tilt Movement-->
              <listitem>
                <para>
                  If the DUT supports Absolute Pan/Tilt Movement for PTZ Node selected on Management tab:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <!--AbsoluteMove-->
                    <listitem xml:id="tc.MEDIA2_PTZ-1-1-1.10.1">
                      <para>
                        ONVIF Client invokes <emphasis role="bold">AbsoluteMove</emphasis> request with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              Position.PanTilt.x := <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.Range.XRange.Max if it is specified, otherwise, <emphasis role="italic">pantiltSpace</emphasis>.XRange.Max
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              Position.PanTilt.y := <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.Range.YRange.Max if it is specified, otherwise, <emphasis role="italic">pantiltSpace</emphasis>.YRange.Max
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              Position.PanTilt.space := <emphasis role="italic">pantiltSpace</emphasis>.URI
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              Position.Zoom skipped
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              If the DUT supports Speed for Pan/Tilt for PTZ Node selected on Management tab:
                              <itemizedlist>
                                <listitem>
                                  <para>
                                    Speed.PanTilt.x := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.PanTiltSpeedSpace[0].XRange.Max
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    Speed.PanTilt.y := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.PanTiltSpeedSpace[0].XRange.Max
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    Speed.PanTilt.space := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.PanTiltSpeedSpace[0].URI
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    Speed.Zoom skipped
                                  </para>
                                </listitem>
                              </itemizedlist>
                            </para>
                            <para>
                              otherwise, Speed skipped.
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <!--AbsoluteMoveResponse-->
                    <listitem>
                      <para>
                        The DUT responds with <emphasis role="bold">AbsoluteMoveResponse</emphasis> message.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Wait until <emphasis role="italic">timeout1</emphasis> timeout expires.
                      </para>
                    </listitem>
                    <!--Branch Move Status-->
                    <listitem>
                      <para>
                        If the DUT supports Move Status:
                        <orderedlist numeration="arabic" inheritnum="inherit">
                          <?dbfo label-width="3.5em"?>
                          <listitem  xml:id="tc.MEDIA2_PTZ-1-1-1.10.4.1">
                            <para>
                              Until <emphasis role="italic">timeout1</emphasis> expires repeat the following steps:
                              <orderedlist numeration="arabic" inheritnum="inherit">
                                <?dbfo label-width="4.5em"?>
                                <listitem>
                                  <para>
                                    ONVIF Client invokes <emphasis role="bold">GetStatus</emphasis> request with parameters
                                    <itemizedlist>
                                      <listitem>
                                        <para>
                                          ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                                        </para>
                                      </listitem>
                                    </itemizedlist>
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    The DUT responds with <emphasis role="bold">GetStatusResponse</emphasis> with parameters
                                    <itemizedlist>
                                      <listitem>
                                        <para>
                                          PTZStatus =: <emphasis role="italic">ptzStatus</emphasis>
                                        </para>
                                      </listitem>
                                    </itemizedlist>
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    If the DUT supports Absolute Zoom Movement for PTZ Node selected on Management tab:
                                    <orderedlist numeration="arabic" inheritnum="inherit">
                                      <?dbfo label-width="5.5em"?>
                                      <listitem>
                                        <para>
                                          If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom is not specified, FAIL the test and skip other steps.
                                        </para>
                                      </listitem>
                                      <listitem>
                                        <para>
                                          If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom is other than IDLE, FAIL the test and skip other steps.
                                        </para>
                                      </listitem>
                                    </orderedlist>
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt is not specified, FAIL the test and skip other steps.
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt = UNKNOWN, FAIL the test and skip other steps.
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt = IDLE, go to the step <link linkend="tc.MEDIA2_PTZ-1-1-1.12">11</link>.
                                  </para>
                                </listitem>
                              </orderedlist>
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              If <emphasis role="italic">timeout1</emphasis> expires for step <link linkend="tc.MEDIA2_PTZ-1-1-1.10.4.1">10.4.1</link> and the last <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt is other than IDLE, FAIL the test and skip other steps.
                            </para>
                          </listitem>
                        </orderedlist>
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <!--Branch Absolute Zoom Movement-->
              <listitem xml:id="tc.MEDIA2_PTZ-1-1-1.11">
                <para>
                  If the DUT supports Absolute Zoom Movement for PTZ Node selected on Management tab:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <!--AbsoluteMove-->
                    <listitem xml:id="tc.MEDIA2_PTZ-1-1-1.11.1">
                      <para>
                        ONVIF Client invokes <emphasis role="bold">AbsoluteMove</emphasis> request with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              Position.PanTilt skipped
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              Position.Zoom.x := <emphasis role="italic">profile</emphasis>.Configurations.PTZ.ZoomLimits.Range.XRange.Max if it is specified, otherwise, <emphasis role="italic">zoomSpace</emphasis>.XRange.Max
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              Position.Zoom.space := <emphasis role="italic">zoomSpace</emphasis>.URI
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              If the DUT supports Speed for Zoom for PTZ Node selected on Management tab:
                              <itemizedlist>
                                <listitem>
                                  <para>
                                    Speed.PanTilt skipped
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    Speed.Zoom.x := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ZoomSpeedSpace[0].XRange.Max
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    Speed.Zoom.space := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ZoomSpeedSpace[0].URI
                                  </para>
                                </listitem>

                              </itemizedlist>
                            </para>
                            <para>
                              otherwise, Speed skipped.
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <!--AbsoluteMoveResponse-->
                    <listitem>
                      <para>
                        The DUT responds with <emphasis role="bold">AbsoluteMoveResponse</emphasis> message.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Wait until <emphasis role="italic">timeout1</emphasis> timeout expires.
                      </para>
                    </listitem>
                    <!--Branch Move Status-->
                    <listitem>
                      <para>
                        If the DUT supports Move Status:
                        <orderedlist numeration="arabic" inheritnum="inherit">
                          <?dbfo label-width="3.5em"?>
                          <listitem  xml:id="tc.MEDIA2_PTZ-1-1-1.11.4.1">
                            <para>
                              Until <emphasis role="italic">timeout1</emphasis> expires repeat the following steps:
                              <orderedlist numeration="arabic" inheritnum="inherit">
                                <?dbfo label-width="4.5em"?>
                                <listitem>
                                  <para>
                                    ONVIF Client invokes <emphasis role="bold">GetStatus</emphasis> request with parameters
                                    <itemizedlist>
                                      <listitem>
                                        <para>
                                          ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                                        </para>
                                      </listitem>
                                    </itemizedlist>
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    The DUT responds with <emphasis role="bold">GetStatusResponse</emphasis> with parameters
                                    <itemizedlist>
                                      <listitem>
                                        <para>
                                          PTZStatus =: <emphasis role="italic">ptzStatus</emphasis>
                                        </para>
                                      </listitem>
                                    </itemizedlist>
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    If the DUT supports Absolute Pan/Tilt Movement for PTZ Node selected on Management tab:
                                    <orderedlist numeration="arabic" inheritnum="inherit">
                                      <?dbfo label-width="5.5em"?>
                                      <listitem>
                                        <para>
                                          If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt is not specified, FAIL the test and skip other steps.
                                        </para>
                                      </listitem>
                                      <listitem>
                                        <para>
                                          If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt is other than IDLE, FAIL the test and skip other steps.
                                        </para>
                                      </listitem>
                                    </orderedlist>
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom is not specified, FAIL the test and skip other steps.
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom = UNKNOWN, FAIL the test and skip other steps.
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom = IDLE, got to the step <link linkend="tc.MEDIA2_PTZ-1-1-1.12">12</link>.
                                  </para>
                                </listitem>
                              </orderedlist>
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              If <emphasis role="italic">timeout1</emphasis> expires for step <link linkend="tc.MEDIA2_PTZ-1-1-1.11.4.1">11.4.1</link> and the last <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom is other than IDLE, FAIL the test and skip other steps.
                            </para>
                          </listitem>
                        </orderedlist>
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem xml:id="tc.MEDIA2_PTZ-1-1-1.12">
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStatus</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">GetStatusResponse</emphasis> with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        PTZStatus =: <emphasis role="italic">ptzStatus</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Status Position:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        If the DUT supports Absolute Pan/Tilt Movement for PTZ Node selected on Management tab:
                        <orderedlist numeration="arabic" inheritnum="inherit">
                          <?dbfo label-width="3.5em"?>
                          <listitem>
                            <para>
                              If <emphasis role="italic">ptzStatus</emphasis>.Position.PanTilt is not specified, FAIL the test and skip other steps.
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              If difference between Position.PanTilt.x value from step <link linkend="tc.MEDIA2_PTZ-1-1-1.10.1">10.1</link> and <emphasis role="italic">ptzStatus</emphasis>.Position.PanTilt.x is more than 10% of full range, write WARNING.
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              If difference between Position.PanTilt.y value from step <link linkend="tc.MEDIA2_PTZ-1-1-1.10.1">10.1</link> and <emphasis role="italic">ptzStatus</emphasis>.Position.PanTilt.y is more than 10% of full range, write WARNING.
                            </para>
                          </listitem>
                        </orderedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If the DUT supports Absolute Zoom Movement for PTZ Node selected on Management tab:
                        <orderedlist numeration="arabic" inheritnum="inherit">
                          <?dbfo label-width="3.5em"?>
                          <listitem>
                            <para>
                              If <emphasis role="italic">ptzStatus</emphasis>.Position.Zoom is not specified, FAIL the test and skip other steps.
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              If difference between Position.Zoom.x value from step <link linkend="tc.MEDIA2_PTZ-1-1-1.11.1">11.1</link> and <emphasis role="italic">ptzStatus</emphasis>.Position.Zoom.x is more than 10% of full range, write WARNING.
                            </para>
                          </listitem>
                        </orderedlist>
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If PTZ Configuration <emphasis role="italic">profile</emphasis>.Configurations.PTZ was changed at step <link linkend="tc.MEDIA2_PTZ-1-1-1.8">8</link>, ONVIF Client restores PTZ Configuration.
                </para>
              </listitem>
              <listitem>
                <para>
                  If Media Profile <emphasis role="italic">profile</emphasis> was changed at step <link linkend="tc.MEDIA2_PTZ-1-1-1.3">3</link>, ONVIF Client restores Media Profile.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetConfigurationOptionsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetStatusResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">AbsoluteMoveResponse</emphasis> message.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> <emphasis role="italic">timeout1</emphasis> will be taken from Operation Delay field of ONVIF Device Test Tool.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> PTZ accuracy is out of scope for this Test Specification. Therefore, the position reported by the DUT in the <emphasis role="bold">GetStatusResponse</emphasis> does not have to be exactly the same as the position requested by the ONVIF Client in the <emphasis role="bold">AbsoluteMove</emphasis> request.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> The DUT features support are defined by the procedure mentioned in [ONVIF Feature Discovery].
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> <emphasis role="italic">ptzNodeToken1</emphasis> will be taken from PTZ Node for test field of ONVIF Device Test Tool, if it is not defined the first PTZ Node at the list provided in the <emphasis role="bold">GetNodesResponse</emphasis> will be used.
          </para>
        </section>
        <!--MEDIA2_PTZ-1-1-2-->
        <section xml:id="tc.MEDIA2_PTZ-1-1-2">
          <title>PTZ CONTINUOUS MOVE USING MEDIA2 PROFILE</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> MEDIA2_PTZ-1-1-2
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> ContinuousMove, GetStatus
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify continuous Pan/Tilt or continuous Zoom movements using the DUT PTZ ContinuousMove operation with timeout parameter.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media2 Service is received from the DUT. PTZ Service is received from the DUT. Continuous movement is supported by the DUT for PTZ Node selected on Management tab or by 1st PTZ Node (if PTZ node is not selected on Management tab) .
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem xml:id="tc.MEDIA2_PTZ-1-1-2.1">
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem xml:id="tc.MEDIA2_PTZ-1-1-2.2">
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem  xml:id="tc.MEDIA2_PTZ-1-1-2.3">
                <para>
                  ONVIF Client configures or selects a Media Profile with Video Source Configuration and PTZ Configuration by following the procedure mentioned in <xref linkend="Annex_HelperMediaProfileConfiguration"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">ptzNodeToken1</emphasis> - token of the PTZ Node, with which Media Profile should be configured
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">profile</emphasis> - Media Profile with Video Source Configuration and PTZ Configuration
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetConfigurationOptions</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ConfigurationToken := <emphasis role="italic">profile</emphasis>Configurations.PTZ.@token
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">GetConfigurationOptionsResponse</emphasis> with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        PTZConfigurationOptions =: <emphasis role="italic">ptzConfigurationOptions</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies PTZ Configuration Options by following the procedure mentioned in <xref linkend="Annex_HelperVerifyPTZConfOptions"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">ptzConfigurationOptions</emphasis> - PTZ Configuration Options
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces does not have at least one of the ContinuousPanTiltVelocitySpace element or ContinuousZoomVelocitySpace element, FAIL the test and skip other steps.
                </para>
              </listitem>
              <listitem>
                <para>
                  Set <emphasis role="italic">moveTimeout</emphasis> := MIN( MAX(PT30S, <emphasis role="italic">ptzConfigurationOptions</emphasis>.PTZTimeout.Min), <emphasis role="italic">ptzConfigurationOptions</emphasis>.PTZTimeout.Max)
                </para>
              </listitem>
              <!--Annex_HelperContinuousMoveTestInitialPosition-->
              <listitem xml:id="tc.MEDIA2_PTZ-1-1-2.9">
                <para>
                  ONVIF Client change PTZ position to initial state by following the procedure mentioned in <xref linkend="Annex_HelperContinuousMoveTestInitialPosition"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">profile</emphasis> - Media Profile with PTZ Configuration
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">ptzConfigurationOptions</emphasis> - PTZ Configuration Options
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Continuous Pan/Tilt Movement for PTZ Node selected on Management tab:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        ONVIF Client invokes <emphasis role="bold">ContinuousMove</emphasis> request with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              Velocity.PanTilt.x := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ContinuousPanTiltVelocitySpace[0].XRange.Max
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              Velocity.PanTilt.y := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ContinuousPanTiltVelocitySpace[0].YRange.Max
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              Velocity.PanTilt.space := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ContinuousPanTiltVelocitySpace[0].URI
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              Velocity.Zoom skipped
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              Timeout := <emphasis role="italic">moveTimeout</emphasis>
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        The DUT responds with <emphasis role="bold">ContinuousMoveResponse</emphasis> message.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Wait until <emphasis role="italic">moveTimeout</emphasis> + <emphasis role="italic">timeout1</emphasis> timeout expires.
                      </para>
                    </listitem>
                    <!--Branch Move Status-->
                    <listitem>
                      <para>
                        If the DUT supports Move Status:
                        <orderedlist numeration="arabic" inheritnum="inherit">
                          <?dbfo label-width="3.5em"?>
                          <listitem xml:id="tc.MEDIA2_PTZ-1-1-2.10.4.1">
                            <para>
                              Until <emphasis role="italic">moveTimeout</emphasis> + <emphasis role="italic">timeout1</emphasis> timeout expires repeat the following steps:
                              <orderedlist numeration="arabic" inheritnum="inherit">
                                <?dbfo label-width="4.5em"?>
                                <listitem>
                                  <para>
                                    ONVIF Client invokes <emphasis role="bold">GetStatus</emphasis> request with parameters
                                    <itemizedlist>
                                      <listitem>
                                        <para>
                                          ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                                        </para>
                                      </listitem>
                                    </itemizedlist>
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    The DUT responds with <emphasis role="bold">GetStatusResponse</emphasis> with parameters
                                    <itemizedlist>
                                      <listitem>
                                        <para>
                                          PTZStatus =: <emphasis role="italic">ptzStatus</emphasis>
                                        </para>
                                      </listitem>
                                    </itemizedlist>
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    If the DUT supports Continuous Zoom Movement for PTZ Node selected on Management tab:
                                    <orderedlist numeration="arabic" inheritnum="inherit">
                                      <?dbfo label-width="5.5em"?>
                                      <listitem>
                                        <para>
                                          If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom is not specified, FAIL the test and skip other steps.
                                        </para>
                                      </listitem>
                                      <listitem>
                                        <para>
                                          If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom is other than IDLE, FAIL the test and skip other steps.
                                        </para>
                                      </listitem>
                                    </orderedlist>
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt is not specified, FAIL the test and skip other steps.
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt = UNKNOWN, FAIL the test and skip other steps.
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt = IDLE, got to the step <link linkend="tc.MEDIA2_PTZ-1-1-2.11">11</link>.
                                  </para>
                                </listitem>
                              </orderedlist>
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              If <emphasis role="italic">moveTimeout</emphasis> + <emphasis role="italic">timeout1</emphasis> timeout expires for step <link linkend="tc.MEDIA2_PTZ-1-1-2.10.4.1">10.4.1</link> and the last <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt is other than IDLE, FAIL the test and skip other steps.
                            </para>
                          </listitem>
                        </orderedlist>
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem xml:id="tc.MEDIA2_PTZ-1-1-2.11">
                <para>
                  If the DUT supports Continuous Zoom Movement for PTZ Node selected on Management tab:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        ONVIF Client invokes <emphasis role="bold">ContinuousMove</emphasis> request with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              Velocity.PanTilt skipped
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              Velocity.Zoom.x := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ContinuousZoomVelocitySpace[0].XRange.Max
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              Velocity.Zoom.space := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ContinuousZoomVelocitySpace[0].URI
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              Timeout := <emphasis role="italic">moveTimeout</emphasis>
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        The DUT responds with <emphasis role="bold">ContinuousMoveResponse</emphasis> message.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Wait until <emphasis role="italic">moveTimeout</emphasis> + <emphasis role="italic">timeout1</emphasis> timeout expires.
                      </para>
                    </listitem>
                    <!--Branch Move Status-->
                    <listitem>
                      <para>
                        If the DUT supports Move Status:
                        <orderedlist numeration="arabic" inheritnum="inherit">
                          <?dbfo label-width="3.5em"?>
                          <listitem xml:id="tc.MEDIA2_PTZ-1-1-2.11.4.1">
                            <para>
                              Until <emphasis role="italic">moveTimeout</emphasis> + <emphasis role="italic">timeout1</emphasis> timeout expires repeat the following steps:
                              <orderedlist numeration="arabic" inheritnum="inherit">
                                <?dbfo label-width="4.5em"?>
                                <listitem>
                                  <para>
                                    ONVIF Client invokes <emphasis role="bold">GetStatus</emphasis> request with parameters
                                    <itemizedlist>
                                      <listitem>
                                        <para>
                                          ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                                        </para>
                                      </listitem>
                                    </itemizedlist>
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    The DUT responds with <emphasis role="bold">GetStatusResponse</emphasis> with parameters
                                    <itemizedlist>
                                      <listitem>
                                        <para>
                                          PTZStatus =: <emphasis role="italic">ptzStatus</emphasis>
                                        </para>
                                      </listitem>
                                    </itemizedlist>
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    If the DUT supports Continuous Pan/Tilt Movement for PTZ Node selected on Management tab:
                                    <orderedlist numeration="arabic" inheritnum="inherit">
                                      <?dbfo label-width="5.5em"?>
                                      <listitem>
                                        <para>
                                          If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt is not specified, FAIL the test and skip other steps.
                                        </para>
                                      </listitem>
                                      <listitem>
                                        <para>
                                          If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt is other than IDLE, FAIL the test and skip other steps.
                                        </para>
                                      </listitem>
                                    </orderedlist>
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom is not specified, FAIL the test and skip other steps.
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom = UNKNOWN, FAIL the test and skip other steps.
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom = IDLE, got to the step <link linkend="tc.MEDIA2_PTZ-1-1-2.12">12</link>.
                                  </para>
                                </listitem>
                              </orderedlist>
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              If <emphasis role="italic">moveTimeout</emphasis> + <emphasis role="italic">timeout1</emphasis> timeout expires for step <link linkend="tc.MEDIA2_PTZ-1-1-2.11.4.1">11.4.1</link> and the last <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom is other than IDLE, FAIL the test and skip other steps.
                            </para>
                          </listitem>
                        </orderedlist>
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem xml:id="tc.MEDIA2_PTZ-1-1-2.12">
                <para>
                  If Media Profile <emphasis role="italic">profile</emphasis> was changed at step <link linkend="tc.MEDIA2_PTZ-1-1-2.3">3</link>, ONVIF Client restores Media Profile.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetConfigurationOptionsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetStatusResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">ContinuousMoveResponse</emphasis> message.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> <emphasis role="italic">timeout1</emphasis> will be taken from Operation Delay field of ONVIF Device Test Tool.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> The DUT features support are defined by the procedure mentioned in [ONVIF Feature Discovery].
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> <emphasis role="italic">ptzNodeToken1</emphasis> will be taken from PTZ Node for test field of ONVIF Device Test Tool, if it is not defined the first PTZ Node at the list provided in the <emphasis role="bold">GetNodesResponse</emphasis> will be used.
          </para>
        </section>
        <!--MEDIA2_PTZ-1-1-3-->
        <section xml:id="tc.MEDIA2_PTZ-1-1-3">
          <title>PTZ CONTINUOUS MOVE &#38; STOP USING MEDIA2 PROFILE</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> MEDIA2_PTZ-1-1-3
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> ContinuousMove, Stop, GetStatus
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify continuous Pan/Tilt or continuous Zoom movements using the DUT PTZ ContinuousMove operation without timeout parameter and to stop all ongoing pan, tilt and zoom movements.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media2 Service is received from the DUT. PTZ Service is received from the DUT. Continuous movement is supported by the DUT for PTZ Node selected on Management tab or by 1st PTZ Node (if PTZ node is not selected on Management tab) .
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.MEDIA2_PTZ-1-1-3.3">
                <para>
                  ONVIF Client configures or selects a Media Profile with Video Source Configuration and PTZ Configuration by following the procedure mentioned in <xref linkend="Annex_HelperMediaProfileConfiguration"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">ptzNodeToken1</emphasis> - token of the PTZ Node, with which Media Profile should be configured
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">profile</emphasis> - Media Profile with Video Source Configuration and PTZ Configuration
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetConfigurationOptions</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ConfigurationToken := <emphasis role="italic">profile</emphasis>Configurations.PTZ.@token
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">GetConfigurationOptionsResponse</emphasis> with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        PTZConfigurationOptions =: <emphasis role="italic">ptzConfigurationOptions</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies PTZ Configuration Options by following the procedure mentioned in <xref linkend="Annex_HelperVerifyPTZConfOptions"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">ptzConfigurationOptions</emphasis> - PTZ Configuration Options
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces does not have at least one of the ContinuousPanTiltVelocitySpace element or ContinuousZoomVelocitySpace element, FAIL the test and skip other steps.
                </para>
              </listitem>
              <!--Annex_HelperContinuousMoveTestInitialPosition-->
              <listitem>
                <para>
                  ONVIF Client change PTZ position to initial state by following the procedure mentioned in <xref linkend="Annex_HelperContinuousMoveTestInitialPosition"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">profile</emphasis> - Media Profile with PTZ Configuration
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">ptzConfigurationOptions</emphasis> - PTZ Configuration Options
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Continuous Pan/Tilt Movement for PTZ Node selected on Management tab:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        ONVIF Client invokes <emphasis role="bold">ContinuousMove</emphasis> request with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              Velocity.PanTilt.x := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ContinuousPanTiltVelocitySpace[0].XRange.Max
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              Velocity.PanTilt.y := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ContinuousPanTiltVelocitySpace[0].YRange.Max
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              Velocity.PanTilt.space := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ContinuousPanTiltVelocitySpace[0].URI
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              Velocity.Zoom skipped
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              Timeout skipped
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        The DUT responds with <emphasis role="bold">ContinuousMoveResponse</emphasis> message.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Wait until <emphasis role="italic">timeout1</emphasis> timeout expires.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        ONVIF Client invokes <emphasis role="bold">Stop</emphasis> request with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              PanTilt skipped
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              Zoom skipped
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        The DUT responds with <emphasis role="bold">StopResponse</emphasis> message.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Wait until <emphasis role="italic">timeout1</emphasis> timeout expires.
                      </para>
                    </listitem>
                    <!--Branch Move Status-->
                    <listitem>
                      <para>
                        If the DUT supports Move Status:
                        <orderedlist numeration="arabic" inheritnum="inherit">
                          <?dbfo label-width="3.5em"?>
                          <listitem xml:id="tc.MEDIA2_PTZ-1-1-3.9.7.1">
                            <para>
                              Until <emphasis role="italic">timeout1</emphasis> timeout expires repeat the following steps:
                              <orderedlist numeration="arabic" inheritnum="inherit">
                                <?dbfo label-width="4.5em"?>
                                <listitem>
                                  <para>
                                    ONVIF Client invokes <emphasis role="bold">GetStatus</emphasis> request with parameters
                                    <itemizedlist>
                                      <listitem>
                                        <para>
                                          ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                                        </para>
                                      </listitem>
                                    </itemizedlist>
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    The DUT responds with <emphasis role="bold">GetStatusResponse</emphasis> with parameters
                                    <itemizedlist>
                                      <listitem>
                                        <para>
                                          PTZStatus =: <emphasis role="italic">ptzStatus</emphasis>
                                        </para>
                                      </listitem>
                                    </itemizedlist>
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    If the DUT supports Continuous Zoom Movement for PTZ Node selected on Management tab:
                                    <orderedlist numeration="arabic" inheritnum="inherit">
                                      <?dbfo label-width="5.5em"?>
                                      <listitem>
                                        <para>
                                          If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom is not specified, FAIL the test and skip other steps.
                                        </para>
                                      </listitem>
                                      <listitem>
                                        <para>
                                          If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom is other than IDLE, FAIL the test and skip other steps.
                                        </para>
                                      </listitem>
                                    </orderedlist>
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt is not specified, FAIL the test and skip other steps.
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt = UNKNOWN, FAIL the test and skip other steps.
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt = IDLE, got to the step <link linkend="tc.MEDIA2_PTZ-1-1-3.10">10</link>.
                                  </para>
                                </listitem>
                              </orderedlist>
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              If <emphasis role="italic">timeout1</emphasis> timeout expires for step <link linkend="tc.MEDIA2_PTZ-1-1-3.9.7.1">9.7.1</link> and the last <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt is other than IDLE, FAIL the test and skip other steps.
                            </para>
                          </listitem>
                        </orderedlist>
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem xml:id="tc.MEDIA2_PTZ-1-1-3.10">
                <para>
                  If the DUT supports Continuous Zoom Movement for PTZ Node selected on Management tab:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        ONVIF Client invokes <emphasis role="bold">ContinuousMove</emphasis> request with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              Velocity.PanTilt skipped
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              Velocity.Zoom.x := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ContinuousZoomVelocitySpace[0].XRange.Max
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              Velocity.Zoom.space := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ContinuousZoomVelocitySpace[0].URI
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              Timeout skipped
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        The DUT responds with <emphasis role="bold">ContinuousMoveResponse</emphasis> message.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Wait until <emphasis role="italic">timeout1</emphasis> timeout expires.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        ONVIF Client invokes <emphasis role="bold">Stop</emphasis> request with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              PanTilt skipped
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              Zoom skipped
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        The DUT responds with <emphasis role="bold">StopResponse</emphasis> message.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Wait until <emphasis role="italic">timeout1</emphasis> timeout expires.
                      </para>
                    </listitem>
                    <!--Branch Move Status-->
                    <listitem>
                      <para>
                        If the DUT supports Move Status:
                        <orderedlist numeration="arabic" inheritnum="inherit">
                          <?dbfo label-width="3.5em"?>
                          <listitem xml:id="tc.MEDIA2_PTZ-1-1-3.10.7.1">
                            <para>
                              Until <emphasis role="italic">timeout1</emphasis> timeout expires repeat the following steps:
                              <orderedlist numeration="arabic" inheritnum="inherit">
                                <?dbfo label-width="4.5em"?>
                                <listitem>
                                  <para>
                                    ONVIF Client invokes <emphasis role="bold">GetStatus</emphasis> request with parameters
                                    <itemizedlist>
                                      <listitem>
                                        <para>
                                          ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                                        </para>
                                      </listitem>
                                    </itemizedlist>
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    The DUT responds with <emphasis role="bold">GetStatusResponse</emphasis> with parameters
                                    <itemizedlist>
                                      <listitem>
                                        <para>
                                          PTZStatus =: <emphasis role="italic">ptzStatus</emphasis>
                                        </para>
                                      </listitem>
                                    </itemizedlist>
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    If the DUT supports Continuous Pan/Tilt Movement for PTZ Node selected on Management tab:
                                    <orderedlist numeration="arabic" inheritnum="inherit">
                                      <?dbfo label-width="5.5em"?>
                                      <listitem>
                                        <para>
                                          If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt is not specified, FAIL the test and skip other steps.
                                        </para>
                                      </listitem>
                                      <listitem>
                                        <para>
                                          If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt is other than IDLE, FAIL the test and skip other steps.
                                        </para>
                                      </listitem>
                                    </orderedlist>
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom is not specified, FAIL the test and skip other steps.
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom = UNKNOWN, FAIL the test and skip other steps.
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom = IDLE, got to the step <link linkend="tc.MEDIA2_PTZ-1-1-3.11">11</link>.
                                  </para>
                                </listitem>
                              </orderedlist>
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              If <emphasis role="italic">timeout1</emphasis> timeout expires for step <link linkend="tc.MEDIA2_PTZ-1-1-3.10.7.1">10.7.1</link> and the last <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom is other than IDLE, FAIL the test and skip other steps.
                            </para>
                          </listitem>
                        </orderedlist>
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem xml:id="tc.MEDIA2_PTZ-1-1-3.11">
                <para>
                  If Media Profile <emphasis role="italic">profile</emphasis> was changed at step <link linkend="tc.MEDIA2_PTZ-1-1-3.3">3</link>, ONVIF Client restores Media Profile.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetConfigurationOptionsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetStatusResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">ContinuousMoveResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">StopResponse</emphasis> message.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> <emphasis role="italic">timeout1</emphasis> will be taken from Operation Delay field of ONVIF Device Test Tool.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> <emphasis role="italic">ptzNodeToken1</emphasis> will be taken from PTZ Node for test field of ONVIF Device Test Tool, if it is not defined the first PTZ Node at the list provided in the <emphasis role="bold">GetNodesResponse</emphasis> will be used.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> The DUT features support are defined by the procedure mentioned in [ONVIF Feature Discovery].
          </para>
        </section>
      </section>
      <!--Preset Operations-->
      <section xml:id="tc.ptz_control_media2.preset_operations">
        <title>Preset Operations</title>
        <!--MEDIA2_PTZ-2-1-1-->
        <section xml:id="tc.MEDIA2_PTZ-2-1-1">
          <title>PTZ SET AND GET PRESET USING MEDIA2 PROFILE</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> MEDIA2_PTZ-2-1-1
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> SetPreset, GetPresets
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify that the DUT supports the setting of presets using the SetPreset operation and the retrieval of presets using the GetPresets operation.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media2 Service is received from the DUT. PTZ Service is received from the DUT. Absolute movement is supported by the DUT for PTZ Node selected on Management tab or by 1st PTZ Node (if PTZ node is not selected on Management tab) . Presets are supported by the DUT for PTZ Node selected on Management tab.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT does not supports Absolute Movement for PTZ Node selected on Management tab, FAIL the test and skip other steps.
                </para>
              </listitem>
              <listitem xml:id="tc.MEDIA2_PTZ-2-1-1.4">
                <para>
                  ONVIF Client configures or selects a Media Profile with Video Source Configuration and PTZ Configuration by following the procedure mentioned in <xref linkend="Annex_HelperMediaProfileConfiguration"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">ptzNodeToken1</emphasis> - token of the PTZ Node, with which Media Profile should be configured
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">profile</emphasis> - Media Profile with Video Source Configuration and PTZ Configuration
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetConfigurationOptions</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ConfigurationToken := <emphasis role="italic">profile</emphasis>Configurations.PTZ.@token
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">GetConfigurationOptionsResponse</emphasis> with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        PTZConfigurationOptions =: <emphasis role="italic">ptzConfigurationOptions</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies PTZ Configuration Options by following the procedure mentioned in <xref linkend="Annex_HelperVerifyPTZConfOptions"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">ptzConfigurationOptions</emphasis> - PTZ Configuration Options
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Absolute Pan/Tilt Movement for PTZ Node selected on Management tab:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        Set <emphasis role="italic">pantiltSpace</emphasis> := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.AbsolutePanTiltPositionSpace[<emphasis role="italic">genericPanTiltSpace</emphasis>], where <emphasis role="italic">genericPanTiltSpace</emphasis> is the index number of the first item on the <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.AbsolutePanTiltPositionSpace list that has URI = "http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace"
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Absolute Zoom Movement for PTZ Node selected on Management tab:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        Set <emphasis role="italic">zoomSpace</emphasis> := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.AbsoluteZoomPositionSpace[<emphasis role="italic">genericZoomSpace</emphasis>], where <emphasis role="italic">genericZoomSpace</emphasis> is the index number of the first item on the <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.AbsoluteZoomPositionSpace list that has URI = "http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace"
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem xml:id="tc.MEDIA2_PTZ-2-1-1.10">
                <para>
                  ONVIF Client adjusts Pan/Tilt and Zoom limits if requiered by following the procedure mentioned in <xref linkend="Annex_HelperAdjustLimits"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">pantiltSpace</emphasis> - Pan/Tilt Space
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">zoomSpace</emphasis> - Zoom Space
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">profile</emphasis>.Configurations.PTZ - PTZ Configuration
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">profile</emphasis>.Configurations.PTZ - PTZ Configuration with adjusted Pan/Tilt and Zoom limits
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Absolute Pan/Tilt Movement for PTZ Node selected on Management tab:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        If <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits is specified:
                        <itemizedlist>
                          <listitem>
                            <para>
                              set <emphasis role="italic">x1</emphasis> :=  <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.XRange.Min + (<emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.XRange.Max - <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.XRange.Min)/3
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              set <emphasis role="italic">y1</emphasis> :=  <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.YRange.Min + (<emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.YRange.Max - <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.YRange.Min)/3
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                      <para>
                        otherwise:
                        <itemizedlist>
                          <listitem>
                            <para>
                              set <emphasis role="italic">x1</emphasis> :=  <emphasis role="italic">pantiltSpace</emphasis>.XRange.Min + (<emphasis role="italic">pantiltSpace</emphasis>.XRange.Max - <emphasis role="italic">pantiltSpace</emphasis>.XRange.Min)/3
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              set <emphasis role="italic">y1</emphasis> :=  <emphasis role="italic">pantiltSpace</emphasis>.YRange.Min + (<emphasis role="italic">pantiltSpace</emphasis>.YRange.Max - <emphasis role="italic">pantiltSpace</emphasis>.YRange.Min)/3
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Absolute Zoom Movement for PTZ Node selected on Management tab:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        If <emphasis role="italic">profile</emphasis>.Configurations.PTZ.ZoomLimits is specified:
                        <itemizedlist>
                          <listitem>
                            <para>
                              set <emphasis role="italic">z1</emphasis> :=  <emphasis role="italic">profile</emphasis>.Configurations.PTZ.ZoomLimits.XRange.Min
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                      <para>
                        otherwise:
                        <itemizedlist>
                          <listitem>
                            <para>
                              set <emphasis role="italic">z1</emphasis> :=  <emphasis role="italic">zoomSpace</emphasis>.XRange.Min
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AbsoluteMove</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.PanTilt.x := <emphasis role="italic">x1</emphasis>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.PanTilt.y := <emphasis role="italic">y1</emphasis>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.PanTilt.space := <emphasis role="italic">pantiltSpace</emphasis>.URI
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.Zoom.x := <emphasis role="italic">z1</emphasis>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.Zoom.space := <emphasis role="italic">zoomSpace</emphasis>.URI
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Speed skipped
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">AbsoluteMoveResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  Wait until <emphasis role="italic">timeout1</emphasis> timeout expires.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetPreset</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        PresetName := "Test"
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        PresetToken skipped
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">SetPresetResponse</emphasis> with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        PresetToken =: <emphasis role="italic">presetToken1</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetPresets</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">GetPresetsResponse</emphasis> with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        Preset list =: <emphasis role="italic">presetList1</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If <emphasis role="italic">presetList1</emphasis> does not contain item with @token = <emphasis role="italic">presetToken1</emphasis>, FAIL the test and skip other steps.
                </para>
              </listitem>
              <listitem>
                <para>
                  Set <emphasis role="italic">preset</emphasis> := item from <emphasis role="italic">presetList1</emphasis> with @token = <emphasis role="italic">presetToken1</emphasis>.
                </para>
              </listitem>
              <listitem>
                <para>
                  If <emphasis role="italic">preset</emphasis>.Name != "Test", FAIL the test and skip other steps.
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Absolute Pan/Tilt Movement for PTZ Node selected on Management tab:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        If <emphasis role="italic">preset</emphasis> does not contains PTZPosition.PanTilt, FAIL the test and skip other steps.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If difference between <emphasis role="italic">preset</emphasis>.PTZPosition.PanTilt.x and <emphasis role="italic">x1</emphasis> is more than 10% of full range, write WARNING.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If difference between <emphasis role="italic">preset</emphasis>.PTZPosition.PanTilt.y and <emphasis role="italic">y1</emphasis> is more than 10% of full range, write WARNING.
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Absolute Zoom Movement for PTZ Node selected on Management tab:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        If <emphasis role="italic">preset</emphasis> does not contains PTZPosition.Zoom, FAIL the test and skip other steps.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If difference between <emphasis role="italic">preset</emphasis>.PTZPosition.Zoom.x and <emphasis role="italic">z1</emphasis> is more than 10% of full range, write WARNING.
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Absolute Pan/Tilt Movement for PTZ Node selected on Management tab:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        If <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits is specified:
                        <itemizedlist>
                          <listitem>
                            <para>
                              set <emphasis role="italic">x2</emphasis> :=  <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.XRange.Max - (<emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.XRange.Max - <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.XRange.Min)/3
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              set <emphasis role="italic">y2</emphasis> :=  <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.YRange.Max - (<emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.YRange.Max - <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.YRange.Min)/3
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                      <para>
                        otherwise:
                        <itemizedlist>
                          <listitem>
                            <para>
                              set <emphasis role="italic">x2</emphasis> :=  <emphasis role="italic">pantiltSpace</emphasis>.XRange.Max - (<emphasis role="italic">pantiltSpace</emphasis>.XRange.Max - <emphasis role="italic">pantiltSpace</emphasis>.XRange.Min)/3
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              set <emphasis role="italic">y2</emphasis> :=  <emphasis role="italic">pantiltSpace</emphasis>.YRange.Max - (<emphasis role="italic">pantiltSpace</emphasis>.YRange.Max - <emphasis role="italic">pantiltSpace</emphasis>.YRange.Min)/3
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Absolute Zoom Movement for PTZ Node selected on Management tab:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        If <emphasis role="italic">profile</emphasis>.Configurations.PTZ.ZoomLimits is specified:
                        <itemizedlist>
                          <listitem>
                            <para>
                              set <emphasis role="italic">z2</emphasis> :=  <emphasis role="italic">profile</emphasis>.Configurations.PTZ.ZoomLimits.XRange.Max
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                      <para>
                        otherwise:
                        <itemizedlist>
                          <listitem>
                            <para>
                              set <emphasis role="italic">z2</emphasis> :=  <emphasis role="italic">zoomSpace</emphasis>.XRange.Max
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AbsoluteMove</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.PanTilt.x := <emphasis role="italic">x2</emphasis>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.PanTilt.y := <emphasis role="italic">y2</emphasis>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.PanTilt.space := <emphasis role="italic">pantiltSpace</emphasis>.URI
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.Zoom.x := <emphasis role="italic">z2</emphasis>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.Zoom.space := <emphasis role="italic">zoomSpace</emphasis>.URI
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Speed skipped
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">AbsoluteMoveResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  Wait until <emphasis role="italic">timeout1</emphasis> timeout expires.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetPreset</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        PresetName := "Test"
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        PresetToken := <emphasis role="italic">presetToken1</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">SetPresetResponse</emphasis> with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        PresetToken =: <emphasis role="italic">presetToken2</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetPresets</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">GetPresetsResponse</emphasis> with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        Preset list =: <emphasis role="italic">presetList2</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If <emphasis role="italic">presetList2</emphasis> does not contain item with @token = <emphasis role="italic">presetToken1</emphasis>, FAIL the test and skip other steps.
                </para>
              </listitem>
              <listitem>
                <para>
                  Set <emphasis role="italic">preset</emphasis> := item from <emphasis role="italic">presetList2</emphasis> with @token = <emphasis role="italic">presetToken1</emphasis>.
                </para>
              </listitem>
              <listitem>
                <para>
                  If <emphasis role="italic">preset</emphasis>.Name != "Test", FAIL the test and skip other steps.
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Absolute Pan/Tilt Movement for PTZ Node selected on Management tab:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        If <emphasis role="italic">preset</emphasis> does not contains PTZPosition.PanTilt, FAIL the test and skip other steps.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If difference between <emphasis role="italic">preset</emphasis>.PTZPosition.PanTilt.x and <emphasis role="italic">x2</emphasis> is more than 10% of full range, write WARNING.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If difference between <emphasis role="italic">preset</emphasis>.PTZPosition.PanTilt.y and <emphasis role="italic">y2</emphasis> is more than 10% of full range, write WARNING.
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Absolute Zoom Movement for PTZ Node selected on Management tab:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        If <emphasis role="italic">preset</emphasis> does not contains PTZPosition.Zoom, FAIL the test and skip other steps.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If difference between <emphasis role="italic">preset</emphasis>.PTZPosition.Zoom.x and <emphasis role="italic">z2</emphasis> is more than 10% of full range, write WARNING.
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">RemovePreset</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        PresetToken := <emphasis role="italic">presetToken2</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">RemovePresetResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  If PTZ Configuration <emphasis role="italic">profile</emphasis>.Configurations.PTZ was changed at step <link linkend="tc.MEDIA2_PTZ-2-1-1.10">10</link>, ONVIF Client restores PTZ Configuration.
                </para>
              </listitem>
              <listitem>
                <para>
                  If Media Profile <emphasis role="italic">profile</emphasis> was changed at step <link linkend="tc.MEDIA2_PTZ-2-1-1.4">4</link>, ONVIF Client restores Media Profile.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetConfigurationOptionsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">RemovePresetResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetPresetsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">SetPresetResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">AbsoluteMoveResponse</emphasis> message.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> PTZ accuracy is out of scope for this Test Specification. Therefore, the position reported by the DUT in the <emphasis role="bold">GetPresetsResponse</emphasis> does not have to be exactly the same as the position requested by the ONVIF Client in the <emphasis role="bold">AbsoluteMove</emphasis> request.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> The DUT features support are defined by the procedure mentioned in [ONVIF Feature Discovery].
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> <emphasis role="italic">timeout1</emphasis> will be taken from Operation Delay field of ONVIF Device Test Tool.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> <emphasis role="italic">ptzNodeToken1</emphasis> will be taken from PTZ Node for test field of ONVIF Device Test Tool, if it is not defined the first PTZ Node at the list provided in the <emphasis role="bold">GetNodesResponse</emphasis> will be used.
          </para>
        </section>
        <!--MEDIA2_PTZ-2-1-2-->
        <section xml:id="tc.MEDIA2_PTZ-2-1-2">
          <title>PTZ GOTO PRESET USING MEDIA2 PROFILE</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> MEDIA2_PTZ-2-1-2
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> GotoPreset
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify that it is possible to go to presets using the GotoPreset operation.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media2 Service is received from the DUT. PTZ Service is received from the DUT. Absolute movement is supported by the DUT for PTZ Node selected on Management tab or by 1st PTZ Node (if PTZ node is not selected on Management tab) .
            Presets are supported by the DUT for PTZ Node selected on Management tab.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT does not supports Absolute Movement for PTZ Node selected on Management tab, FAIL the test and skip other steps.
                </para>
              </listitem>
              <listitem xml:id="tc.MEDIA2_PTZ-2-1-2.4">
                <para>
                  ONVIF Client configures or selects a Media Profile with Video Source Configuration and PTZ Configuration by following the procedure mentioned in <xref linkend="Annex_HelperMediaProfileConfiguration"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">ptzNodeToken1</emphasis> - token of the PTZ Node, with which Media Profile should be configured
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">profile</emphasis> - Media Profile with Video Source Configuration and PTZ Configuration
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetConfigurationOptions</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ConfigurationToken := <emphasis role="italic">profile</emphasis>Configurations.PTZ.@token
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">GetConfigurationOptionsResponse</emphasis> with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        PTZConfigurationOptions =: <emphasis role="italic">ptzConfigurationOptions</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies PTZ Configuration Options by following the procedure mentioned in <xref linkend="Annex_HelperVerifyPTZConfOptions"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">ptzConfigurationOptions</emphasis> - PTZ Configuration Options
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Absolute Pan/Tilt Movement for PTZ Node selected on Management tab:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        Set <emphasis role="italic">pantiltSpace</emphasis> := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.AbsolutePanTiltPositionSpace[<emphasis role="italic">genericPanTiltSpace</emphasis>], where <emphasis role="italic">genericPanTiltSpace</emphasis> is the index number of the first item on the <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.AbsolutePanTiltPositionSpace list that has URI = "http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace"
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Absolute Zoom Movement for PTZ Node selected on Management tab:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        Set <emphasis role="italic">zoomSpace</emphasis> := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.AbsoluteZoomPositionSpace[<emphasis role="italic">genericZoomSpace</emphasis>], where <emphasis role="italic">genericZoomSpace</emphasis> is the index number of the first item on the <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.AbsoluteZoomPositionSpace list that has URI = "http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace"
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem xml:id="tc.MEDIA2_PTZ-2-1-2.10">
                <para>
                  ONVIF Client adjusts Pan/Tilt and Zoom limits if requiered by following the procedure mentioned in <xref linkend="Annex_HelperAdjustLimits"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">pantiltSpace</emphasis> - Pan/Tilt Space
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">zoomSpace</emphasis> - Zoom Space
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">profile</emphasis>.Configurations.PTZ - PTZ Configuration
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">profile</emphasis>.Configurations.PTZ - PTZ Configuration with adjusted Pan/Tilt and Zoom limits
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Absolute Pan/Tilt Movement for PTZ Node selected on Management tab:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        If <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits is specified:
                        <itemizedlist>
                          <listitem>
                            <para>
                              set <emphasis role="italic">x1</emphasis> :=  <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.XRange.Min
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              set <emphasis role="italic">y1</emphasis> :=  <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.YRange.Min
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                      <para>
                        otherwise:
                        <itemizedlist>
                          <listitem>
                            <para>
                              set <emphasis role="italic">x1</emphasis> :=  <emphasis role="italic">pantiltSpace</emphasis>.XRange.Min
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              set <emphasis role="italic">y1</emphasis> :=  <emphasis role="italic">pantiltSpace</emphasis>.YRange.Min
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Absolute Zoom Movement for PTZ Node selected on Management tab:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        If <emphasis role="italic">profile</emphasis>.Configurations.PTZ.ZoomLimits is specified:
                        <itemizedlist>
                          <listitem>
                            <para>
                              set <emphasis role="italic">z1</emphasis> :=  <emphasis role="italic">profile</emphasis>.Configurations.PTZ.ZoomLimits.XRange.Min
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                      <para>
                        otherwise:
                        <itemizedlist>
                          <listitem>
                            <para>
                              set <emphasis role="italic">z1</emphasis> :=  <emphasis role="italic">zoomSpace</emphasis>.XRange.Min
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AbsoluteMove</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.PanTilt.x := <emphasis role="italic">x1</emphasis>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.PanTilt.y := <emphasis role="italic">y1</emphasis>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.PanTilt.space := <emphasis role="italic">pantiltSpace</emphasis>.URI
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.Zoom.x := <emphasis role="italic">z1</emphasis>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.Zoom.space := <emphasis role="italic">zoomSpace</emphasis>.URI
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Speed skipped
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">AbsoluteMoveResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  Wait until <emphasis role="italic">timeout1</emphasis> timeout expires.
                </para>
              </listitem>
              <!--Branch Move Status-->
              <listitem>
                <para>
                  If the DUT supports Move Status:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="3.5em"?>
                    <listitem  xml:id="tc.MEDIA2_PTZ-2-1-2.16.1">
                      <para>
                        Until <emphasis role="italic">timeout1</emphasis> expires repeat the following steps:
                        <orderedlist numeration="arabic" inheritnum="inherit">
                          <?dbfo label-width="4.5em"?>
                          <listitem>
                            <para>
                              ONVIF Client invokes <emphasis role="bold">GetStatus</emphasis> request with parameters
                              <itemizedlist>
                                <listitem>
                                  <para>
                                    ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                                  </para>
                                </listitem>
                              </itemizedlist>
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              The DUT responds with <emphasis role="bold">GetStatusResponse</emphasis> with parameters
                              <itemizedlist>
                                <listitem>
                                  <para>
                                    PTZStatus =: <emphasis role="italic">ptzStatus</emphasis>
                                  </para>
                                </listitem>
                              </itemizedlist>
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              If the DUT supports Absolute Pan/Tilt Movement for PTZ Node selected on Management tab:
                              <orderedlist numeration="arabic" inheritnum="inherit">
                                <?dbfo label-width="5.5em"?>
                                <listitem>
                                  <para>
                                    If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt is not specified, FAIL the test and skip other steps.
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt = UNKNOWN, FAIL the test and skip other steps.
                                  </para>
                                </listitem>
                              </orderedlist>
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              If the DUT supports Absolute Zoom Movement for PTZ Node selected on Management tab:
                              <orderedlist numeration="arabic" inheritnum="inherit">
                                <?dbfo label-width="5.5em"?>
                                <listitem>
                                  <para>
                                    If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom is not specified, FAIL the test and skip other steps.
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom = UNKNOWN, FAIL the test and skip other steps.
                                  </para>
                                </listitem>
                              </orderedlist>
                            </para>
                          </listitem>

                          <listitem>
                            <para>
                              If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt = IDLE or skipped and <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom = IDLE or skipped, go to the step <link linkend="tc.MEDIA2_PTZ-2-1-2.17">17</link>.
                            </para>
                          </listitem>




                        </orderedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If <emphasis role="italic">timeout1</emphasis> expires for step <link linkend="tc.MEDIA2_PTZ-2-1-2.16.1">16.1</link> and the last <emphasis role="italic">ptzStatus</emphasis>.MoveStatus has PanTilt element and its value is other than IDLE and it has MoveStatus.Zoom element and its value is other than IDLE, FAIL the test and skip other steps.
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem xml:id="tc.MEDIA2_PTZ-2-1-2.17">
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetPreset</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        PresetName := "Test"
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        PresetToken skipped
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">SetPresetResponse</emphasis> with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        PresetToken =: <emphasis role="italic">presetToken1</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Absolute Pan/Tilt Movement for PTZ Node selected on Management tab:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        If <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits is specified:
                        <itemizedlist>
                          <listitem>
                            <para>
                              set <emphasis role="italic">x2</emphasis> :=  <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.XRange.Max
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              set <emphasis role="italic">y2</emphasis> :=  <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.YRange.Max
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                      <para>
                        otherwise:
                        <itemizedlist>
                          <listitem>
                            <para>
                              set <emphasis role="italic">x2</emphasis> :=  <emphasis role="italic">pantiltSpace</emphasis>.XRange.Max
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              set <emphasis role="italic">y2</emphasis> :=  <emphasis role="italic">pantiltSpace</emphasis>.YRange.Max
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Absolute Zoom Movement for PTZ Node selected on Management tab:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        If <emphasis role="italic">profile</emphasis>.Configurations.PTZ.ZoomLimits is specified:
                        <itemizedlist>
                          <listitem>
                            <para>
                              set <emphasis role="italic">z2</emphasis> :=  <emphasis role="italic">profile</emphasis>.Configurations.PTZ.ZoomLimits.XRange.Max
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                      <para>
                        otherwise:
                        <itemizedlist>
                          <listitem>
                            <para>
                              set <emphasis role="italic">z2</emphasis> :=  <emphasis role="italic">zoomSpace</emphasis>.XRange.Max
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AbsoluteMove</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.PanTilt.x := <emphasis role="italic">x2</emphasis>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.PanTilt.y := <emphasis role="italic">y2</emphasis>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.PanTilt.space := <emphasis role="italic">pantiltSpace</emphasis>.URI
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.Zoom.x := <emphasis role="italic">z2</emphasis>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.Zoom.space := <emphasis role="italic">zoomSpace</emphasis>.URI
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Speed skipped
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">AbsoluteMoveResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  Wait until <emphasis role="italic">timeout1</emphasis> timeout expires.
                </para>
              </listitem>
              <!--Branch Move Status-->
              <listitem>
                <para>
                  If the DUT supports Move Status:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="3.5em"?>
                    <listitem  xml:id="tc.MEDIA2_PTZ-2-1-2.24.1">
                      <para>
                        Until <emphasis role="italic">timeout1</emphasis> expires repeat the following steps:
                        <orderedlist numeration="arabic" inheritnum="inherit">
                          <?dbfo label-width="4.5em"?>
                          <listitem>
                            <para>
                              ONVIF Client invokes <emphasis role="bold">GetStatus</emphasis> request with parameters
                              <itemizedlist>
                                <listitem>
                                  <para>
                                    ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                                  </para>
                                </listitem>
                              </itemizedlist>
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              The DUT responds with <emphasis role="bold">GetStatusResponse</emphasis> with parameters
                              <itemizedlist>
                                <listitem>
                                  <para>
                                    PTZStatus =: <emphasis role="italic">ptzStatus</emphasis>
                                  </para>
                                </listitem>
                              </itemizedlist>
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              If the DUT supports Absolute Pan/Tilt Movement for PTZ Node selected on Management tab:
                              <orderedlist numeration="arabic" inheritnum="inherit">
                                <?dbfo label-width="5.5em"?>
                                <listitem>
                                  <para>
                                    If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt is not specified, FAIL the test and skip other steps.
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt = UNKNOWN, FAIL the test and skip other steps.
                                  </para>
                                </listitem>
                              </orderedlist>
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              If the DUT supports Absolute Zoom Movement for PTZ Node selected on Management tab:
                              <orderedlist numeration="arabic" inheritnum="inherit">
                                <?dbfo label-width="5.5em"?>
                                <listitem>
                                  <para>
                                    If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom is not specified, FAIL the test and skip other steps.
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom = UNKNOWN, FAIL the test and skip other steps.
                                  </para>
                                </listitem>
                              </orderedlist>
                            </para>
                          </listitem>

                          <listitem>
                            <para>
                              If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt = IDLE or skipped and <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom = IDLE or skipped, go to the step <link linkend="tc.MEDIA2_PTZ-2-1-2.25">25</link>.
                            </para>
                          </listitem>




                        </orderedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If <emphasis role="italic">timeout1</emphasis> expires for step <link linkend="tc.MEDIA2_PTZ-2-1-2.24.1">24.1</link> and the last <emphasis role="italic">ptzStatus</emphasis>.MoveStatus has PanTilt element and its value is other than IDLE and it has MoveStatus.Zoom element and its value is other than IDLE, FAIL the test and skip other steps.
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem xml:id="tc.MEDIA2_PTZ-2-1-2.25">
                <para>
                  ONVIF Client invokes <emphasis role="bold">GotoPreset</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        PresetToken := <emphasis role="italic">presetToken1</emphasis>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Speed skipped
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">GotoPresetResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  Wait until <emphasis role="italic">timeout1</emphasis> timeout expires.
                </para>
              </listitem>
              <!--Branch Move Status-->
              <listitem>
                <para>
                  If the DUT supports Move Status:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="3.5em"?>
                    <listitem  xml:id="tc.MEDIA2_PTZ-2-1-2.28.1">
                      <para>
                        Until <emphasis role="italic">timeout1</emphasis> expires repeat the following steps:
                        <orderedlist numeration="arabic" inheritnum="inherit">
                          <?dbfo label-width="4.5em"?>
                          <listitem>
                            <para>
                              ONVIF Client invokes <emphasis role="bold">GetStatus</emphasis> request with parameters
                              <itemizedlist>
                                <listitem>
                                  <para>
                                    ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                                  </para>
                                </listitem>
                              </itemizedlist>
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              The DUT responds with <emphasis role="bold">GetStatusResponse</emphasis> with parameters
                              <itemizedlist>
                                <listitem>
                                  <para>
                                    PTZStatus =: <emphasis role="italic">ptzStatus</emphasis>
                                  </para>
                                </listitem>
                              </itemizedlist>
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              If the DUT supports Absolute Pan/Tilt Movement for PTZ Node selected on Management tab:
                              <orderedlist numeration="arabic" inheritnum="inherit">
                                <?dbfo label-width="5.5em"?>
                                <listitem>
                                  <para>
                                    If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt is not specified, FAIL the test and skip other steps.
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt = UNKNOWN, FAIL the test and skip other steps.
                                  </para>
                                </listitem>
                              </orderedlist>
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              If the DUT supports Absolute Zoom Movement for PTZ Node selected on Management tab:
                              <orderedlist numeration="arabic" inheritnum="inherit">
                                <?dbfo label-width="5.5em"?>
                                <listitem>
                                  <para>
                                    If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom is not specified, FAIL the test and skip other steps.
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom = UNKNOWN, FAIL the test and skip other steps.
                                  </para>
                                </listitem>
                              </orderedlist>
                            </para>
                          </listitem>

                          <listitem>
                            <para>
                              If <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt = IDLE or skipped and <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom = IDLE or skipped, go to the step <link linkend="tc.MEDIA2_PTZ-2-1-2.29">29</link>.
                            </para>
                          </listitem>




                        </orderedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If <emphasis role="italic">timeout1</emphasis> expires for step <link linkend="tc.MEDIA2_PTZ-2-1-2.28.1">28.1</link> and the last <emphasis role="italic">ptzStatus</emphasis>.MoveStatus has PanTilt element and its value is other than IDLE and it has MoveStatus.Zoom element and its value is other than IDLE, FAIL the test and skip other steps.
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem xml:id="tc.MEDIA2_PTZ-2-1-2.29">
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStatus</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">GetStatusResponse</emphasis> with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        PTZStatus =: <emphasis role="italic">ptzStatus</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Absolute Pan/Tilt Movement for PTZ Node selected on Management tab and <emphasis role="italic">ptzStatus</emphasis>.Position.PanTilt is specified:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        If difference between <emphasis role="italic">x1</emphasis> and <emphasis role="italic">ptzStatus</emphasis>.Position.PanTilt.x is more than 10% of full range, write WARNING.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If difference between <emphasis role="italic">y1</emphasis> and <emphasis role="italic">ptzStatus</emphasis>.Position.PanTilt.y is more than 10% of full range, write WARNING.
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Absolute Zoom Movement for PTZ Node selected on Management tab and <emphasis role="italic">ptzStatus</emphasis>.Position.Zoom is specified:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        If difference between <emphasis role="italic">z1</emphasis> and <emphasis role="italic">ptzStatus</emphasis>.Position.Zoom.x is more than 10% of full range, write WARNING.
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">RemovePreset</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        PresetToken := <emphasis role="italic">presetToken1</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">RemovePresetResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  If PTZ Configuration <emphasis role="italic">profile</emphasis>.Configurations.PTZ was changed at step <link linkend="tc.MEDIA2_PTZ-2-1-2.10">10</link>, ONVIF Client restores PTZ Configuration.
                </para>
              </listitem>
              <listitem>
                <para>
                  If Media Profile <emphasis role="italic">profile</emphasis> was changed at step <link linkend="tc.MEDIA2_PTZ-2-1-2.4">4</link>, ONVIF Client restores Media Profile.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetConfigurationOptionsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">RemovePresetResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GotoPresetResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">SetPresetResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">AbsoluteMoveResponse</emphasis> message.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> PTZ accuracy is out of scope for this Test Specification. Therefore, the position reported by the DUT in the <emphasis role="bold">GetPresetsResponse</emphasis> does not have to be exactly the same as the position requested by the ONVIF Client in the <emphasis role="bold">AbsoluteMove</emphasis> request.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> <emphasis role="italic">ptzNodeToken1</emphasis> will be taken from PTZ Node for test field of ONVIF Device Test Tool, if it is not defined the first PTZ Node at the list provided in the <emphasis role="bold">GetNodesResponse</emphasis> will be used.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> The DUT features support are defined by the procedure mentioned in [ONVIF Feature Discovery].
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> <emphasis role="italic">timeout1</emphasis> will be taken from Operation Delay field of ONVIF Device Test Tool.
          </para>
        </section>
        <!--MEDIA2_PTZ-2-1-3-->
        <section xml:id="tc.MEDIA2_PTZ-2-1-3">
          <title>PTZ REMOVE PRESET USING MEDIA2 PROFILE</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> MEDIA2_PTZ-2-1-3
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> RemovePreset
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify that it is possible to remove presets using the RemovePreset operation.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media2 Service is received from the DUT. PTZ Service is received from the DUT. Presets are supported by the DUT for PTZ Node selected on Management tab.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.MEDIA2_PTZ-2-1-3.3">
                <para>
                  ONVIF Client configures or selects a Media Profile with Video Source Configuration and PTZ Configuration by following the procedure mentioned in <xref linkend="Annex_HelperMediaProfileConfiguration"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">ptzNodeToken1</emphasis> - token of the PTZ Node, with which Media Profile should be configured
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">profile</emphasis> - Media Profile with Video Source Configuration and PTZ Configuration
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetPreset</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        PresetName := "Test"
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        PresetToken skipped
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">SetPresetResponse</emphasis> with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        PresetToken =: <emphasis role="italic">presetToken1</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetPresets</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">GetPresetsResponse</emphasis> with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        Preset list =: <emphasis role="italic">presetList1</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If <emphasis role="italic">presetList1</emphasis> does not contain item with @token = <emphasis role="italic">presetToken1</emphasis>, FAIL the test and skip other steps.
                </para>
              </listitem>
              <listitem>
                <para>
                  Set <emphasis role="italic">preset</emphasis> := item from <emphasis role="italic">presetList1</emphasis> with @token = <emphasis role="italic">presetToken1</emphasis>.
                </para>
              </listitem>
              <listitem>
                <para>
                  If <emphasis role="italic">preset</emphasis>.Name != "Test", FAIL the test and skip other steps.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">RemovePreset</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        PresetToken := <emphasis role="italic">presetToken1</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">RemovePresetResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetPresets</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">GetPresetsResponse</emphasis> with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        Preset list =: <emphasis role="italic">presetList2</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If <emphasis role="italic">presetList2</emphasis> contains item with @token = <emphasis role="italic">presetToken1</emphasis>, FAIL the test and skip other steps.
                </para>
              </listitem>
              <listitem>
                <para>
                  If Media Profile <emphasis role="italic">profile</emphasis> was changed at step <link linkend="tc.MEDIA2_PTZ-2-1-3.3">3</link>, ONVIF Client restores Media Profile.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">RemovePresetResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetPresetsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">SetPresetResponse</emphasis> message.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> <emphasis role="italic">ptzNodeToken1</emphasis> will be taken from PTZ Node for test field of ONVIF Device Test Tool, if it is not defined the first PTZ Node at the list provided in the <emphasis role="bold">GetNodesResponse</emphasis> will be used.
          </para>
        </section>
      </section>
      <!--Home Position Operations-->
      <section xml:id="tc.ptz_control_media2.home_position_operations">
        <title>Home Position Operations</title>
        <!--MEDIA2_PTZ-3-1-1-->
        <section xml:id="tc.MEDIA2_PTZ-3-1-1">
          <title>PTZ HOME POSITION OPERATIONS (CONFIGURABLE) USING MEDIA2 PROFILE</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> MEDIA2_PTZ-3-1-1
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> SetHomePosition, GotoHomePosition
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify that the SetHomePosition and GotoHomePosition operations are correctly implemented.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media2 Service is received from the DUT. PTZ Service is received from the DUT. Absolute movement is supported by the DUT for PTZ Node selected on Management tab or by 1st PTZ Node (if PTZ node is not selected on Management tab) .
            Configurable Home Position is supported by the DUT for PTZ Node selected on Management tab or by 1st PTZ Node (if PTZ node is not selected on Management tab) .
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT does not supports Absolute Movement for PTZ Node selected on Management tab, FAIL the test and skip other steps.
                </para>
              </listitem>
              <listitem xml:id="tc.MEDIA2_PTZ-3-1-1.4">
                <para>
                  ONVIF Client configures or selects a Media Profile with Video Source Configuration and PTZ Configuration by following the procedure mentioned in <xref linkend="Annex_HelperMediaProfileConfiguration"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">ptzNodeToken1</emphasis> - token of the PTZ Node, with which Media Profile should be configured
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">profile</emphasis> - Media Profile with Video Source Configuration and PTZ Configuration
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetConfigurationOptions</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ConfigurationToken := <emphasis role="italic">profile</emphasis>Configurations.PTZ.@token
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">GetConfigurationOptionsResponse</emphasis> with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        PTZConfigurationOptions =: <emphasis role="italic">ptzConfigurationOptions</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies PTZ Configuration Options by following the procedure mentioned in <xref linkend="Annex_HelperVerifyPTZConfOptions"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">ptzConfigurationOptions</emphasis> - PTZ Configuration Options
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Absolute Pan/Tilt Movement for PTZ Node selected on Management tab:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        Set <emphasis role="italic">pantiltSpace</emphasis> := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.AbsolutePanTiltPositionSpace[<emphasis role="italic">genericPanTiltSpace</emphasis>], where <emphasis role="italic">genericPanTiltSpace</emphasis> is the index number of the first item on the <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.AbsolutePanTiltPositionSpace list that has URI = "http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace"
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Absolute Zoom Movement for PTZ Node selected on Management tab:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        Set <emphasis role="italic">zoomSpace</emphasis> := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.AbsoluteZoomPositionSpace[<emphasis role="italic">genericZoomSpace</emphasis>], where <emphasis role="italic">genericZoomSpace</emphasis> is the index number of the first item on the <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.AbsoluteZoomPositionSpace list that has URI = "http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace"
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem xml:id="tc.MEDIA2_PTZ-3-1-1.10">
                <para>
                  ONVIF Client adjusts Pan/Tilt and Zoom limits if requiered by following the procedure mentioned in <xref linkend="Annex_HelperAdjustLimits"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">pantiltSpace</emphasis> - Pan/Tilt Space
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">zoomSpace</emphasis> - Zoom Space
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">profile</emphasis>.Configurations.PTZ - PTZ Configuration
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">profile</emphasis>.Configurations.PTZ - PTZ Configuration with adjusted Pan/Tilt and Zoom limits
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Absolute Pan/Tilt Movement for PTZ Node selected on Management tab:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        If <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits is specified:
                        <itemizedlist>
                          <listitem>
                            <para>
                              set <emphasis role="italic">x1</emphasis> :=  <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.XRange.Min
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              set <emphasis role="italic">y1</emphasis> :=  <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.YRange.Min
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                      <para>
                        otherwise:
                        <itemizedlist>
                          <listitem>
                            <para>
                              set <emphasis role="italic">x1</emphasis> :=  <emphasis role="italic">pantiltSpace</emphasis>.XRange.Min
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              set <emphasis role="italic">y1</emphasis> :=  <emphasis role="italic">pantiltSpace</emphasis>.YRange.Min
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Absolute Zoom Movement for PTZ Node selected on Management tab:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        If <emphasis role="italic">profile</emphasis>.Configurations.PTZ.ZoomLimits is specified:
                        <itemizedlist>
                          <listitem>
                            <para>
                              set <emphasis role="italic">z1</emphasis> :=  <emphasis role="italic">profile</emphasis>.Configurations.PTZ.ZoomLimits.XRange.Min
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                      <para>
                        otherwise:
                        <itemizedlist>
                          <listitem>
                            <para>
                              set <emphasis role="italic">z1</emphasis> :=  <emphasis role="italic">zoomSpace</emphasis>.XRange.Min
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AbsoluteMove</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.PanTilt.x := <emphasis role="italic">x1</emphasis>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.PanTilt.y := <emphasis role="italic">y1</emphasis>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.PanTilt.space := <emphasis role="italic">pantiltSpace</emphasis>.URI
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.Zoom.x := <emphasis role="italic">z1</emphasis>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.Zoom.space := <emphasis role="italic">zoomSpace</emphasis>.URI
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Speed skipped
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">AbsoluteMoveResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  Wait until <emphasis role="italic">timeout1</emphasis> timeout expires.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetHomePosition</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">SetHomePositionResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Absolute Pan/Tilt Movement for PTZ Node selected on Management tab:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        If <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits is specified:
                        <itemizedlist>
                          <listitem>
                            <para>
                              set <emphasis role="italic">x2</emphasis> :=  <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.XRange.Max
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              set <emphasis role="italic">y2</emphasis> :=  <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.YRange.Max
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                      <para>
                        otherwise:
                        <itemizedlist>
                          <listitem>
                            <para>
                              set <emphasis role="italic">x2</emphasis> :=  <emphasis role="italic">pantiltSpace</emphasis>.XRange.Max
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              set <emphasis role="italic">y2</emphasis> :=  <emphasis role="italic">pantiltSpace</emphasis>.YRange.Max
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Absolute Zoom Movement for PTZ Node selected on Management tab:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        If <emphasis role="italic">profile</emphasis>.Configurations.PTZ.ZoomLimits is specified:
                        <itemizedlist>
                          <listitem>
                            <para>
                              set <emphasis role="italic">z2</emphasis> :=  <emphasis role="italic">profile</emphasis>.Configurations.PTZ.ZoomLimits.XRange.Max
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                      <para>
                        otherwise:
                        <itemizedlist>
                          <listitem>
                            <para>
                              set <emphasis role="italic">z2</emphasis> :=  <emphasis role="italic">zoomSpace</emphasis>.XRange.Max
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AbsoluteMove</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.PanTilt.x := <emphasis role="italic">x2</emphasis>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.PanTilt.y := <emphasis role="italic">y2</emphasis>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.PanTilt.space := <emphasis role="italic">pantiltSpace</emphasis>.URI
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.Zoom.x := <emphasis role="italic">z2</emphasis>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.Zoom.space := <emphasis role="italic">zoomSpace</emphasis>.URI
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Speed skipped
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">AbsoluteMoveResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  Wait until <emphasis role="italic">timeout1</emphasis> timeout expires.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GotoHomePosition</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Speed skipped
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">GotoHomePositionResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  Wait until <emphasis role="italic">timeout1</emphasis> timeout expires.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStatus</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">GetStatusResponse</emphasis> with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        PTZStatus =: <emphasis role="italic">ptzStatus</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Absolute Pan/Tilt Movement for PTZ Node selected on Management tab and <emphasis role="italic">ptzStatus</emphasis>.Position.PanTilt is specified:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        If difference between <emphasis role="italic">x1</emphasis> and <emphasis role="italic">ptzStatus</emphasis>.Position.PanTilt.x is more than 10% of full range, write WARNING.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If difference between <emphasis role="italic">y1</emphasis> and <emphasis role="italic">ptzStatus</emphasis>.Position.PanTilt.y is more than 10% of full range, write WARNING.
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Absolute Zoom Movement for PTZ Node selected on Management tab and <emphasis role="italic">ptzStatus</emphasis>.Position.Zoom is specified:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        If difference between <emphasis role="italic">z1</emphasis> and <emphasis role="italic">ptzStatus</emphasis>.Position.Zoom.x is more than 10% of full range, write WARNING.
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If PTZ Configuration <emphasis role="italic">profile</emphasis>.Configurations.PTZ was changed at step <link linkend="tc.MEDIA2_PTZ-3-1-1.10">10</link>, ONVIF Client restores PTZ Configuration.
                </para>
              </listitem>
              <listitem>
                <para>
                  If Media Profile <emphasis role="italic">profile</emphasis> was changed at step <link linkend="tc.MEDIA2_PTZ-3-1-1.4">4</link>, ONVIF Client restores Media Profile.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetConfigurationOptionsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetStatusResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">SetHomePositionResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GotoHomePositionResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">AbsoluteMoveResponse</emphasis> message.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> PTZ accuracy is out of scope for this Test Specification. Therefore, the position reported by the DUT in the <emphasis role="bold">GetStatusResponse</emphasis> does not have to be exactly the same as the position requested by the ONVIF Client in the <emphasis role="bold">AbsoluteMove</emphasis> request.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> The DUT features support are defined by the procedure mentioned in [ONVIF Feature Discovery].
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> <emphasis role="italic">ptzNodeToken1</emphasis> will be taken from PTZ Node for test field of ONVIF Device Test Tool, if it is not defined the first PTZ Node at the list provided in the <emphasis role="bold">GetNodesResponse</emphasis> will be used.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> <emphasis role="italic">timeout1</emphasis> will be taken from Operation Delay field of ONVIF Device Test Tool.
          </para>
        </section>
        <!--MEDIA2_PTZ-3-1-2-->
        <section xml:id="tc.MEDIA2_PTZ-3-1-2">
          <title>PTZ HOME POSITION OPERATIONS (FIXED) USING MEDIA2 PROFILE</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> MEDIA2_PTZ-3-1-2
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> SetHomePosition, GotoHomePosition
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify that the SetHomePosition and GotoHomePosition operations are correctly implemented.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media2 Service is received from the DUT. PTZ Service is received from the DUT. Absolute movement is supported by the DUT for PTZ Node selected on Management tab or by 1st PTZ Node (if PTZ node is not selected on Management tab) .
            Fixed Home Position is supported by the DUT for PTZ Node selected on Management tab or by 1st PTZ Node (if PTZ node is not selected on Management tab) .
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT does not supports Absolute Movement for PTZ Node selected on Management tab, FAIL the test and skip other steps.
                </para>
              </listitem>
              <listitem xml:id="tc.MEDIA2_PTZ-3-1-2.4">
                <para>
                  ONVIF Client configures or selects a Media Profile with Video Source Configuration and PTZ Configuration by following the procedure mentioned in <xref linkend="Annex_HelperMediaProfileConfiguration"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">ptzNodeToken1</emphasis> - token of the PTZ Node, with which Media Profile should be configured
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">profile</emphasis> - Media Profile with Video Source Configuration and PTZ Configuration
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetConfigurationOptions</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ConfigurationToken := <emphasis role="italic">profile</emphasis>Configurations.PTZ.@token
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">GetConfigurationOptionsResponse</emphasis> with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        PTZConfigurationOptions =: <emphasis role="italic">ptzConfigurationOptions</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies PTZ Configuration Options by following the procedure mentioned in <xref linkend="Annex_HelperVerifyPTZConfOptions"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">ptzConfigurationOptions</emphasis> - PTZ Configuration Options
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GotoHomePosition</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Speed skipped
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">GotoHomePositionResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  Wait until <emphasis role="italic">timeout1</emphasis> timeout expires.
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Absolute Pan/Tilt Movement for PTZ Node selected on Management tab:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        Set <emphasis role="italic">pantiltSpace</emphasis> := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.AbsolutePanTiltPositionSpace[<emphasis role="italic">genericPanTiltSpace</emphasis>], where <emphasis role="italic">genericPanTiltSpace</emphasis> is the index number of the first item on the <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.AbsolutePanTiltPositionSpace list that has URI = "http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace"
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Absolute Zoom Movement for PTZ Node selected on Management tab:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        Set <emphasis role="italic">zoomSpace</emphasis> := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.AbsoluteZoomPositionSpace[<emphasis role="italic">genericZoomSpace</emphasis>], where <emphasis role="italic">genericZoomSpace</emphasis> is the index number of the first item on the <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.AbsoluteZoomPositionSpace list that has URI = "http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace"
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem xml:id="tc.MEDIA2_PTZ-3-1-2.13">
                <para>
                  ONVIF Client adjusts Pan/Tilt and Zoom limits if requiered by following the procedure mentioned in <xref linkend="Annex_HelperAdjustLimits"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">pantiltSpace</emphasis> - Pan/Tilt Space
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">zoomSpace</emphasis> - Zoom Space
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">profile</emphasis>.Configurations.PTZ - PTZ Configuration
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">profile</emphasis>.Configurations.PTZ - PTZ Configuration with adjusted Pan/Tilt and Zoom limits
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Absolute Pan/Tilt Movement for PTZ Node selected on Management tab:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        If <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits is specified:
                        <itemizedlist>
                          <listitem>
                            <para>
                              set <emphasis role="italic">x1</emphasis> :=  <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.XRange.Max
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              set <emphasis role="italic">y1</emphasis> :=  <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.YRange.Max
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                      <para>
                        otherwise:
                        <itemizedlist>
                          <listitem>
                            <para>
                              set <emphasis role="italic">x1</emphasis> :=  <emphasis role="italic">pantiltSpace</emphasis>.XRange.Max
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              set <emphasis role="italic">y1</emphasis> :=  <emphasis role="italic">pantiltSpace</emphasis>.YRange.Max
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Absolute Zoom Movement for PTZ Node selected on Management tab:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        If <emphasis role="italic">profile</emphasis>.Configurations.PTZ.ZoomLimits is specified:
                        <itemizedlist>
                          <listitem>
                            <para>
                              set <emphasis role="italic">z1</emphasis> :=  <emphasis role="italic">profile</emphasis>.Configurations.PTZ.ZoomLimits.XRange.Max
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                      <para>
                        otherwise:
                        <itemizedlist>
                          <listitem>
                            <para>
                              set <emphasis role="italic">z1</emphasis> :=  <emphasis role="italic">zoomSpace</emphasis>.XRange.Max
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStatus</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">GetStatusResponse</emphasis> with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        PTZStatus =: <emphasis role="italic">ptzStatus1</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If <emphasis role="italic">ptzStatus1</emphasis>.Position.PanTilt is specified and equal to vector x1, y1 and if <emphasis role="italic">ptzStatus1</emphasis>.Position.Zoom is specified and equal to vector z1:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        If the DUT supports Absolute Pan/Tilt Movement for PTZ Node selected on Management tab:
                        <orderedlist numeration="arabic" inheritnum="inherit">
                          <?dbfo label-width="3.5em"?>
                          <listitem>
                            <para>
                              If <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits is specified:
                              <itemizedlist>
                                <listitem>
                                  <para>
                                    set <emphasis role="italic">x1</emphasis> := <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.XRange.Min
                                  </para>
                                </listitem>
                              </itemizedlist>
                            </para>
                            <para>
                              otherwise:
                              <itemizedlist>
                                <listitem>
                                  <para>
                                    set <emphasis role="italic">x1</emphasis> := 0
                                  </para>
                                </listitem>
                              </itemizedlist>
                            </para>
                          </listitem>
                        </orderedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If the DUT supports Absolute Zoom Movement for PTZ Node selected on Management tab:
                        <orderedlist numeration="arabic" inheritnum="inherit">
                          <?dbfo label-width="3.5em"?>
                          <listitem>
                            <para>
                              If <emphasis role="italic">profile</emphasis>.Configurations.PTZ.ZoomLimits is specified:
                              <itemizedlist>
                                <listitem>
                                  <para>
                                    set <emphasis role="italic">z1</emphasis> :=  <emphasis role="italic">profile</emphasis>.Configurations.PTZ.ZoomLimits.XRange.Min
                                  </para>
                                </listitem>
                              </itemizedlist>
                            </para>
                            <para>
                              otherwise:
                              <itemizedlist>
                                <listitem>
                                  <para>
                                    set <emphasis role="italic">z1</emphasis> := 0
                                  </para>
                                </listitem>
                              </itemizedlist>
                            </para>
                          </listitem>
                        </orderedlist>
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AbsoluteMove</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.PanTilt.x := <emphasis role="italic">x1</emphasis>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.PanTilt.y := <emphasis role="italic">y1</emphasis>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.PanTilt.space := <emphasis role="italic">pantiltSpace</emphasis>.URI
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.Zoom.x := <emphasis role="italic">z1</emphasis>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Position.Zoom.space := <emphasis role="italic">zoomSpace</emphasis>.URI
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Speed skipped
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">AbsoluteMoveResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  Wait until <emphasis role="italic">timeout1</emphasis> timeout expires.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetHomePosition</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT returns <emphasis role="bold">env:Receiver/ter:Action/ter:CannotOverwriteHome</emphasis> SOAP 1.2 fault.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GotoHomePosition</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Speed skipped
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">GotoHomePositionResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  Wait until <emphasis role="italic">timeout1</emphasis> timeout expires.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStatus</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">GetStatusResponse</emphasis> with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        PTZStatus =: <emphasis role="italic">ptzStatus2</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Absolute Pan/Tilt Movement for PTZ Node selected on Management tab and <emphasis role="italic">ptzStatus</emphasis>.Position.PanTilt is specified:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        If difference between <emphasis role="italic">ptzStatus1</emphasis>.Position.PanTilt.x and <emphasis role="italic">ptzStatus2</emphasis>.Position.PanTilt.x is more than 10% of full range, write WARNING.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If difference between <emphasis role="italic">ptzStatus1</emphasis>.Position.PanTilt.y and <emphasis role="italic">ptzStatus2</emphasis>.Position.PanTilt.y is more than 10% of full range, write WARNING.
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT supports Absolute Zoom Movement for PTZ Node selected on Management tab and <emphasis role="italic">ptzStatus</emphasis>.Position.Zoom is specified:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        If difference between <emphasis role="italic">ptzStatus1</emphasis>.Position.Zoom.x and <emphasis role="italic">ptzStatus2</emphasis>.Position.Zoom.x is more than 10% of full range, write WARNING.
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If PTZ Configuration <emphasis role="italic">profile</emphasis>.Configurations.PTZ was changed at step <link linkend="tc.MEDIA2_PTZ-3-1-2.13">13</link>, ONVIF Client restores PTZ Configuration.
                </para>
              </listitem>
              <listitem>
                <para>
                  If Media Profile <emphasis role="italic">profile</emphasis> was changed at step <link linkend="tc.MEDIA2_PTZ-3-1-2.4">4</link>, ONVIF Client restores Media Profile.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetConfigurationOptionsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetStatusResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send the <emphasis role="bold">env:Receiver/ter:Action/ter:CannotOverwriteHome</emphasis> SOAP 1.2 fault message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GotoHomePositionResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">AbsoluteMoveResponse</emphasis> message.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> PTZ accuracy is out of scope for this Test Specification. Therefore, the position reported by the DUT in the first <emphasis role="bold">GetStatusResponse</emphasis> does not have to be exactly the same as the position in the second <emphasis role="bold">GetStatusResponse</emphasis>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> The DUT features support are defined by the procedure mentioned in [ONVIF Feature Discovery].
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> <emphasis role="italic">timeout1</emphasis> will be taken from Operation Delay field of ONVIF Device Test Tool.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> <emphasis role="italic">ptzNodeToken1</emphasis> will be taken from PTZ Node for test field of ONVIF Device Test Tool, if it is not defined the first PTZ Node at the list provided in the <emphasis role="bold">GetNodesResponse</emphasis> will be used.
          </para>
        </section>
        <!--MEDIA2_PTZ-3-1-3-->
        <section xml:id="tc.MEDIA2_PTZ-3-1-3">
          <title>PTZ – HOME POSITION OPERATIONS (USAGE OF FIXEDHOMEPOSITION FLAG) USING MEDIA2 PROFILE</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> MEDIA2_PTZ-3-1-3
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> SetHomePosition
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify that the SetHomePosition and GotoHomePosition operations are correctly implemented.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media2 Service is received from the DUT. PTZ Service is received from the DUT. Absolute movement is supported by the DUT for PTZ Node selected on Management tab or by 1st PTZ Node (if PTZ node is not selected on Management tab) .
            Home Position is supported by the DUT for PTZ Node selected on Management tab or by 1st PTZ Node (if PTZ node is not selected on Management tab) .
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.MEDIA2_PTZ-3-1-3.3">
                <para>
                  ONVIF Client configures or selects a Media Profile with Video Source Configuration and PTZ Configuration by following the procedure mentioned in <xref linkend="Annex_HelperMediaProfileConfiguration"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">ptzNodeToken1</emphasis> - token of the PTZ Node, with which Media Profile should be configured
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">profile</emphasis> - Media Profile with Video Source Configuration and PTZ Configuration
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetNode</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        NodeToken := <emphasis role="italic">profile</emphasis>.Configurations.PTZ.NodeToken
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">GetNodeResponse</emphasis> with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        PTZNode =: <emphasis role="italic">ptzNode</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  If <emphasis role="italic">ptzNode</emphasis>.@FixedHomePosition is not specified, skip other steps.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetHomePosition</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem xml:id="tc.MEDIA2_PTZ-3-1-3.8">
                <para>
                  The DUT returns <emphasis role="bold">env:Receiver/ter:Action/ter:CannotOverwriteHome</emphasis> or <emphasis role="bold">env:Receiver/ter:ActionNotSupported</emphasis> SOAP 1.2 fault or <emphasis role="bold">SetHomePositionResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  If <emphasis role="italic">ptzNode</emphasis>.@FixedHomePosition = true and the DUT did not return <emphasis role="bold">env:Receiver/ter:Action/ter:CannotOverwriteHome</emphasis> or <emphasis role="bold">env:Receiver/ter:ActionNotSupported</emphasis> SOAP 1.2 fault at step <link linkend="tc.MEDIA2_PTZ-3-1-3.8">8</link>, FAIL the test and skip other steps.
                </para>
              </listitem>
              <listitem>
                <para>
                  If <emphasis role="italic">ptzNode</emphasis>.@FixedHomePosition = false and the DUT did not return <emphasis role="bold">SetHomePositionResponse</emphasis> message at step <link linkend="tc.MEDIA2_PTZ-3-1-3.8">8</link>, FAIL the test and skip other steps.
                </para>
              </listitem>
              <listitem>
                <para>
                  If Media Profile <emphasis role="italic">profile</emphasis> was changed at step <link linkend="tc.MEDIA2_PTZ-3-1-3.3">3</link>, ONVIF Client restores Media Profile.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetNodeResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send the <emphasis role="bold">env:Receiver/ter:Action/ter:CannotOverwriteHome</emphasis> or <emphasis role="bold">env:Receiver/ter:ActionNotSupported</emphasis> SOAP 1.2 fault message <emphasis role="bold">SetHomePositionResponse</emphasis> message.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> <emphasis role="italic">ptzNodeToken1</emphasis> will be taken from PTZ Node for test field of ONVIF Device Test Tool, if it is not defined the first PTZ Node at the list provided in the <emphasis role="bold">GetNodesResponse</emphasis> will be used.
          </para>
        </section>
        <!--MEDIA2_PTZ-3-1-4-->
        <section xml:id="tc.MEDIA2_PTZ-3-1-4">
          <title>PTZ HOME POSITION OPERATIONS USING CUSTOM MEDIA2 PROFILE</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> MEDIA2_PTZ-3-1-4
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Feature Under Test:</emphasis> SetHomePosition, GotoHomePosition
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify that the SetHomePosition and GotoHomePosition operations are correctly implemented in the case of custom created profile.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media2 Service is received from the DUT. PTZ Service is received from the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client retrieves PTZ Nodes list by following the procedure mentioned in <xref linkend="Annex_HelperGetPTZNodeList"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        out <emphasis role="italic">ptzNodeList</emphasis> PTZ Node List
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  For each PTZ Node <emphasis role="italic">ptzNode</emphasis> from <emphasis role="italic">ptzNodeList</emphasis> list with HomeSupported = true repeat the following steps:
                  <orderedlist numeration="arabic" inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>

                    <listitem xml:id="tc.MEDIA2_PTZ-3-1-4.4.1">
                      <para>
                        ONVIF Client creates Media Profile with Video Source Configuration and PTZ Configuration by following the procedure mentioned in <xref linkend="Annex_HelperCreateMedia2Profile"/> with the following input and output parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              in <emphasis role="italic">ptzNodeToken1</emphasis> - token of the PTZ Node, with which Media Profile should be configured
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              out <emphasis role="italic">profile</emphasis> - Media Profile with Video Source Configuration and PTZ Configuration
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        ONVIF Client defines features of PTZ Node <emphasis role="italic">ptzNode</emphasis> by following the procedure mentioned in <xref linkend="Annex_HelperNodeFeatures"/> with the following input and output parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              in <emphasis role="italic">ptzNode</emphasis> - PTZ Node,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              out <emphasis role="italic">continuousPanTilt</emphasis> - Supporting of Continuous Pan/Tilt movement,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              out <emphasis role="italic">continuousZoom</emphasis> - Supporting of Continuous Zoom movement ,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              out <emphasis role="italic">absolutePanTilt</emphasis> - Supporting of Absolute Pan/Tilt movement,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              out <emphasis role="italic">absoluteZoom</emphasis> - Supporting of Absolute Zoom movement,

                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              out <emphasis role="italic">relativePanTilt</emphasis> - Supporting of Relative Pan/Tilt movement,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              out <emphasis role="italic">relativeZoom</emphasis> - Supporting of Relative Zoom movement.
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>


                    <listitem>
                      <para>
                        ONVIF Client gets PTZ Configuration Options <emphasis role="italic">ptzConfigurationOptions</emphasis> by following the procedure mentioned in <xref linkend="Annex_HelperGetPTZConfOptions"/> with the following input and output parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              in <emphasis role="italic">profile</emphasis>.Configurations.PTZ.@token - PTZ Configutation token,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              out <emphasis role="italic">ptzConfigurationOptions</emphasis> - PTZ Configuration Options.
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem xml:id="tc.MEDIA2_PTZ-3-1-4.4.4">
                      <para>
                        ONVIF Client changes PTZ position to minimum by following the procedure mentioned in <xref linkend="Annex_HelperMoveToMinPosition"/> with the following input and output parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              in <emphasis role="italic">profile</emphasis> - Media Profile with PTZ Configuration,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              in <emphasis role="italic">ptzConfigurationOptions</emphasis> - PTZ Configuration Options,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              in <emphasis role="italic">continuousPanTilt</emphasis> - Supporting of Continuous Pan/Tilt movement,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              in <emphasis role="italic">continuousZoom</emphasis> - Supporting of Continuous Zoom movement,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              in <emphasis role="italic">absolutePanTilt</emphasis> - Supporting of Absolute Pan/Tilt movement,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              in <emphasis role="italic">absoluteZoom</emphasis> - Supporting of Absolute Zoom movement,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              in <emphasis role="italic">relativePanTilt</emphasis> - Supporting of Relative Pan/Tilt movement,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              in <emphasis role="italic">relativeZoom</emphasis> - Supporting of Relative Zoom movement,
                            </para>
                          </listitem>

                        </itemizedlist>
                      </para>
                    </listitem>




                    <listitem>
                      <para xml:id="tc.MEDIA2_PTZ-3-1-4.4.5">
                        ONVIF Client invokes <emphasis role="bold">GetStatus</emphasis> request with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        The DUT responds with <emphasis role="bold">GetStatusResponse</emphasis> with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              PTZStatus =: <emphasis role="italic">ptzStatus1</emphasis>
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        ONVIF Client invokes <emphasis role="bold">SetHomePosition</emphasis> request with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem xml:id="tc.MEDIA2_PTZ-3-1-4.5.5">
                      <para>
                        The DUT returns <emphasis role="bold">env:Receiver/ter:Action/ter:CannotOverwriteHome</emphasis> or <emphasis role="bold">env:Receiver/ter:ActionNotSupported</emphasis> SOAP 1.2 fault or <emphasis role="bold">SetHomePositionResponse</emphasis> message.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If DUT returns <emphasis role="bold">env:Receiver/ter:Action/ter:CannotOverwriteHome</emphasis> or <emphasis role="bold">env:Receiver/ter:ActionNotSupported</emphasis> SOAP 1.2 fault at step <link linkend="tc.MEDIA2_PTZ-3-1-4.5.5">4.8</link>:
                        <itemizedlist>
                          <listitem>
                            <para>
                              set <emphasis role="italic">fixedHomePosition</emphasis> :=  true
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If DUT returns <emphasis role="bold">SetHomePositionResponse</emphasis> message at step <link linkend="tc.MEDIA2_PTZ-3-1-4.5.5">4.8</link>:
                        <itemizedlist>
                          <listitem>
                            <para>
                              set <emphasis role="italic">fixedHomePosition</emphasis> :=  false
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If <emphasis role="italic">ptzNode</emphasis>.@FixedHomePosition is specified:
                        <orderedlist numeration="arabic" inheritnum="inherit">
                          <?dbfo label-width="3.5em"?>
                          <listitem>
                            <para>
                              If <emphasis role="italic">ptzNode</emphasis>.@FixedHomePosition = true and <emphasis role="italic">fixedHomePosition</emphasis> = false, FAIL the test and skip other steps.
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              If <emphasis role="italic">ptzNode</emphasis>.@FixedHomePosition = false and <emphasis role="italic">fixedHomePosition</emphasis> = true, FAIL the test and skip other steps.
                            </para>
                          </listitem>
                        </orderedlist>
                      </para>
                    </listitem>


                    <listitem>
                      <para>
                        If <emphasis role="italic">fixedHomePosition</emphasis> = true:
                        <orderedlist numeration="arabic" inheritnum="inherit">
                          <?dbfo label-width="3.5em"?>
                          <listitem>
                            <para>
                              ONVIF Client invokes <emphasis role="bold">GotoHomePosition</emphasis> request with parameters
                              <itemizedlist>
                                <listitem>
                                  <para>
                                    ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    Speed skipped
                                  </para>
                                </listitem>
                              </itemizedlist>
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              The DUT responds with <emphasis role="bold">GotoHomePositionResponse</emphasis> message.
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              Wait until <emphasis role="italic">timeout1</emphasis> timeout expires.
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              ONVIF Client invokes <emphasis role="bold">GetStatus</emphasis> request with parameters
                              <itemizedlist>
                                <listitem>
                                  <para>
                                    ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                                  </para>
                                </listitem>
                              </itemizedlist>
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              The DUT responds with <emphasis role="bold">GetStatusResponse</emphasis> with parameters
                              <itemizedlist>
                                <listitem>
                                  <para>
                                    PTZStatus =: <emphasis role="italic">ptzStatus1</emphasis>
                                  </para>
                                </listitem>
                              </itemizedlist>
                            </para>
                          </listitem>

                        </orderedlist>
                      </para>
                    </listitem>
                    <listitem xml:id="tc.MEDIA2_PTZ-3-1-4.4.13">
                      <para>
                        ONVIF Client changes PTZ position to maximum by following the procedure mentioned in <xref linkend="Annex_HelperMoveToMaxPosition"/> with the following input and output parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              in <emphasis role="italic">profile</emphasis> - Media Profile with PTZ Configuration,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              in <emphasis role="italic">ptzConfigurationOptions</emphasis> - PTZ Configuration Options,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              in <emphasis role="italic">continuousPanTilt</emphasis> - Supporting of Continuous Pan/Tilt movement,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              in <emphasis role="italic">continuousZoom</emphasis> - Supporting of Continuous Zoom movement,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              in <emphasis role="italic">absolutePanTilt</emphasis> - Supporting of Absolute Pan/Tilt movement,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              in <emphasis role="italic">absoluteZoom</emphasis> - Supporting of Absolute Zoom movement,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              in <emphasis role="italic">relativePanTilt</emphasis> - Supporting of Relative Pan/Tilt movement,
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              in <emphasis role="italic">relativeZoom</emphasis> - Supporting of Relative Zoom movement,
                            </para>
                          </listitem>

                        </itemizedlist>
                      </para>
                    </listitem>

                    <listitem>
                      <para>
                        ONVIF Client invokes <emphasis role="bold">GotoHomePosition</emphasis> request with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              Speed skipped
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        The DUT responds with <emphasis role="bold">GotoHomePositionResponse</emphasis> message.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Wait until <emphasis role="italic">timeout1</emphasis> timeout expires.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        ONVIF Client invokes <emphasis role="bold">GetStatus</emphasis> request with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        The DUT responds with <emphasis role="bold">GetStatusResponse</emphasis> with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              PTZStatus =: <emphasis role="italic">ptzStatus2</emphasis>
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>

                    <listitem>
                      <para>
                        If <emphasis role="italic">ptzStatus2</emphasis>.Position.PanTilt is specified:
                        <orderedlist numeration="arabic" inheritnum="inherit">
                          <?dbfo label-width="2.5em"?>
                          <listitem xml:id="tc.MEDIA2_PTZ-3-1-4.4.19.1">
                            <para>
                              If difference between <emphasis role="italic">ptzStatus2</emphasis>.Position.PanTilt.x and <emphasis role="italic">ptzStatus1</emphasis>.Position.PanTilt.x is more than 10% of full range, write WARNING.
                            </para>
                          </listitem>
                          <listitem xml:id="tc.MEDIA2_PTZ-3-1-4.4.19.2">
                            <para>
                              If difference between <emphasis role="italic">ptzStatus2</emphasis>.Position.PanTilt.y and <emphasis role="italic">ptzStatus1</emphasis>.Position.PanTilt.y is more than 10% of full range, write WARNING.
                            </para>
                          </listitem>
                        </orderedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If <emphasis role="italic">ptzStatus2</emphasis>.Position.Zoom is specified:
                        <orderedlist numeration="arabic" inheritnum="inherit">
                          <?dbfo label-width="2.5em"?>
                          <listitem xml:id="tc.MEDIA2_PTZ-3-1-4.4.20.1">
                            <para>
                              If difference between <emphasis role="italic">ptzStatus2</emphasis>.Position.Zoom.x and <emphasis role="italic">ptzStatus1</emphasis>.Position.Zoom.x is more than 10% of full range, write WARNING.
                            </para>
                          </listitem>
                        </orderedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If PTZ Configuration <emphasis role="italic">profile</emphasis>.Configurations.PTZ was changed at step <link linkend="tc.MEDIA2_PTZ-3-1-4.4.4">4.4</link> or at step <link linkend="tc.MEDIA2_PTZ-3-1-4.4.13">4.13</link>, ONVIF Client restores PTZ Configuration.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If Media Profile <emphasis role="italic">profile</emphasis> was changed at step <link linkend="tc.MEDIA2_PTZ-3-1-4.4.1">4.1</link>, ONVIF Client restores Media Profile.
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetConfigurationOptionsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetStatusResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">SetHomePositionResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GotoHomePositionResponse</emphasis> message.
                </para>
              </listitem>

            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> PTZ accuracy is out of scope for this Test Specification. Therefore, the position reported by the DUT in the <emphasis role="bold">GetStatusResponse</emphasis> does not have to be exactly the same as the position requested by the ONVIF Client in the <emphasis role="bold">AbsoluteMove</emphasis> request.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> The DUT features support are defined by the procedure mentioned in [ONVIF Feature Discovery].
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> <emphasis role="italic">timeout1</emphasis> will be taken from Operation Delay field of ONVIF Device Test Tool.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> To calculate full range for Pan Tilt for step <link linkend="tc.MEDIA2_PTZ-3-1-4.4.19.1">4.19.1</link> and for step <link linkend="tc.MEDIA2_PTZ-3-1-4.4.19.2">4.19.2</link> ONVIF Client uses <emphasis role="italic">ptzStatus2</emphasis>.Position.PanTilt.@space space.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> To calculate full range for Zoom for step <link linkend="tc.MEDIA2_PTZ-3-1-4.4.20.1">4.20.1</link> ONVIF Client uses <emphasis role="italic">ptzStatus2</emphasis>.Position.Zoom.@space space.
          </para>
        </section>
      </section>
      <!--Predefined PTZ Spaces-->
      <section xml:id="tc.ptz_control_media2.predefined_ptz_spaces">
        <title>Predefined PTZ Spaces</title>
        <!--Absolute Position Spaces-->
        <section xml:id="tc.ptz_control_media2.predefined_ptz_spaces.absolute_position_spaces">
          <title>Absolute Position Spaces</title>
          <!--MEDIA2_PTZ-4-1-1-->
          <section xml:id="tc.MEDIA2_PTZ-4-1-1">
            <title>ABSOLUTE PAN/TILT POSITION SPACE</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> MEDIA2_PTZ-4-1-1
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> Absolute Pan/Tilt Position Space
            </para>
            <para>
              <emphasis role="bold">Feature Under Test:</emphasis> Absolute Pan/Tilt Position Space
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify that the node supports the "http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees" PTZ space.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> Media2 Service is received from the DUT. PTZ Service is received from the DUT. Profile T is supported by the DUT.
            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetNodes</emphasis> request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The DUT responds with <emphasis role="bold">GetNodesResponse</emphasis> with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          PTZNode list =: <emphasis role="italic">ptzNodeList</emphasis>
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    For each PTZ Node <emphasis role="italic">ptzNode</emphasis> from <emphasis role="italic">ptzNodeList</emphasis> list, which contains SupportedPTZSpaces.AbsolutePanTiltPositionSpace.URI = "http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees", repeat the following steps:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="2.5em"?>
                      <listitem>
                        <para>
                          Set <emphasis role="italic">sphericalSpace</emphasis> := <emphasis role="italic">ptzNode</emphasis>.SupportedPTZSpaces.AbsolutePanTiltPositionSpace[<emphasis role="italic">sphericalSpaceId</emphasis>], where <emphasis role="italic">sphericalSpaceId</emphasis> is the index number of the first item on the <emphasis role="italic">ptzNode</emphasis>.SupportedPTZSpaces.AbsolutePanTiltPositionSpace list that has URI = "http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees"
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          If <emphasis role="italic">sphericalSpace</emphasis>.XRange.Max &lt; <emphasis role="italic">sphericalSpace</emphasis>.XRange.Min, FAIL the test and skip other steps.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          If <emphasis role="italic">sphericalSpace</emphasis>.YRange.Max &lt; <emphasis role="italic">sphericalSpace</emphasis>.YRange.Min, FAIL the test and skip other steps.
                        </para>
                      </listitem>
                      <listitem xml:id="tc.MEDIA2_PTZ-4-1-1.5.4">
                        <para>
                          ONVIF Client configures or selects a Media Profile with Video Source Configuration and PTZ Configuration by following the procedure mentioned in <xref linkend="Annex_HelperMediaProfileConfiguration"/> with the following input and output parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                in <emphasis role="italic">ptzNode</emphasis>.@token - token of the PTZ Node, with which Media Profile should be configured
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                out <emphasis role="italic">profile</emphasis> - Media Profile with Video Source Configuration and PTZ Configuration
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem xml:id="tc.MEDIA2_PTZ-4-1-1.5.5">
                        <para>
                          ONVIF Client adjusts Pan/Tilt and Zoom limits if requiered by following the procedure mentioned in <xref linkend="Annex_HelperAdjustLimits"/> with the following input and output parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                in <emphasis role="italic">sphericalSpace</emphasis> - Pan/Tilt Space
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                in <emphasis role="italic">profile</emphasis>.Configurations.PTZ - PTZ Configuration
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                out <emphasis role="italic">profile</emphasis>.Configurations.PTZ - PTZ Configuration with adjusted Pan/Tilt and Zoom limits
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          ONVIF Client invokes <emphasis role="bold">AbsoluteMove</emphasis> request with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Position.PanTilt.x := <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.Range.XRange.Min if it is specified, otherwise, <emphasis role="italic">sphericalSpace</emphasis>.XRange.Min
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Position.PanTilt.y := <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.Range.YRange.Min if it is specified, otherwise, <emphasis role="italic">sphericalSpace</emphasis>.YRange.Min
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Position.PanTilt.space := <emphasis role="italic">sphericalSpace</emphasis>.URI
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Position.Zoom skipped
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Position.Speed skipped
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          The DUT responds with <emphasis role="bold">AbsoluteMoveResponse</emphasis> message.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          ONVIF Client invokes <emphasis role="bold">AbsoluteMove</emphasis> request with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Position.PanTilt.x := <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.Range.XRange.Max if it is specified, otherwise, <emphasis role="italic">sphericalSpace</emphasis>.XRange.Max
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Position.PanTilt.y := <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.Range.YRange.Max if it is specified, otherwise, <emphasis role="italic">sphericalSpace</emphasis>.YRange.Max
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Position.PanTilt.space := <emphasis role="italic">sphericalSpace</emphasis>.URI
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Position.Zoom skipped
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Position.Speed skipped
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          The DUT responds with <emphasis role="bold">AbsoluteMoveResponse</emphasis> message.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          If PTZ Configuration <emphasis role="italic">profile</emphasis>.Configurations.PTZ was changed at step <link linkend="tc.MEDIA2_PTZ-4-1-1.5.5">5.5</link>, ONVIF Client restores PTZ Configuration.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          If Media Profile <emphasis role="italic">profile</emphasis> was changed at step <link linkend="tc.MEDIA2_PTZ-4-1-1.5.4">5.4</link>, ONVIF Client restores Media Profile.
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>
              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetNodesResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">AbsoluteMoveResponse</emphasis> message.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </section>
          <!--MEDIA2_PTZ-4-1-2-->
          <section xml:id="tc.MEDIA2_PTZ-4-1-2">
            <title>ABSOLUTE PAN/TILT GENERIC POSITION SPACE</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> MEDIA2_PTZ-4-1-2
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> Generic Pan/Tilt Position Space (ONVIF PTZ Service spec)
            </para>
            <para>
              <emphasis role="bold">Feature Under Test:</emphasis> Generic Pan/Tilt Position Space
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify that the node supports the "http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace" PTZ space.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> Media2 Service is received from the DUT. PTZ Service is received from the DUT.
            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetNodes</emphasis> request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The DUT responds with <emphasis role="bold">GetNodesResponse</emphasis> with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          PTZNode list =: <emphasis role="italic">ptzNodeList</emphasis>
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>

                <listitem>
                  <para>
                    For each PTZ Node <emphasis role="italic">ptzNode</emphasis> from <emphasis role="italic">ptzNodeList</emphasis> list, which contains at least one SupportedPTZSpaces.AbsolutePanTiltPositionSpace element repeat the following steps:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="2.5em"?>
                      <listitem>
                        <para>
                          If <emphasis role="italic">ptzNode</emphasis> does not contain SupportedPTZSpaces.AbsolutePanTiltPositionSpace.URI = "http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace", FAIL the test and skip other steps.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Set <emphasis role="italic">genericSpace</emphasis> := <emphasis role="italic">ptzNode</emphasis>.SupportedPTZSpaces.AbsolutePanTiltPositionSpace[<emphasis role="italic">genericSpaceId</emphasis>], where <emphasis role="italic">genericSpaceId</emphasis> is the index number of the first item on the <emphasis role="italic">ptzNode</emphasis>.SupportedPTZSpaces.AbsolutePanTiltPositionSpace list that has URI = "http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace"
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          If <emphasis role="italic">genericSpace</emphasis>.XRange.Max &lt; <emphasis role="italic">genericSpace</emphasis>.XRange.Min, FAIL the test and skip other steps.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          If <emphasis role="italic">genericSpace</emphasis>.YRange.Max &lt; <emphasis role="italic">genericSpace</emphasis>.YRange.Min, FAIL the test and skip other steps.
                        </para>
                      </listitem>
                      <listitem xml:id="tc.MEDIA2_PTZ-4-1-2.5.4">
                        <para>
                          ONVIF Client configures or selects a Media Profile with Video Source Configuration and PTZ Configuration by following the procedure mentioned in <xref linkend="Annex_HelperMediaProfileConfiguration"/> with the following input and output parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                in <emphasis role="italic">ptzNode</emphasis>.@token - token of the PTZ Node, with which Media Profile should be configured
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                out <emphasis role="italic">profile</emphasis> - Media Profile with Video Source Configuration and PTZ Configuration
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem xml:id="tc.MEDIA2_PTZ-4-1-2.5.5">
                        <para>
                          ONVIF Client adjusts Pan/Tilt and Zoom limits if requiered by following the procedure mentioned in <xref linkend="Annex_HelperAdjustLimits"/> with the following input and output parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                in <emphasis role="italic">genericSpace</emphasis> - Pan/Tilt Space
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                in <emphasis role="italic">profile</emphasis>.Configurations.PTZ - PTZ Configuration
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                out <emphasis role="italic">profile</emphasis>.Configurations.PTZ - PTZ Configuration with adjusted Pan/Tilt and Zoom limits
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          ONVIF Client invokes <emphasis role="bold">AbsoluteMove</emphasis> request with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Position.PanTilt.x := <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.Range.XRange.Min if it is specified, otherwise, <emphasis role="italic">genericSpace</emphasis>.XRange.Min
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Position.PanTilt.y := <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.Range.YRange.Min if it is specified, otherwise, <emphasis role="italic">genericSpace</emphasis>.YRange.Min
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Position.PanTilt.space := <emphasis role="italic">genericSpace</emphasis>.URI
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Position.Zoom skipped
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Position.Speed skipped
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          The DUT responds with <emphasis role="bold">AbsoluteMoveResponse</emphasis> message.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          ONVIF Client invokes <emphasis role="bold">AbsoluteMove</emphasis> request with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Position.PanTilt.x := <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.Range.XRange.Max if it is specified, otherwise, <emphasis role="italic">genericSpace</emphasis>.XRange.Max
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Position.PanTilt.y := <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.Range.YRange.Max if it is specified, otherwise, <emphasis role="italic">genericSpace</emphasis>.YRange.Max
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Position.PanTilt.space := <emphasis role="italic">genericSpace</emphasis>.URI
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Position.Zoom skipped
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Position.Speed skipped
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          The DUT responds with <emphasis role="bold">AbsoluteMoveResponse</emphasis> message.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          If PTZ Configuration <emphasis role="italic">profile</emphasis>.Configurations.PTZ was changed at step <link linkend="tc.MEDIA2_PTZ-4-1-2.5.5">5.5</link>, ONVIF Client restores PTZ Configuration.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          If Media Profile <emphasis role="italic">profile</emphasis> was changed at step <link linkend="tc.MEDIA2_PTZ-4-1-2.5.4">5.4</link>, ONVIF Client restores Media Profile.
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>
              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetNodesResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">AbsoluteMoveResponse</emphasis> message.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </section>
          <!--MEDIA2_PTZ-4-1-3-->
          <section xml:id="tc.MEDIA2_PTZ-4-1-3">
            <title>ABSOLUTE ZOOM GENERIC POSITION SPACE</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> MEDIA2_PTZ-4-1-3
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> Generic Zoom Position Space (ONVIF PTZ Service spec)
            </para>
            <para>
              <emphasis role="bold">Feature Under Test:</emphasis> Generic Zoom Position Space
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify that the node supports the "http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace" PTZ space.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> Media2 Service is received from the DUT. PTZ Service is received from the DUT.
            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetNodes</emphasis> request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The DUT responds with <emphasis role="bold">GetNodesResponse</emphasis> with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          PTZNode list =: <emphasis role="italic">ptzNodeList</emphasis>
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>

                <listitem>
                  <para>
                    For each PTZ Node <emphasis role="italic">ptzNode</emphasis> from <emphasis role="italic">ptzNodeList</emphasis> list, which contains at least one SupportedPTZSpaces.AbsoluteZoomPositionSpace element repeat the following steps:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="2.5em"?>
                      <listitem>
                        <para>
                          If <emphasis role="italic">ptzNode</emphasis> does not contain SupportedPTZSpaces.AbsoluteZoomPositionSpace.URI = "http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace", FAIL the test and skip other steps.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Set <emphasis role="italic">genericSpace</emphasis> := <emphasis role="italic">ptzNode</emphasis>.SupportedPTZSpaces.AbsoluteZoomPositionSpace[<emphasis role="italic">genericSpaceId</emphasis>], where <emphasis role="italic">genericSpaceId</emphasis> is the index number of the first item on the <emphasis role="italic">ptzNode</emphasis>.SupportedPTZSpaces.AbsoluteZoomPositionSpace list that has URI = "http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace"
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          If <emphasis role="italic">genericSpace</emphasis>.XRange.Max &lt; <emphasis role="italic">genericSpace</emphasis>.XRange.Min, FAIL the test and skip other steps.
                        </para>
                      </listitem>

                      <listitem xml:id="tc.MEDIA2_PTZ-4-1-3.5.4">
                        <para>
                          ONVIF Client configures or selects a Media Profile with Video Source Configuration and PTZ Configuration by following the procedure mentioned in <xref linkend="Annex_HelperMediaProfileConfiguration"/> with the following input and output parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                in <emphasis role="italic">ptzNode</emphasis>.@token - token of the PTZ Node, with which Media Profile should be configured
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                out <emphasis role="italic">profile</emphasis> - Media Profile with Video Source Configuration and PTZ Configuration
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem xml:id="tc.MEDIA2_PTZ-4-1-3.5.5">
                        <para>
                          ONVIF Client adjusts Pan/Tilt and Zoom limits if requiered by following the procedure mentioned in <xref linkend="Annex_HelperAdjustLimits"/> with the following input and output parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                in <emphasis role="italic">genericSpace</emphasis> - Pan/Tilt Space
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                in <emphasis role="italic">profile</emphasis>.Configurations.PTZ - PTZ Configuration
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                out <emphasis role="italic">profile</emphasis>.Configurations.PTZ - PTZ Configuration with adjusted Pan/Tilt and Zoom limits
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>


                      <listitem>
                        <para>
                          ONVIF Client invokes <emphasis role="bold">AbsoluteMove</emphasis> request with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Position.PanTilt skipped
                              </para>
                            </listitem>


                            <listitem>
                              <para>
                                Position.Zoom.x := <emphasis role="italic">profile</emphasis>.Configurations.PTZ.ZoomLimits.Range.XRange.Min if it is specified, otherwise, <emphasis role="italic">genericSpace</emphasis>.XRange.Min
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Position.Zoom.space := <emphasis role="italic">genericSpace</emphasis>.URI
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Position.Speed skipped
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          The DUT responds with <emphasis role="bold">AbsoluteMoveResponse</emphasis> message.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          ONVIF Client invokes <emphasis role="bold">AbsoluteMove</emphasis> request with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Position.PanTilt skipped
                              </para>
                            </listitem>


                            <listitem>
                              <para>
                                Position.Zoom.x := <emphasis role="italic">profile</emphasis>.Configurations.PTZ.ZoomLimits.Range.XRange.Max if it is specified, otherwise, <emphasis role="italic">genericSpace</emphasis>.XRange.Max
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Position.Zoom.space := <emphasis role="italic">genericSpace</emphasis>.URI
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Position.Speed skipped
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          The DUT responds with <emphasis role="bold">AbsoluteMoveResponse</emphasis> message.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          If PTZ Configuration <emphasis role="italic">profile</emphasis>.Configurations.PTZ was changed at step <link linkend="tc.MEDIA2_PTZ-4-1-3.5.5">5.5</link>, ONVIF Client restores PTZ Configuration.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          If Media Profile <emphasis role="italic">profile</emphasis> was changed at step <link linkend="tc.MEDIA2_PTZ-4-1-3.5.4">5.4</link>, ONVIF Client restores Media Profile.
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>
              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetNodesResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">AbsoluteMoveResponse</emphasis> message.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </section>
        </section>
        <!--Continuous Velocity Spaces-->
        <section xml:id="tc.ptz_control_media2.predefined_ptz_spaces.continuous_velocity_spaces">
          <title>Continuous Velocity Spaces</title>
          <!--MEDIA2_PTZ-4-2-1-->
          <section xml:id="tc.MEDIA2_PTZ-4-2-1">
            <title>CONTINUOUS PAN/TILT VELOCITY SPACE</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> MEDIA2_PTZ-4-2-1
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> Continuous Pan/Tilt Velocity Space
            </para>
            <para>
              <emphasis role="bold">Feature Under Test:</emphasis> Continuous Pan/Tilt Velocity Space
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify that the node supports the "http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace" PTZ space for Continuous Pan/Tilt movement.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> Media2 Service is received from the DUT. PTZ Service is received from the DUT. Profile T is supported by the DUT.
            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetNodes</emphasis> request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The DUT responds with <emphasis role="bold">GetNodesResponse</emphasis> with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          PTZNode list =: <emphasis role="italic">ptzNodeList</emphasis>
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    For each PTZ Node <emphasis role="italic">ptzNode</emphasis> from <emphasis role="italic">ptzNodeList</emphasis> list, which contains SupportedPTZSpaces.ContinuousPanTiltVelocitySpace, repeat the following steps:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="2.5em"?>
                      <listitem>
                        <para>
                          If <emphasis role="italic">ptzNode</emphasis>.SupportedPTZSpaces.ContinuousPanTiltVelocitySpace list does not contain item with URI = "http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace", FAIL the test and skip other steps.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Set <emphasis role="italic">velocitySpace</emphasis> := <emphasis role="italic">ptzNode</emphasis>.SupportedPTZSpaces.ContinuousPanTiltVelocitySpace[<emphasis role="italic">velocitySpaceId</emphasis>], where <emphasis role="italic">velocitySpaceId</emphasis> is the index number of the first item on the <emphasis role="italic">ptzNode</emphasis>.SupportedPTZSpaces.ContinuousPanTiltVelocitySpace list that has URI = "http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace"
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          If <emphasis role="italic">velocitySpace</emphasis>.XRange.Max &lt; <emphasis role="italic">velocitySpace</emphasis>.XRange.Min, FAIL the test and skip other steps.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          If <emphasis role="italic">velocitySpace</emphasis>.YRange.Max &lt; <emphasis role="italic">velocitySpace</emphasis>.YRange.Min, FAIL the test and skip other steps.
                        </para>
                      </listitem>
                      <listitem xml:id="tc.MEDIA2_PTZ-4-2-1.5.5">
                        <para>
                          ONVIF Client configures or selects a Media Profile with Video Source Configuration and PTZ Configuration by following the procedure mentioned in <xref linkend="Annex_HelperMediaProfileConfiguration"/> with the following input and output parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                in <emphasis role="italic">ptzNode</emphasis>.@token - token of the PTZ Node, with which Media Profile should be configured
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                out <emphasis role="italic">profile</emphasis> - Media Profile with Video Source Configuration and PTZ Configuration
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          ONVIF Client invokes <emphasis role="bold">ContinuousMove</emphasis> request with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Velocity.PanTilt.x := <emphasis role="italic">velocitySpace</emphasis>.XRange.Min
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Velocity.PanTilt.y := <emphasis role="italic">velocitySpace</emphasis>.YRange.Min
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Velocity.PanTilt.space := <emphasis role="italic">sphericalSpace</emphasis>.URI
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Velocity.Zoom skipped
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Timeout skipped
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          The DUT responds with <emphasis role="bold">ContinuousMoveResponse</emphasis> message.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Wait until <emphasis role="italic">timeout1</emphasis> timeout expires.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          ONVIF Client invokes <emphasis role="bold">ContinuousMove</emphasis> request with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Velocity.PanTilt.x := <emphasis role="italic">velocitySpace</emphasis>.XRange.Max
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Velocity.PanTilt.y := <emphasis role="italic">velocitySpace</emphasis>.YRange.Max
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Velocity.PanTilt.space := <emphasis role="italic">sphericalSpace</emphasis>.URI
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Velocity.Zoom skipped
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Timeout skipped
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          The DUT responds with <emphasis role="bold">ContinuousMoveResponse</emphasis> message.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Wait until <emphasis role="italic">timeout1</emphasis> timeout expires.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          ONVIF Client invokes <emphasis role="bold">Stop</emphasis> request with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                PanTilt := true
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Zoom := false
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          The DUT responds with <emphasis role="bold">StopResponse</emphasis> message.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          If Media Profile <emphasis role="italic">profile</emphasis> was changed at step <link linkend="tc.MEDIA2_PTZ-4-2-1.5.5">5.5</link>, ONVIF Client restores Media Profile.
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>
              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetNodesResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">ContinuousMoveResponse</emphasis> message.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> <emphasis role="italic">timeout1</emphasis> will be taken from Operation Delay field of ONVIF Device Test Tool.
            </para>
          </section>
          <!--MEDIA2_PTZ-4-2-2-->
          <section xml:id="tc.MEDIA2_PTZ-4-2-2">
            <title>GENERIC ZOOM VELOCITY SPACE</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> MEDIA2_PTZ-4-2-2
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> Generic Zoom Velocity Space
            </para>
            <para>
              <emphasis role="bold">Feature Under Test:</emphasis> Generic Zoom Velocity Space
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> ptz.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify that the node supports the "http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace" PTZ space for Continuous Zoom movement.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> Media2 Service is received from the DUT. PTZ Service is received from the DUT. Profile T is supported by the DUT.
            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetNodes</emphasis> request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The DUT responds with <emphasis role="bold">GetNodesResponse</emphasis> with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          PTZNode list =: <emphasis role="italic">ptzNodeList</emphasis>
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    For each PTZ Node <emphasis role="italic">ptzNode</emphasis> from <emphasis role="italic">ptzNodeList</emphasis> list, which contains SupportedPTZSpaces.ContinuousZoomVelocitySpace, repeat the following steps:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="2.5em"?>
                      <listitem>
                        <para>
                          If <emphasis role="italic">ptzNode</emphasis>.SupportedPTZSpaces.ContinuousZoomVelocitySpace list does not contain item with URI = "http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace", FAIL the test and skip other steps.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Set <emphasis role="italic">velocitySpace</emphasis> := <emphasis role="italic">ptzNode</emphasis>.SupportedPTZSpaces.ContinuousZoomVelocitySpace[<emphasis role="italic">velocitySpaceId</emphasis>], where <emphasis role="italic">velocitySpaceId</emphasis> is the index number of the first item on the <emphasis role="italic">ptzNode</emphasis>.SupportedPTZSpaces.ContinuousZoomVelocitySpace list that has URI = "http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace"
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          If <emphasis role="italic">velocitySpace</emphasis>.XRange.Max &lt; <emphasis role="italic">velocitySpace</emphasis>.XRange.Min, FAIL the test and skip other steps.
                        </para>
                      </listitem>
                      <listitem xml:id="tc.MEDIA2_PTZ-4-2-2.5.4">
                        <para>
                          ONVIF Client configures or selects a Media Profile with Video Source Configuration and PTZ Configuration by following the procedure mentioned in <xref linkend="Annex_HelperMediaProfileConfiguration"/> with the following input and output parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                in <emphasis role="italic">ptzNode</emphasis>.@token - token of the PTZ Node, with which Media Profile should be configured
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                out <emphasis role="italic">profile</emphasis> - Media Profile with Video Source Configuration and PTZ Configuration
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          ONVIF Client invokes <emphasis role="bold">ContinuousMove</emphasis> request with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Velocity.PanTilt skipped
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Velocity.Zoom.x := <emphasis role="italic">velocitySpace</emphasis>.XRange.Min
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Velocity.Zoom.space := <emphasis role="italic">sphericalSpace</emphasis>.URI
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Timeout skipped
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          The DUT responds with <emphasis role="bold">ContinuousMoveResponse</emphasis> message.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Wait until <emphasis role="italic">timeout1</emphasis> timeout expires.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          ONVIF Client invokes <emphasis role="bold">ContinuousMove</emphasis> request with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Velocity.PanTilt skipped
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Velocity.Zoom.x := <emphasis role="italic">velocitySpace</emphasis>.XRange.Max
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Velocity.Zoom.space := <emphasis role="italic">sphericalSpace</emphasis>.URI
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Timeout skipped
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          The DUT responds with <emphasis role="bold">ContinuousMoveResponse</emphasis> message.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Wait until <emphasis role="italic">timeout1</emphasis> timeout expires.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          ONVIF Client invokes <emphasis role="bold">Stop</emphasis> request with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                PanTilt := false
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Zoom := true
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          The DUT responds with <emphasis role="bold">StopResponse</emphasis> message.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          If Media Profile <emphasis role="italic">profile</emphasis> was changed at step <link linkend="tc.MEDIA2_PTZ-4-2-2.5.4">5.4</link>, ONVIF Client restores Media Profile.
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>
              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetNodesResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">ContinuousMoveResponse</emphasis> message.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> <emphasis role="italic">timeout1</emphasis> will be taken from Operation Delay field of ONVIF Device Test Tool.
            </para>
          </section>
        </section>
      </section>
    </section>
  </chapter>
  <appendix>
    <title>Helper Procedures and Additional Notes</title>
    <!--A.1-->
    <section xml:id="Annex_HelperConfigureMediaProfile" xreflabel="Annex A.1">
      <title>Media Profile Configuration for PTZ Control</title>
      <para>
        For the execution of PTZ control test cases, ONVIF Client has to select and configure the media profile as follows:
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              Retrieve media profiles by invoking <emphasis role="bold">GetProfiles</emphasis> request. 
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">GetProfilesResponse</emphasis> message with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Profile list =: <emphasis role="italic">profileList</emphasis>
                  </para>
                </listitem>
              </itemizedlist>              
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">profileList</emphasis> contains profile with PTZ configuration:
              <itemizedlist>
                <listitem>
                  <para>
                    Set <emphasis role="italic">profile</emphasis> := <emphasis role="italic">profileList</emphasis>[0], where <emphasis role="italic">profileList</emphasis>[0] is the first profile with PTZConfiguration.
                </para>
                </listitem>
                <listitem>
                  <para>
                    Go to step <xref linkend="Annex_HelperConfigureMediaProfile.6"/>.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>         
                <listitem>
                  <para>
                    If DUT does not support Get Compatible Configurations feature:
                    <itemizedlist>
                      <listitem>
                        <para>
                          Retrieve PTZ configurations by invoking <emphasis role="bold">GetConfigurations</emphasis> request.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Add PTZ configuration to media profile by invoking <emphasis role="bold">AddPTZConfiguration</emphasis> request.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Get PTZ configuration options for the added PTZ Configuration by invoking GetConfigurationOptions request.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Skip other steps.
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If DUT supports Get Compatible Configurations feature:
                    <itemizedlist>
                      <listitem>
                        <para>
                          ONVIF Client configures an empty Media Profile by following the procedure mentioned in <xref linkend="Annex_HelperConfigureEmptyMediaProfile"/> with the following input and output parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                in <emphasis role="italic">profileList</emphasis> - Media Profile List
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                out <emphasis role="italic">profile</emphasis> - Media Profile
                              </para>
                            </listitem>                                                        
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          ONVIF Client invokes <emphasis role="bold">GetCompatibleVideoSourceConfigurations</emphasis> request with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          DUT responds with <emphasis role="bold">GetCompatibleVideoSourceConfigurationsResponse</emphasis> message with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                Configurations list := <emphasis role="italic">vscList</emphasis>
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          If <emphasis role="italic">vscList</emphasis> is empty, FAIL the test and skip other steps.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          For each Video Source Configuration <emphasis role="italic">vsc</emphasis> in <emphasis role="italic">vscList</emphasis> repeat the following steps:
                          <orderedlist numeration="arabic" inheritnum="inherit">
                            <?dbfo label-width="2.5em"?>
                            <listitem>
                              <para>
                                ONVIF Client invokes <emphasis role="bold">AddVideoSourceConfiguration</emphasis> request with parameters
                                <itemizedlist>
                                  <listitem>
                                    <para>
                                      ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                                    </para>
                                  </listitem>
                                  <listitem>
                                    <para>
                                      ConfigurationToken := <emphasis role="italic">vsc</emphasis>.@token
                                    </para>
                                  </listitem>
                                </itemizedlist>
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                DUT responds with <emphasis role="bold">AddVideoSourceConfigurationResponse</emphasis> message.
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                ONVIF Client invokes <emphasis role="bold">GetCompatibleConfigurations</emphasis> request with parameters
                                <itemizedlist>
                                  <listitem>
                                    <para>
                                      ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                                    </para>
                                  </listitem>
                                </itemizedlist>
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                DUT responds with <emphasis role="bold">GetCompatibleConfigurationsResponse</emphasis> message with parameters
                                <itemizedlist>
                                  <listitem>
                                    <para>
                                     PTZ Configurations list := <emphasis role="italic">ptzConfigList</emphasis>
                                    </para>
                                  </listitem>
                                </itemizedlist>
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                If <emphasis role="italic">ptzConfigList</emphasis> is not empty:
                                <itemizedlist>
                                  <listitem>
                                    <para>
                                      ONVIF Client invokes <emphasis role="bold">AddPTZConfiguration</emphasis> request with parameters
                                      <itemizedlist>
                                        <listitem>
                                          <para>
                                            ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                                          </para>
                                        </listitem>
                                        <listitem>
                                          <para>
                                            ConfigurationToken := <emphasis role="italic">ptzConfigList</emphasis>[0].@token
                                          </para>
                                        </listitem>
                                      </itemizedlist>
                                    </para>
                                  </listitem>
                                  <listitem>
                                    <para>
                                      DUT responds with <emphasis role="bold">AddPTZConfigurationResponse</emphasis> message.
                                    </para>
                                  </listitem>
                                  <listitem>
                                    <para>
                                      Go to step <xref linkend="Annex_HelperConfigureMediaProfile.6"/>.
                                    </para>
                                  </listitem>
                                </itemizedlist>
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                If <emphasis role="italic">ptzConfigList</emphasis> is empty for all Video Source Configurations from <emphasis role="italic">vscList</emphasis>, FAIL the test and skip other steps.
                              </para>
                            </listitem>
                          </orderedlist>
                        </para>
                      </listitem>
                      
                    </itemizedlist>
                  </para>
                </listitem>

          <listitem xml:id="Annex_HelperConfigureMediaProfile.6" xreflabel="6">
            <para>
              ONVIF Client gets PTZ Configuration Options <emphasis role="italic">ptzConfigurationOptions</emphasis> by following the procedure mentioned in <xref linkend="Annex_HelperGetPTZConfOptions"/> with the following input and output parameters
              <itemizedlist>
                <listitem>
                  <para>
                    in <emphasis role="italic">profile</emphasis>.PTZConfiguration.@token - PTZ Configutation token,
                  </para>
                </listitem>
                <listitem>
                  <para>
                    out <emphasis role="italic">ptzConfigurationOptions</emphasis> - PTZ Configuration Options.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>


        </orderedlist>
      </para>
    </section>
    <!--A.2-->
    <section xml:id="Annex_name_max_len" xreflabel="Annex A.2">
      <title>Name and Token Parameters Maximum Length</title>
      <para>
        There are the following limitations on maximum length of Name and Token parameters that shall be used during tests by ONVIF Device Test Tool to prevent faults from the DUT:
        <itemizedlist>
          <listitem>
            <para>
              Name shall be less than or equal to 64 characters (only readable characters are accepted).
            </para>
          </listitem>
          <listitem>
            <para>
              Token shall be less than or equal to 64 characters (only readable characters are accepted).
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        UTF-8 character set shall be used for Name and Token.
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> these limitations will not be used if ONVIF Device Test Tool re-uses values that were received from the DUT.
      </para>
    </section>
    <!--A.3-->
    <section xml:id="Annex_HelperGetPTZNodeList" xreflabel="Annex A.3">
      <title>Get PTZ Node List</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperGetPTZNodeList
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to retrieve PTZ Node List.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> PTZ Service is received from the DUT.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> None.
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> PTZ Node List (<emphasis role="italic">ptzNodeList</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">GetNodes</emphasis> request.
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">GetNodesResponse</emphasis> with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    PTZNode list =: <emphasis role="italic">ptzNodeList</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">ptzNodeList</emphasis> is empty, FAIL the test.
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetNodesResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
    </section>
    <!--A.4-->
    <section xml:id="Annex_HelperCreateMediaProfile" xreflabel="Annex A.4">
      <title>Create Profile for PTZ Control</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperCreateMediaProfile
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to create Media Profile with Video Source Configuration and PTZ Configuration.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> Media Service is received from the DUT. PTZ Service is received from the DUT.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> Token of the PTZ Node, with which Media Profile should be configured (<emphasis role="italic">ptzNodeToken</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> Media Profile (<emphasis role="italic">profile</emphasis>) with Video Source Configuration and PTZ Configuration.
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>          
          <listitem xml:id="Annex_HelperCreateMediaProfile.1">
            <para>
              ONVIF Client invokes <emphasis role="bold">CreateProfile</emphasis> request with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Name := "testMedia"
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem xml:id="Annex_HelperCreateMediaProfile.2">
            <para>
              DUT responds with <emphasis role="bold">env:Receiver/ter:Action/ter:MaxNVTProfiles</emphasis> SOAP 1.2 fault or with <emphasis role="bold">CreateProfileResponse</emphasis> message with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Profile =: <emphasis role="italic">clearProfile</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If DUT returns <emphasis role="bold">env:Receiver/ter:Action/ter:MaxNVTProfiles</emphasis> SOAP 1.2 fault at step <xref linkend="Annex_HelperCreateMediaProfile.2"/>:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetProfiles</emphasis> request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The DUT responds with <emphasis role="bold">GetProfilesResponse</emphasis> message with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          Profiles list =: <emphasis role="italic">profileList</emphasis>
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">profileList</emphasis> does not contain at least one profile with @fixed = false skip other steps and end test procedure with 'PASSED' result.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">DeleteProfile</emphasis> request with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          Token := @token of item with @fixed = false from <emphasis role="italic">profileList</emphasis>
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The DUT responds with <emphasis role="bold">DeleteProfileResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">CreateProfile</emphasis> request with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          Name := "testMedia"
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT responds with <emphasis role="bold">CreateProfileResponse</emphasis> message with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          Profile =: <emphasis role="italic">clearProfile</emphasis>
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
              </orderedlist>


            </para>
          </listitem>
          <listitem xml:id="Annex_Annex_HelperCreateMediaProfile.4">
            <para>
              ONVIF Client invokes <emphasis role="bold">GetCompatibleVideoSourceConfigurations</emphasis> request with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    ProfileToken := <emphasis role="italic">clearProfile</emphasis>.@token
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">GetCompatibleVideoSourceConfigurationsResponse</emphasis> with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Configurations list =: <emphasis role="italic">videoSourceConfigurationList1</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If DUT does not support Get Compatible Configurations feature:
              <orderedlist numeration="arabic" inheritnum="inherit">
                   <?dbfo label-width="2.5em"?>
                 <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetConfigurations</emphasis> request
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The DUT responds with <emphasis role="bold">GetConfigurationsResponse</emphasis> message with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          PTZConfiguration list =: <emphasis role="italic">ptzConfigurationList</emphasis>
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">ptzConfigurationList</emphasis> does not contain item with <emphasis role="italic">ptzConfiguration</emphasis>.NodeToken = <emphasis role="italic">ptzNodeToken</emphasis>, FAIL the test and skip other steps.

                  </para>
                </listitem>
                 <listitem>
                  <para>
                    For each Video Source Configuration <emphasis role="italic">vsc</emphasis> in <emphasis role="italic">videoSourceConfigurationList1</emphasis> repeat the following steps:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="2.5em"?>                
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">AddVideoSourceConfiguration</emphasis> request with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          ProfileToken := <emphasis role="italic">clearProfile</emphasis>.@token
                      </para>
                      </listitem>


                      <listitem>
                        <para>
                          ConfigurationToken := <emphasis role="italic">vsc</emphasis>.@token
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The DUT responds with <emphasis role="bold">AddVideoSourceConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
               <listitem>
                  <para>
                    For each PTZ Configuration <emphasis role="italic">ptzConfiguration</emphasis> with NodeToken = <emphasis role="italic">ptzNodeToken</emphasis> in <emphasis role="italic">ptzConfigurationList</emphasis> repeat the following steps:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="3.5em"?>    
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">AddPTZConfiguration</emphasis> request with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          ProfileToken := <emphasis role="italic">clearProfile</emphasis>.@token
                      </para>
                      </listitem>
                      <listitem>
                        <para>
                          ConfigurationToken := <emphasis role="italic">ptzConfiguration</emphasis>.@token
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem xml:id="Annex_HelperCreateMediaProfile.AddPTZConfigurationResponse" xreflabel="6.4.3.2">
                  <para>
                    The DUT responds with <emphasis role="bold">AddPTZConfigurationResponse</emphasis> message or with <emphasis role="bold">SOAP fault</emphasis> message.
                  </para>
                </listitem>                      
                 <listitem>
                  <para>
                    If <emphasis role="bold">AddPTZConfigurationResponse</emphasis> message was returned at step <xref linkend="Annex_HelperCreateMediaProfile.AddPTZConfigurationResponse"/>, go to step <xref linkend="Annex_HelperCreateMediaProfile.ReturnProfile1"/>.
                  </para>
                </listitem> 
                      </orderedlist>
                    </para>
                 </listitem>
                    
                      </orderedlist>
                      </para>
                   </listitem>
                 <listitem xml:id="Annex_HelperCreateMediaProfile.ReturnProfile1" xreflabel="6.5">
                  <para>
                    Return <emphasis role="italic">clearProfile</emphasis> and skip other steps.
                </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If DUT supports Get Compatible Configurations feature:
              <itemizedlist>
                <listitem>
                  <para>
                    For each Video Source Configuration <emphasis role="italic">vsc</emphasis> in <emphasis role="italic">videoSourceConfigurationList1</emphasis> repeat the following steps:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="2.5em"?>

                      <listitem>
                        <para>
                          ONVIF Client invokes <emphasis role="bold">AddVideoSourceConfiguration</emphasis> request with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                ProfileToken := <emphasis role="italic">clearProfile</emphasis>.@token
                            </para>
                            </listitem>


                            <listitem>
                              <para>
                                ConfigurationToken := <emphasis role="italic">vsc</emphasis>.@token
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          The DUT responds with <emphasis role="bold">AddVideoSourceConfigurationResponse</emphasis> message.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          ONVIF Client invokes <emphasis role="bold">GetCompatibleConfigurations</emphasis> request with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                ProfileToken := <emphasis role="italic">clearProfile</emphasis>.@token
                            </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          DUT responds with <emphasis role="bold">GetCompatibleConfigurationsResponse</emphasis> message with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                PTZ Configurations list := <emphasis role="italic">ptzConfigList</emphasis>
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          If <emphasis role="italic">ptzConfigList</emphasis> contains PTZConfiguration item (<emphasis role="italic">ptzConfig</emphasis>) with NodeToken = <emphasis role="italic">ptzNodeToken</emphasis>:
                          <itemizedlist>
                            <listitem>
                              <para>
                                ONVIF Client invokes <emphasis role="bold">AddPTZConfiguration</emphasis> request with parameters
                                <itemizedlist>
                                  <listitem>
                                    <para>
                                      ProfileToken := <emphasis role="italic">clearProfile</emphasis>.@token
                                  </para>
                                  </listitem>
                                  <listitem>
                                    <para>
                                      ConfigurationToken := <emphasis role="italic">ptzConfig</emphasis>.@token 
                                    </para>
                                  </listitem>
                                </itemizedlist>
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                DUT responds with <emphasis role="bold">AddPTZConfigurationResponse</emphasis> message.
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Return <emphasis role="italic">clearProfile</emphasis> and skip other steps.
                            </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          If <emphasis role="italic">ptzConfigList</emphasis> does not contain PTZConfiguration item with NodeToken = <emphasis role="italic">ptzNodeToken</emphasis> for all Video Source Configurations from <emphasis role="italic">videoSourceConfigurationList1</emphasis>, FAIL the test and skip other steps.
                        </para>
                      </listitem> 
                    </orderedlist>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">CreateProfileResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetCompatibleVideoSourceConfigurations</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">AddVideoSourceConfigurationResponse</emphasis> message(s).
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">AddPTZConfigurationResponse</emphasis> message(s).
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetCompatibleVideoSourceConfigurationsResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
    </section>
    <!--A.5-->
    <section xml:id="Annex_HelperNodeFeatures" xreflabel="Annex A.5">
      <title>Node's Features</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperNodeFeatures
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to define features of a Node.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> PTZ Service is received from the DUT.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> PTZ Node (<emphasis role="italic">ptzNode</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> Supporting of Continuous Pan/Tilt movement (<emphasis role="italic">continuousPanTilt</emphasis>). Supporting of Continuous Zoom movement (<emphasis role="italic">continuousZoom</emphasis>).
        Supporting of Absolute Pan/Tilt movement (<emphasis role="italic">absolutePanTilt</emphasis>). Supporting of Absolute Zoom movement (<emphasis role="italic">absoluteZoom</emphasis>).
        Supporting of Relative Pan/Tilt movement (<emphasis role="italic">relativePanTilt</emphasis>). Supporting of Relative Zoom movement (<emphasis role="italic">relativeZoom</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <!--Set moveTimeout-->
          <listitem>
            <para>
              Set the following:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    <emphasis role="italic">continuousPanTilt</emphasis> := false
                  </para>
                </listitem>
                <listitem>
                  <para>
                    <emphasis role="italic">continuousZoom</emphasis> := false
                  </para>
                </listitem>
                <listitem>
                  <para>
                    <emphasis role="italic">absolutePanTilt</emphasis> := false
                  </para>
                </listitem>
                <listitem>
                  <para>
                    <emphasis role="italic">absoluteZoom</emphasis> := false
                  </para>
                </listitem>
                <listitem>
                  <para>
                    <emphasis role="italic">relativePanTilt</emphasis> := false
                  </para>
                </listitem>
                <listitem>
                  <para>
                    <emphasis role="italic">relativeZoom</emphasis> := false
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">ptzNode</emphasis> contains at least one SupportedPTZSpaces.ContinuousPanTiltVelocitySpace set <emphasis role="italic">continuousPanTilt</emphasis> := true
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">ptzNode</emphasis> contains at least one SupportedPTZSpaces.ContinuousZoomVelocitySpace set <emphasis role="italic">continuousZoom</emphasis> := true
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">ptzNode</emphasis> contains at least one SupportedPTZSpaces.AbsolutePanTiltPositionSpace set <emphasis role="italic">absolutePanTilt</emphasis> := true
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">ptzNode</emphasis> contains at least one SupportedPTZSpaces.AbsoluteZoomPositionSpace set <emphasis role="italic">absoluteZoom</emphasis> := true
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">ptzNode</emphasis> contains at least one SupportedPTZSpaces.RelativePanTiltTranlation set <emphasis role="italic">relativePanTilt</emphasis> := true
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">ptzNode</emphasis> contains at least one SupportedPTZSpaces.RelativeZoomTranlationSpace set <emphasis role="italic">relativeZoom</emphasis> := true
            </para>
          </listitem>





        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              None.
            </para>
          </listitem>

        </itemizedlist>
      </para>

    </section>
    <!--A.6-->
    <section xml:id="Annex_HelperGetPTZConfOptions" xreflabel="Annex A.6">
      <title>Get PTZ Configuration Options</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperGetPTZConfOptions
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to retrieve PTZ Configuration Options.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> PTZ Service is received from the DUT.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> Configuration Token (<emphasis role="italic">ptzConfToken</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> PTZ Configuration Options (<emphasis role="italic">ptzConfigurationOptions</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">GetConfigurationOptions</emphasis> request with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    ConfigurationToken := <emphasis role="italic">ptzConfToken</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">GetConfigurationOptionsResponse</emphasis> with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    PTZConfigurationOptions =: <emphasis role="italic">ptzConfigurationOptions</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetConfigurationOptionsResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>

    </section>
    <!--A.7-->
    <section xml:id="Annex_HelperMoveToMinPosition" xreflabel="Annex A.7">
      <title>Change PTZ Position to Minimum Position</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperMoveToMinPosition
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to change PTZ position to minimum position for PTZ test cases.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> None.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> Media Profile with PTZ Configuration (<emphasis role="italic">profile</emphasis>). PTZ Configuration Options (<emphasis role="italic">ptzConfigurationOptions</emphasis>).
        Supporting of Absolute Pan/Tilt movement (<emphasis role="italic">absolutePanTilt</emphasis>). Supporting of Absolute Zoom movement (<emphasis role="italic">absoluteZoom</emphasis>).
        Supporting of Continuous Pan/Tilt movement (<emphasis role="italic">continuousPanTilt</emphasis>). Supporting of Continuous Zoom movement (<emphasis role="italic">continuousZoom</emphasis>).
        Supporting of Relative Pan/Tilt movement (<emphasis role="italic">relativePanTilt</emphasis>). Supporting of Relative Zoom movement (<emphasis role="italic">relativeZoom</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> None.
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              If <emphasis role="italic">continuousPanTilt</emphasis> = true or <emphasis role="italic">continuousZoom</emphasis> = true:
              <itemizedlist>
                <listitem>
                  <para>
                    ONVIF Client changes PTZ position to minimum using continuous movement by following the procedure mentioned in <xref linkend="Annex_HelperContinuousMoveTestInitialPosition2"/> with the following input and output parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          in <emphasis role="italic">profile</emphasis> - Media Profile with PTZ Configuration
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          in <emphasis role="italic">ptzConfigurationOptions</emphasis> - PTZ Configuration Options
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          in <emphasis role="italic">continuousPanTilt</emphasis> - Supporting of Continuous Pan/Tilt movement
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          in <emphasis role="italic">continuousZoom</emphasis> - Supporting of Continuous Zoom movement
                        </para>
                      </listitem>

                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Return to test procedure.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">absolutePanTilt</emphasis> = true or <emphasis role="italic">absoluteZoom</emphasis> = true:
              <itemizedlist>
                <listitem>
                  <para>
                    If <emphasis role="italic">absolutePanTilt</emphasis> = true:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="2.5em"?>
                      <listitem>
                        <para>
                          Set <emphasis role="italic">pantiltSpace</emphasis> := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.AbsolutePanTiltPositionSpace[<emphasis role="italic">genericPanTiltSpace</emphasis>], where <emphasis role="italic">genericPanTiltSpace</emphasis> is the index number of the first item on the <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.AbsolutePanTiltPositionSpace list that has URI = "http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace"
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">absoluteZoom</emphasis> = true:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="2.5em"?>
                      <listitem>
                        <para>
                          Set <emphasis role="italic">zoomSpace</emphasis> := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.AbsoluteZoomPositionSpace[<emphasis role="italic">genericZoomSpace</emphasis>], where <emphasis role="italic">genericZoomSpace</emphasis> is the index number of the first item on the <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.AbsoluteZoomPositionSpace list that has URI = "http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace"
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client adjusts Pan/Tilt and Zoom limits if requiered by following the procedure mentioned in <xref linkend="Annex_HelperAdjustLimits"/> with the following input and output parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          in <emphasis role="italic">pantiltSpace</emphasis> - Pan/Tilt Space
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          in <emphasis role="italic">zoomSpace</emphasis> - Zoom Space
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          in <emphasis role="italic">profile</emphasis>.Configurations.PTZ - PTZ Configuration
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          out <emphasis role="italic">profile</emphasis>.Configurations.PTZ - PTZ Configuration with adjusted Pan/Tilt and Zoom limits
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client changes PTZ position to minimum using absolute movement by following the procedure mentioned in <xref linkend="Annex_HelperAbsoluteMoveTestInitialPosition2"/> with the following input and output parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          in <emphasis role="italic">profile</emphasis> - Media Profile with PTZ Configuration
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          in <emphasis role="italic">pantiltSpace</emphasis> - Options for Absolute Pan/Tilt Position Default Space
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          in <emphasis role="italic">zoomSpace</emphasis> - Options for Absolute Zoom Position Default Space
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>

                <listitem>
                  <para>
                    Return to test procedure.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">relativePanTilt</emphasis> = true or <emphasis role="italic">relativeZoom</emphasis> = true:
              <itemizedlist>
                <listitem>
                  <para>
                    If <emphasis role="italic">relativePanTilt</emphasis> = true:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="2.5em"?>
                      <listitem>
                        <para>
                          Set <emphasis role="italic">pantiltSpace</emphasis> := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.RelativePanTiltPositionSpace[<emphasis role="italic">genericPanTiltSpace</emphasis>], where <emphasis role="italic">genericPanTiltSpace</emphasis> is the index number of the first item on the <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.RelativePanTiltPositionSpace list that has URI = "http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace"
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">relativeZoom</emphasis> = true:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="2.5em"?>
                      <listitem>
                        <para>
                          Set <emphasis role="italic">zoomSpace</emphasis> := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.RelativeZoomPositionSpace[<emphasis role="italic">genericZoomSpace</emphasis>], where <emphasis role="italic">genericZoomSpace</emphasis> is the index number of the first item on the <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.RelativeZoomPositionSpace list that has URI = "http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace"
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client changes PTZ position to minimum using relative movement by following the procedure mentioned in <xref linkend="Annex_HelperRelativeMoveTestMinPosition"/> with the following input and output parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          in <emphasis role="italic">profile</emphasis> - Media Profile with PTZ Configuration
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          in <emphasis role="italic">pantiltSpace</emphasis> - Options for Relative Pan/Tilt Position Default Space
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          in <emphasis role="italic">zoomSpace</emphasis> - Options for Relative Zoom Position Default Space
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          in <emphasis role="italic">relativePanTilt</emphasis> - Supporting of Relative Pan/Tilt movement
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          in <emphasis role="italic">relativeZoom</emphasis> - Supporting of Relative Zoom movement
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>

                <listitem>
                  <para>
                    Return to test procedure.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              None.
            </para>
          </listitem>

        </itemizedlist>
      </para>

    </section>
    <!--A.8-->
    <section xml:id="Annex_HelperContinuousMoveTestInitialPosition2" xreflabel="Annex A.8">
      <title>Continuous Move - Change PTZ Position to Initial State</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperContinuousMoveTestInitialPosition2
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to change PTZ position to initial sate for PTZ test cases.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> Media Service is received from the DUT. PTZ Service is received from the DUT. Continuous movement is supported by the DUT.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> PTZ Configuration Options (<emphasis role="italic">ptzConfigurationOptions</emphasis>). Media Profile with PTZ Configuration (<emphasis role="italic">profile</emphasis>).
        Supporting of Continuous Pan/Tilt movement (<emphasis role="italic">continuousPanTilt</emphasis>). Supporting of Continuous Zoom movement (<emphasis role="italic">continuousZoom</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> None.
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <!--Set moveTimeout-->
          <listitem>
            <para>
              Set <emphasis role="italic">moveTimeout</emphasis> := MIN( MAX(PT30S, <emphasis role="italic">ptzConfigurationOptions</emphasis>.PTZTimeout.Min), <emphasis role="italic">ptzConfigurationOptions</emphasis>.PTZTimeout.Max)
            </para>
          </listitem>

          <!--ContinuousMove-->
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">ContinuousMove</emphasis> request with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">continuousPanTilt</emphasis> = true:
                    <itemizedlist>
                      <listitem>
                        <para>
                          Velocity.PanTilt.x := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ContinuousPanTiltVelocitySpace[0].XRange.Min
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Velocity.PanTilt.y := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ContinuousPanTiltVelocitySpace[0].YRange.Min
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Velocity.PanTilt.space := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ContinuousPanTiltVelocitySpace[0].URI
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                  <para>
                    otherwise, Velocity.PanTilt skipped.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">continuousZoom</emphasis> = true:
                    <itemizedlist>
                      <listitem>
                        <para>
                          Velocity.Zoom.x := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ContinuousZoomVelocitySpace[0].XRange.Min
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Velocity.Zoom.space := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ContinuousZoomVelocitySpace[0].URI
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                  <para>
                    otherwise, Velocity.Zoom skipped.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Timeout := <emphasis role="italic">moveTimeout</emphasis>.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">ContinuousMoveResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              Wait until <emphasis role="italic">moveTimeout+timeout1</emphasis> timeout expires.
            </para>
          </listitem>
          <!--Branch Move Status-->
          <listitem>
            <para>
              If DUT supports Move Status:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem xml:id="tc.HelperContinuousMoveTestInitialPosition2.5.1">
                  <para>
                    Until <emphasis role="italic">moveTimeout+timeout1</emphasis> expires repeat the following steps:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="3.5em"?>
                      <listitem>
                        <para>
                          ONVIF Client invokes <emphasis role="bold">GetStatus</emphasis> request with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          The DUT responds with <emphasis role="bold">GetStatusResponse</emphasis> with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                PTZStatus =: <emphasis role="italic">ptzStatus</emphasis>
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          If <emphasis role="italic">continuousPanTilt</emphasis> = true and <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt = IDLE and if <emphasis role="italic">continuousZoom</emphasis> = true and <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom = IDLE, skip other steps, end procedure and return to the test.
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">moveTimeout+timeout1</emphasis> expires for step <link linkend="tc.HelperContinuousMoveTestInitialPosition2.5.1">5.1</link>, FAIL the test and skip other steps.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">ContinuousMoveResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetStatusResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> The DUT features support are defined by the procedure mentioned in [ONVIF Feature Discovery].
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> <emphasis role="italic">timeout1</emphasis> will be taken from Operation Delay field of ONVIF Device Test Tool.
      </para>
    </section>
    <!--A.9-->
    <section xml:id="Annex_HelperAdjustLimits" xreflabel="Annex A.9">
      <title>Adjust Pan/Tilt and Zoom Limits</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperAdjustLimits
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to adjust Pan/Tilt and Zoom limits if requiered.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> None
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> Pan/Tilt Space (<emphasis role="italic">panTiltSpace</emphasis>), could be skipped. Zoom Space (<emphasis role="italic">zoomSpace</emphasis>), could be skipped. PTZ Configuration (<emphasis role="italic">ptzConfiguration</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> PTZ Configuration (<emphasis role="italic">ptzConfiguration</emphasis>) with adjusted Pan/Tilt and Zoom limits.
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              If <emphasis role="italic">panTiltSpace</emphasis> is not skipped:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    If <emphasis role="italic">ptzConfiguration</emphasis>.PanTiltLimits is specified and <emphasis role="italic">ptzConfiguration</emphasis>.PanTiltLimits.Range.URI != <emphasis role="italic">panTiltSpace</emphasis>.URI:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="3.5em"?>
                      <listitem>
                        <para>
                          Set <emphasis role="italic">ptzConfiguration</emphasis>.PanTiltLimits.Range := <emphasis role="italic">panTiltSpace</emphasis>.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Set <emphasis role="italic">updateNeeded</emphasis> := true.
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">zoomSpace</emphasis> is not skipped:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    If <emphasis role="italic">ptzConfiguration</emphasis>.ZoomLimits is specified and <emphasis role="italic">ptzConfiguration</emphasis>.ZoomLimits.Range.URI != <emphasis role="italic">zoomSpace</emphasis>.URI:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="3.5em"?>
                      <listitem>
                        <para>
                          Set <emphasis role="italic">ptzConfiguration</emphasis>.ZoomLimits.Range := <emphasis role="italic">zoomSpace</emphasis>.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Set <emphasis role="italic">updateNeeded</emphasis> := true.
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If updateNeeded = true:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetConfiguration</emphasis> request with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          PTZConfiguration := <emphasis role="italic">ptzConfiguration</emphasis>
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT responds with <emphasis role="bold">SetConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">SetConfigurationResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
    </section>
    <!--A.10-->
    <section xml:id="Annex_HelperAbsoluteMoveTestInitialPosition2" xreflabel="Annex A.10">
      <title>Absolute Move - Change PTZ Position to Initial State</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperAbsoluteMoveTestInitialPosition2
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to change PTZ position to initial sate for PTZ test cases.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> Media Service is received from the DUT. PTZ Service is received from the DUT. Absolute movement is supported by the DUT.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> Pan/Tilt Space (<emphasis role="italic">panTiltSpace</emphasis>). Zoom Space (<emphasis role="italic">zoomSpace</emphasis>). Media Profile with PTZ Configuration (<emphasis role="italic">profile</emphasis>).
        Supporting of Absolute Pan/Tilt movement (<emphasis role="italic">absolutePanTilt</emphasis>). Supporting of Absolute Zoom movement (<emphasis role="italic">absoluteZoom</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> None.
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <!--AbsoluteMove-->
          <listitem xml:id="tc.HelperAbsoluteMoveTestInitialPosition2.1">
            <para>
              ONVIF Client invokes <emphasis role="bold">AbsoluteMove</emphasis> request with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">absolutePanTilt</emphasis> = true:
                    <itemizedlist>
                      <listitem>
                        <para>
                          Position.PanTilt.x := <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.Range.XRange.Min if it is specified, otherwise, <emphasis role="italic">pantiltSpace</emphasis>.XRange.Min
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Position.PanTilt.y := <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.Range.YRange.Min if it is specified, otherwise, <emphasis role="italic">pantiltSpace</emphasis>.YRange.Min
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Position.PanTilt.space := <emphasis role="italic">pantiltSpace</emphasis>.URI
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                  <para>
                    otherwise, Position.PanTilt skipped.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">absoluteZoom</emphasis> = true:
                    <itemizedlist>
                      <listitem>
                        <para>
                          Position.Zoom.x := <emphasis role="italic">profile</emphasis>.Configurations.PTZ.ZoomLimits.Range.XRange.Min if it is specified, otherwise, <emphasis role="italic">zoomSpace</emphasis>.XRange.Min
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Position.Zoom.space := <emphasis role="italic">zoomSpace</emphasis>.URI
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                  <para>
                    otherwise, Position.Zoom skipped.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Position.Speed skipped
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <!--AbsoluteMoveResponse-->
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">AbsoluteMoveResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              Wait until <emphasis role="italic">timeout1</emphasis> timeout expires.
            </para>
          </listitem>
          <!--Branch Move Status-->
          <listitem>
            <para>
              If the DUT supports Move Status:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem xml:id="tc.HelperAbsoluteMoveTestInitialPosition2.4.1">
                  <para>
                    Until <emphasis role="italic">timeout1</emphasis> expires repeat the following steps:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="3.5em"?>
                      <listitem>
                        <para>
                          ONVIF Client invokes <emphasis role="bold">GetStatus</emphasis> request with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          The DUT responds with <emphasis role="bold">GetStatusResponse</emphasis> with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                PTZStatus =: <emphasis role="italic">ptzStatus</emphasis>
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          If <emphasis role="italic">absolutePanTilt</emphasis> = true and <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt = IDLE and if <emphasis role="italic">absoluteZoom</emphasis> = true and <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom = IDLE, skip other steps, end procedure and return to the test.
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">timeout1</emphasis> expires for step <link linkend="tc.HelperAbsoluteMoveTestInitialPosition2.4.1">4.1</link>, FAIL the test and skip other steps.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">AbsoluteMoveResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetStatusResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> The DUT features support are defined by the procedure mentioned in [ONVIF Feature Discovery].
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> <emphasis role="italic">timeout1</emphasis> will be taken from Operation Delay field of ONVIF Device Test Tool.
      </para>
    </section>
    <!--A.11-->
    <section xml:id="Annex_HelperRelativeMoveTestMinPosition" xreflabel="Annex A.11">
      <title>Relative Move - Change PTZ Position to Minimum Position</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperRelativeMoveTestMinPosition
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to change PTZ position to minimum position for PTZ test cases using Relative Move.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> Media Service is received from the DUT. PTZ Service is received from the DUT. Relative movement is supported by the DUT.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> Pan/Tilt Space (<emphasis role="italic">panTiltSpace</emphasis>). Zoom Space (<emphasis role="italic">zoomSpace</emphasis>). Media Profile with PTZ Configuration (<emphasis role="italic">profile</emphasis>).
        Supporting of Relative Pan/Tilt movement (<emphasis role="italic">relativePanTilt</emphasis>). Supporting of Relative Zoom movement (<emphasis role="italic">relativeZoom</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> None.
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <!--RelativeMove-->
          <listitem xml:id="tc.HelperRelativeMoveTestMinPosition.1">
            <para>
              ONVIF Client invokes <emphasis role="bold">RelativeMove</emphasis> request with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">relativePanTilt</emphasis> = true:
                    <itemizedlist>
                      <listitem>
                        <para>
                          Translation.PanTilt.x := <emphasis role="italic">pantiltSpace</emphasis>.XRange.Min
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Translation.PanTilt.y := <emphasis role="italic">pantiltSpace</emphasis>.YRange.Min
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Translation.PanTilt.space := <emphasis role="italic">pantiltSpace</emphasis>.URI
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                  <para>
                    otherwise, Translation.PanTilt skipped.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">relativeZoom</emphasis> = true:
                    <itemizedlist>
                      <listitem>
                        <para>
                          Translation.Zoom.x := <emphasis role="italic">zoomSpace</emphasis>.XRange.Min
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Translation.Zoom.space := <emphasis role="italic">zoomSpace</emphasis>.URI
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                  <para>
                    otherwise, Translation.Zoom skipped.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Translation.Speed skipped
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <!--RelativeMoveResponse-->
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">RelativeMoveResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              Wait until <emphasis role="italic">timeout1</emphasis> timeout expires.
            </para>
          </listitem>
          <!--Branch Move Status-->
          <listitem>
            <para>
              If the DUT supports Move Status:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem xml:id="tc.HelperRelativeMoveTestMinPosition.4.1">
                  <para>
                    Until <emphasis role="italic">timeout1</emphasis> expires repeat the following steps:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="3.5em"?>
                      <listitem>
                        <para>
                          ONVIF Client invokes <emphasis role="bold">GetStatus</emphasis> request with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          The DUT responds with <emphasis role="bold">GetStatusResponse</emphasis> with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                PTZStatus =: <emphasis role="italic">ptzStatus</emphasis>
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          If <emphasis role="italic">relativePanTilt</emphasis> = true and <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt = IDLE and if <emphasis role="italic">relativeZoom</emphasis> = true and <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom = IDLE, skip other steps, end procedure and return to the test.
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">timeout1</emphasis> expires for step <link linkend="tc.HelperRelativeMoveTestMinPosition.4.1">4.1</link>, FAIL the test and skip other steps.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">RelativeMoveResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetStatusResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> <emphasis role="italic">timeout1</emphasis> will be taken from Operation Delay field of ONVIF Device Test Tool.
      </para>
    </section>
    <!--A.12-->
    <section xml:id="Annex_HelperMoveToMaxPosition" xreflabel="Annex A.12">
      <title>Change PTZ Position to Maximum Position</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperMoveToMaxPosition
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to change PTZ position to maximum position for PTZ test cases.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> None.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> Media Profile with PTZ Configuration (<emphasis role="italic">profile</emphasis>). PTZ Configuration Options (<emphasis role="italic">ptzConfigurationOptions</emphasis>).
        Supporting of Absolute Pan/Tilt movement (<emphasis role="italic">absolutePanTilt</emphasis>). Supporting of Absolute Zoom movement (<emphasis role="italic">absoluteZoom</emphasis>).
        Supporting of Continuous Pan/Tilt movement (<emphasis role="italic">continuousPanTilt</emphasis>). Supporting of Continuous Zoom movement (<emphasis role="italic">continuousZoom</emphasis>).
        Supporting of Relative Pan/Tilt movement (<emphasis role="italic">relativePanTilt</emphasis>). Supporting of Relative Zoom movement (<emphasis role="italic">relativeZoom</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> None.
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              If <emphasis role="italic">continuousPanTilt</emphasis> = true or <emphasis role="italic">continuousZoom</emphasis> = true:
              <itemizedlist>
                <listitem>
                  <para>
                    ONVIF Client changes PTZ position to maximum using continuous movement by following the procedure mentioned in <xref linkend="Annex_HelperContinuousMoveTestMaxPosition2"/> with the following input and output parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          in <emphasis role="italic">profile</emphasis> - Media Profile with PTZ Configuration
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          in <emphasis role="italic">ptzConfigurationOptions</emphasis> - PTZ Configuration Options
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          in <emphasis role="italic">continuousPanTilt</emphasis> - Supporting of Continuous Pan/Tilt movement
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          in <emphasis role="italic">continuousZoom</emphasis> - Supporting of Continuous Zoom movement
                        </para>
                      </listitem>

                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Return to test procedure.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">absolutePanTilt</emphasis> = true or <emphasis role="italic">absoluteZoom</emphasis> = true:
              <itemizedlist>
                <listitem>
                  <para>
                    If <emphasis role="italic">absolutePanTilt</emphasis> = true:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="2.5em"?>
                      <listitem>
                        <para>
                          Set <emphasis role="italic">pantiltSpace</emphasis> := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.AbsolutePanTiltPositionSpace[<emphasis role="italic">genericPanTiltSpace</emphasis>], where <emphasis role="italic">genericPanTiltSpace</emphasis> is the index number of the first item on the <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.AbsolutePanTiltPositionSpace list that has URI = "http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace"
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">absoluteZoom</emphasis> = true:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="2.5em"?>
                      <listitem>
                        <para>
                          Set <emphasis role="italic">zoomSpace</emphasis> := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.AbsoluteZoomPositionSpace[<emphasis role="italic">genericZoomSpace</emphasis>], where <emphasis role="italic">genericZoomSpace</emphasis> is the index number of the first item on the <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.AbsoluteZoomPositionSpace list that has URI = "http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace"
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client adjusts Pan/Tilt and Zoom limits if requiered by following the procedure mentioned in <xref linkend="Annex_HelperAdjustLimits"/> with the following input and output parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          in <emphasis role="italic">pantiltSpace</emphasis> - Pan/Tilt Space
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          in <emphasis role="italic">zoomSpace</emphasis> - Zoom Space
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          in <emphasis role="italic">profile</emphasis>.Configurations.PTZ - PTZ Configuration
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          out <emphasis role="italic">profile</emphasis>.Configurations.PTZ - PTZ Configuration with adjusted Pan/Tilt and Zoom limits
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client changes PTZ position to maximum using absolute movement by following the procedure mentioned in <xref linkend="Annex_HelperAbsoluteMoveTestMaxPosition"/> with the following input and output parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          in <emphasis role="italic">profile</emphasis> - Media Profile with PTZ Configuration
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          in <emphasis role="italic">pantiltSpace</emphasis> - Options for Absolute Pan/Tilt Position Default Space
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          in <emphasis role="italic">zoomSpace</emphasis> - Options for Absolute Zoom Position Default Space
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>

                <listitem>
                  <para>
                    Return to test procedure.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">relativePanTilt</emphasis> = true or <emphasis role="italic">relativeZoom</emphasis> = true:
              <itemizedlist>
                <listitem>
                  <para>
                    If <emphasis role="italic">relativePanTilt</emphasis> = true:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="2.5em"?>
                      <listitem>
                        <para>
                          Set <emphasis role="italic">pantiltSpace</emphasis> := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.RelativePanTiltPositionSpace[<emphasis role="italic">genericPanTiltSpace</emphasis>], where <emphasis role="italic">genericPanTiltSpace</emphasis> is the index number of the first item on the <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.RelativePanTiltPositionSpace list that has URI = "http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace"
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">relativeZoom</emphasis> = true:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="2.5em"?>
                      <listitem>
                        <para>
                          Set <emphasis role="italic">zoomSpace</emphasis> := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.RelativeZoomPositionSpace[<emphasis role="italic">genericZoomSpace</emphasis>], where <emphasis role="italic">genericZoomSpace</emphasis> is the index number of the first item on the <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.RelativeZoomPositionSpace list that has URI = "http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace"
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client changes PTZ position to maximum using relative movement by following the procedure mentioned in <xref linkend="Annex_HelperRelativeMoveTestMaxPosition"/> with the following input and output parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          in <emphasis role="italic">profile</emphasis> - Media Profile with PTZ Configuration
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          in <emphasis role="italic">pantiltSpace</emphasis> - Options for Relative Pan/Tilt Position Default Space
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          in <emphasis role="italic">zoomSpace</emphasis> - Options for Relative Zoom Position Default Space
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          in <emphasis role="italic">relativePanTilt</emphasis> - Supporting of Relative Pan/Tilt movement
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          in <emphasis role="italic">relativeZoom</emphasis> - Supporting of Relative Zoom movement
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>

                <listitem>
                  <para>
                    Return to test procedure.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              None.
            </para>
          </listitem>

        </itemizedlist>
      </para>

    </section>
    <!--A.13-->
    <section xml:id="Annex_HelperContinuousMoveTestMaxPosition2" xreflabel="Annex A.13">
      <title>Continuous Move - Change PTZ Position to Maximum Position</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperContinuousMoveTestMaxPosition2
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to change PTZ position to maximum for PTZ test cases.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> Media Service is received from the DUT. PTZ Service is received from the DUT. Continuous movement is supported by the DUT.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> PTZ Configuration Options (<emphasis role="italic">ptzConfigurationOptions</emphasis>). Media Profile with PTZ Configuration (<emphasis role="italic">profile</emphasis>).
        Supporting of Continuous Pan/Tilt movement (<emphasis role="italic">continuousPanTilt</emphasis>). Supporting of Continuous Zoom movement (<emphasis role="italic">continuousZoom</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> None.
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <!--Set moveTimeout-->
          <listitem>
            <para>
              Set <emphasis role="italic">moveTimeout</emphasis> := MIN( MAX(PT30S, <emphasis role="italic">ptzConfigurationOptions</emphasis>.PTZTimeout.Min), <emphasis role="italic">ptzConfigurationOptions</emphasis>.PTZTimeout.Max)
            </para>
          </listitem>


          <!--ContinuousMove-->
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">ContinuousMove</emphasis> request with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">continuousPanTilt</emphasis> = true:
                    <itemizedlist>
                      <listitem>
                        <para>
                          Velocity.PanTilt.x := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ContinuousPanTiltVelocitySpace[0].XRange.Max
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Velocity.PanTilt.y := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ContinuousPanTiltVelocitySpace[0].YRange.Max
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Velocity.PanTilt.space := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ContinuousPanTiltVelocitySpace[0].URI
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                  <para>
                    otherwise, Velocity.PanTilt skipped.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">continuousZoom</emphasis> = true:
                    <itemizedlist>
                      <listitem>
                        <para>
                          Velocity.Zoom.x := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ContinuousZoomVelocitySpace[0].XRange.Max
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Velocity.Zoom.space := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ContinuousZoomVelocitySpace[0].URI
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                  <para>
                    otherwise, Velocity.Zoom skipped.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Timeout := <emphasis role="italic">moveTimeout</emphasis>.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">ContinuousMoveResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              Wait until <emphasis role="italic">moveTimeout+timeout1</emphasis> timeout expires.
            </para>
          </listitem>
          <!--Branch Move Status-->
          <listitem>
            <para>
              If DUT supports Move Status:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem xml:id="tc.HelperContinuousMoveTestMaxPosition2.5.1">
                  <para>
                    Until <emphasis role="italic">moveTimeout+timeout1</emphasis> expires repeat the following steps:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="3.5em"?>
                      <listitem>
                        <para>
                          ONVIF Client invokes <emphasis role="bold">GetStatus</emphasis> request with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          The DUT responds with <emphasis role="bold">GetStatusResponse</emphasis> with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                PTZStatus =: <emphasis role="italic">ptzStatus</emphasis>
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          If <emphasis role="italic">continuousPanTilt</emphasis> = true and <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt = IDLE and if <emphasis role="italic">continuousZoom</emphasis> = true and <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom = IDLE, skip other steps, end procedure and return to the test.
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">moveTimeout+timeout1</emphasis> expires for step <link linkend="tc.HelperContinuousMoveTestMaxPosition2.5.1">5.1</link>, FAIL the test and skip other steps.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">ContinuousMoveResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetStatusResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> The DUT features support are defined by the procedure mentioned in [ONVIF Feature Discovery].
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> <emphasis role="italic">timeout1</emphasis> will be taken from Operation Delay field of ONVIF Device Test Tool.
      </para>
    </section>
    <!--A.14-->
    <section xml:id="Annex_HelperAbsoluteMoveTestMaxPosition" xreflabel="Annex A.14">
      <title>Absolute Move - Change PTZ Position to Maximum Position</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperAbsoluteMoveTestMaxPosition
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to change PTZ position to maximum position for PTZ test cases using Absolute Move.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> Media Service is received from the DUT. PTZ Service is received from the DUT. Absolute movement is supported by the DUT.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> Pan/Tilt Space (<emphasis role="italic">panTiltSpace</emphasis>). Zoom Space (<emphasis role="italic">zoomSpace</emphasis>). Media Profile with PTZ Configuration (<emphasis role="italic">profile</emphasis>).
        Supporting of Absolute Pan/Tilt movement (<emphasis role="italic">absolutePanTilt</emphasis>). Supporting of Absolute Zoom movement (<emphasis role="italic">absoluteZoom</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> None.
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <!--AbsoluteMove-->
          <listitem xml:id="tc.HelperAbsoluteMoveTestMaxPosition.1">
            <para>
              ONVIF Client invokes <emphasis role="bold">AbsoluteMove</emphasis> request with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">absolutePanTilt</emphasis> = true:
                    <itemizedlist>
                      <listitem>
                        <para>
                          Position.PanTilt.x := <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.Range.XRange.Max if it is specified, otherwise, <emphasis role="italic">pantiltSpace</emphasis>.XRange.Max
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Position.PanTilt.y := <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.Range.YRange.Max if it is specified, otherwise, <emphasis role="italic">pantiltSpace</emphasis>.YRange.Max
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Position.PanTilt.space := <emphasis role="italic">pantiltSpace</emphasis>.URI
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                  <para>
                    otherwise, Position.PanTilt skipped.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">absoluteZoom</emphasis> = true:
                    <itemizedlist>
                      <listitem>
                        <para>
                          Position.Zoom.x := <emphasis role="italic">profile</emphasis>.Configurations.PTZ.ZoomLimits.Range.XRange.Max if it is specified, otherwise, <emphasis role="italic">zoomSpace</emphasis>.XRange.Max
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Position.Zoom.space := <emphasis role="italic">zoomSpace</emphasis>.URI
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                  <para>
                    otherwise, Position.Zoom skipped.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Position.Speed skipped
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <!--AbsoluteMoveResponse-->
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">AbsoluteMoveResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              Wait until <emphasis role="italic">timeout1</emphasis> timeout expires.
            </para>
          </listitem>
          <!--Branch Move Status-->
          <listitem>
            <para>
              If the DUT supports Move Status:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem xml:id="tc.HelperAbsoluteMoveTestMaxPosition.4.1">
                  <para>
                    Until <emphasis role="italic">timeout1</emphasis> expires repeat the following steps:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="3.5em"?>
                      <listitem>
                        <para>
                          ONVIF Client invokes <emphasis role="bold">GetStatus</emphasis> request with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          The DUT responds with <emphasis role="bold">GetStatusResponse</emphasis> with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                PTZStatus =: <emphasis role="italic">ptzStatus</emphasis>
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          If <emphasis role="italic">absolutePanTilt</emphasis> = true and <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt = IDLE and if <emphasis role="italic">absoluteZoom</emphasis> = true and <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom = IDLE, skip other steps, end procedure and return to the test.
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">timeout1</emphasis> expires for step <link linkend="tc.HelperAbsoluteMoveTestMaxPosition.4.1">4.1</link>, FAIL the test and skip other steps.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">AbsoluteMoveResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetStatusResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> The DUT features support are defined by the procedure mentioned in [ONVIF Feature Discovery].
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> <emphasis role="italic">timeout1</emphasis> will be taken from Operation Delay field of ONVIF Device Test Tool.
      </para>
    </section>
    <!--A.15-->
    <section xml:id="Annex_HelperRelativeMoveTestMaxPosition" xreflabel="Annex A.15">
      <title>Relative Move - Change PTZ Position to Maximum Position</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperRelativeMoveTestMaxPosition
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to change PTZ position to maximum position for PTZ test cases using Relative Move.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> Media Service is received from the DUT. PTZ Service is received from the DUT. Relative movement is supported by the DUT.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> Pan/Tilt Space (<emphasis role="italic">panTiltSpace</emphasis>). Zoom Space (<emphasis role="italic">zoomSpace</emphasis>). Media Profile with PTZ Configuration (<emphasis role="italic">profile</emphasis>).
        Supporting of Relative Pan/Tilt movement (<emphasis role="italic">relativePanTilt</emphasis>). Supporting of Relative Zoom movement (<emphasis role="italic">relativeZoom</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> None.
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <!--RelativeMove-->
          <listitem xml:id="tc.HelperRelativeMoveTestMaxPosition.1">
            <para>
              ONVIF Client invokes <emphasis role="bold">RelativeMove</emphasis> request with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">relativePanTilt</emphasis> = true:
                    <itemizedlist>
                      <listitem>
                        <para>
                          Translation.PanTilt.x := <emphasis role="italic">pantiltSpace</emphasis>.XRange.Max
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Translation.PanTilt.y := <emphasis role="italic">pantiltSpace</emphasis>.YRange.Max
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Translation.PanTilt.space := <emphasis role="italic">pantiltSpace</emphasis>.URI
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                  <para>
                    otherwise, Translation.PanTilt skipped.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">relativeZoom</emphasis> = true:
                    <itemizedlist>
                      <listitem>
                        <para>
                          Translation.Zoom.x := <emphasis role="italic">zoomSpace</emphasis>.XRange.Max
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Translation.Zoom.space := <emphasis role="italic">zoomSpace</emphasis>.URI
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                  <para>
                    otherwise, Translation.Zoom skipped.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Translation.Speed skipped
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <!--RelativeMoveResponse-->
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">RelativeMoveResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              Wait until <emphasis role="italic">timeout1</emphasis> timeout expires.
            </para>
          </listitem>
          <!--Branch Move Status-->
          <listitem>
            <para>
              If the DUT supports Move Status:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem xml:id="tc.HelperRelativeMoveTestMaxPosition.4.1">
                  <para>
                    Until <emphasis role="italic">timeout1</emphasis> expires repeat the following steps:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="3.5em"?>
                      <listitem>
                        <para>
                          ONVIF Client invokes <emphasis role="bold">GetStatus</emphasis> request with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          The DUT responds with <emphasis role="bold">GetStatusResponse</emphasis> with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                PTZStatus =: <emphasis role="italic">ptzStatus</emphasis>
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          If <emphasis role="italic">relativePanTilt</emphasis> = true and <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt = IDLE and if <emphasis role="italic">relativeZoom</emphasis> = true and <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom = IDLE, skip other steps, end procedure and return to the test.
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">timeout1</emphasis> expires for step <link linkend="tc.HelperRelativeMoveTestMaxPosition.4.1">4.1</link>, FAIL the test and skip other steps.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">RelativeMoveResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetStatusResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> <emphasis role="italic">timeout1</emphasis> will be taken from Operation Delay field of ONVIF Device Test Tool.
      </para>
    </section>
    <!--A.16-->
    <section xml:id="Annex_NameParameters" xreflabel="Annex A.16">
      <title>Name Parameters</title>
      <para>
        There are the following limitations on maximum length of the Name parameters that shall be used during tests by ONVIF Device Test Tool to prevent faults from DUT:
        <itemizedlist>
          <listitem>
            <para>
              Name shall be less than or equal to 64 characters (only readable characters accepted).
            </para>
          </listitem>
          <listitem>
            <para>
              Token shall be less than or equal to 64 characters (only readable characters are accepted).
            </para>
          </listitem>
          <listitem>
            <para>
              UTF-8 character set shall be used for Name.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> these limitations will not be used, if ONVIF Device Test Tool reuses values that were received from the DUT.
      </para>
    </section>
    <!--A.17-->
    <section xml:id="Annex_HelperMediaProfileConfiguration" xreflabel="Annex A.17">
      <title>Media Profile Configuration for PTZ Control</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperMediaProfileConfiguration
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to find, create or configure Media Profile with Video Source Configuration and PTZ Configuration.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> Media2 Service is received from the DUT. PTZ Service is received from the DUT. GetCompatibleConfigurations is supported by Device as indicated by the GetCompatibleConfigurations = true capability.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> Token of the PTZ Node, with which Media Profile should be configured (<emphasis role="italic">ptzNodeToken</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> Media Profile (<emphasis role="italic">profile</emphasis>) with Video Source Configuration and PTZ Configuration.
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">GetProfiles</emphasis> request with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Token skipped
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Type[0] := PTZ
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Type[1] := VideoSource
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">GetProfilesResponse</emphasis> message with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Profiles list =: <emphasis role="italic">profileList</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">profileList</emphasis> is empty, FAIL the test and skip other steps.
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">profileList</emphasis> contains Media Profile, which includes Configurations.PTZ.NodeToken = <emphasis role="italic">ptzNodeToken</emphasis>:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    Set <emphasis role="italic">profile</emphasis> := item from <emphasis role="italic">profileList</emphasis> list, which includes Configurations.PTZ.NodeToken = <emphasis role="italic">ptzNodeToken</emphasis>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">profile</emphasis> does not contain Configurations.VideoSource:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="3.5em"?>
                      <listitem>
                        <para>
                          ONVIF Client adds Video Source to Media Profile by following the procedure mentioned in <xref linkend="Annex_HelperMediaProfileConfigurationVS"/> with the following input and output parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                in <emphasis role="italic">profile</emphasis> - Media Profile
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                out <emphasis role="italic">profile</emphasis> - Media Profile with Video Source Configuration
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Skip other steps in the procedure.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <!--<listitem>
            <para>
              Set <emphasis role="italic">profile</emphasis> := <emphasis role="italic">profileList</emphasis>[0]
            </para>
          </listitem>-->
          <listitem>
            <para>
              For each profile (<emphasis role="italic">profile</emphasis>) with Video Source Configuration from <emphasis role="italic">profileList</emphasis>:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>

                <!--<listitem>
            <para>
              If <emphasis role="italic">profile</emphasis> does not contain Configurations.VideoSource:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    ONVIF Client adds Video Source to Media Profile by following the procedure mentioned in <xref linkend="Annex_HelperMediaProfileConfigurationVS"/> with the following input and output parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          in <emphasis role="italic">profile</emphasis> - Media Profile
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          out <emphasis role="italic">profile</emphasis> - Media Profile with Video Source Configuration
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>-->
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetCompatibleConfigurations</emphasis> request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The DUT responds with <emphasis role="bold">GetCompatibleConfigurationsResponse</emphasis> message with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          PTZConfiguration list =: <emphasis role="italic">ptzConfigurationList</emphasis>
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">ptzConfigurationList</emphasis> contains item with NodeToken = <emphasis role="italic">ptzNodeToken</emphasis>:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="3.5em"?>
                      <listitem>
                        <para>
                          ONVIF Client invokes <emphasis role="bold">AddConfiguration</emphasis> request with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Name skipped
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Configuration[0].Type := PTZ
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Configuration[0].Token := <emphasis role="italic">ptzConfiguration</emphasis>.@token
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          The DUT responds with <emphasis role="bold">AddConfigurationResponse</emphasis> message.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Return <emphasis role="italic">profile</emphasis> and skip other steps.
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>

                <!--<listitem>
                  <para>
                    Set <emphasis role="italic">ptzConfiguration</emphasis> := item from <emphasis role="italic">ptzConfigurationList</emphasis> list with NodeToken = <emphasis role="italic">ptzNodeToken</emphasis>
                  </para>
                </listitem>-->


              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              FAIL the test and skip other steps.
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetProfilesResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetConfigurationsResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">AddConfigurationResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
    </section>
    <!--A.18-->
    <section xml:id="Annex_HelperMediaProfileConfigurationVS" xreflabel="Annex A.18">
      <title>Media Profile Configuration with Video Source Configuration</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperMediaProfileConfigurationVS
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to add Video Source Configuration to Media Profile.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> Media2 Service is received from the DUT. PTZ Service is received from the DUT.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> Media Profile (<emphasis role="italic">profile</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> Media Profile (<emphasis role="italic">profile</emphasis>) with Video Source Configuration.
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurations</emphasis> request with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    ConfigurationToken skipped
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ProfileToken = <emphasis role="italic">profile</emphasis>.@token
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Configurations list =: <emphasis role="italic">videoSourceConfigurationList</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">videoSourceConfigurationList</emphasis> is empty, FAIL the test and skip other steps.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">AddConfiguration</emphasis> request with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Name skipped
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Configuration[0].Type := VideoSource
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Configuration[0].Token := <emphasis role="italic">videoSourceConfigurationList</emphasis>[0]
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">AddConfigurationResponse</emphasis> message.
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">AddConfigurationResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
    </section>
    <!--A.19-->
    <section xml:id="Annex_HelperVerifyPTZConfOptions" xreflabel="Annex A.19">
      <title>Verify PTZ Configuration Options</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperValidatePTZConfOptions
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to verify PTZ Configuration Options.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> None
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> PTZ Configuration Options (<emphasis role="italic">ptzConfigurationOptions</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> None
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              If <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces is empty, FAIL the test and skip other steps.
            </para>
          </listitem>
          <listitem>
            <para>
              If the DUT supports Absolute Pan/Tilt Movement for PTZ Node selected on Management tab:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    If <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.AbsolutePanTiltPositionSpace list does not contain item with URI = "http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace", FAIL the test and skip other steps.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If the DUT supports Absolute Zoom Movement for PTZ Node selected on Management tab:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    If <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.AbsoluteZoomPositionSpace list does not contain item with URI = "http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace", FAIL the test and skip other steps.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If the DUT supports Continuous Pan/Tilt Movement for PTZ Node selected on Management tab:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    If <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ContinuousPanTiltVelocitySpace list does not contain item with URI = "http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace", FAIL the test and skip other steps.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If the DUT supports Continuous Zoom Movement for PTZ Node selected on Management tab:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    If <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ContinuousZoomVelocitySpace list does not contain item with URI = "http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace", FAIL the test and skip other steps.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If the DUT supports Relative Pan/Tilt Movement for PTZ Node selected on Management tab:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    If <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.RelativePanTiltTranslationSpace list does not contain item with URI = "http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace", FAIL the test and skip other steps.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If the DUT supports Relative Zoom Movement for PTZ Node selected on Management tab:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    If <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.RelativeZoomTranslationSpace list does not contain item with URI = "http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace", FAIL the test and skip other steps.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If the DUT supports Speed for Pan/Tilt for PTZ Node selected on Management tab:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    If <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.PanTiltSpeedSpace list does not contain item with URI = "http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace", FAIL the test and skip other steps.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If the DUT supports Speed for Zoom for PTZ Node selected on Management tab:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    If <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ZoomSpeedSpace list does not contain item with URI = "http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace", FAIL the test and skip other steps.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">ptzConfigurationOptions</emphasis>.PTZTimeout.Min > <emphasis role="italic">ptzConfigurationOptions</emphasis>.PTZTimeout.Max, FAIL the test and skip other steps.
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              None.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> The DUT features support are defined by the procedure mentioned in [ONVIF Feature Discovery].
      </para>
    </section>
    <!--A.20-->
    <section xml:id="Annex_HelperConfigureDefaultAbsoluteSpaces" xreflabel="Annex A.20">
      <title>Configure Default Absolute Spaces</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperConfigureDefaultAbsoluteSpaces
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to configure Default Absolute Spaces and adjast Pan/Tilt and Zoom limits if requiered.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> None
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> PTZ Configuration Options (<emphasis role="italic">ptzConfigurationOptions</emphasis>). Media Profile with PTZ Configuration (<emphasis role="italic">profile</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> Media Profile with PTZ Configuration with configured Absolute Position Default Spaces (<emphasis role="italic">profile</emphasis>). Options for Absolute Pan/Tilt Position Default Space (<emphasis role="italic">pantiltSpace</emphasis>). Options for Absolute Zoom Position Default Space (<emphasis role="italic">zoomSpace</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              If the DUT supports Absolute Pan/Tilt Movement for PTZ Node selected on Management tab:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    Set <emphasis role="italic">pantiltSpace</emphasis> := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.AbsolutePanTiltPositionSpace[0].
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">profile</emphasis>.Configurations.PTZ.DefaultAbsolutePantTiltPositionSpace != pantiltSpace.URI:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="3.5em"?>
                      <listitem>
                        <para>
                          Set <emphasis role="italic">profile</emphasis>.Configurations.PTZ.DefaultAbsolutePantTiltPositionSpace := pantiltSpace.URI.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Set <emphasis role="italic">updateNeeded</emphasis> := true.
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits is specified and <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.Range.URI != <emphasis role="italic">pantiltSpace</emphasis>.URI:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="3.5em"?>
                      <listitem>
                        <para>
                          Set <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.Range := <emphasis role="italic">pantiltSpace</emphasis>.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Set <emphasis role="italic">updateNeeded</emphasis> := true.
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If the DUT supports Absolute Zoom Movement for PTZ Node selected on Management tab:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    Set <emphasis role="italic">zoomSpace</emphasis> := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.AbsoluteZoomPositionSpace[0].
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">profile</emphasis>.Configurations.PTZ.DefaultAbsoluteZoomPositionSpace != zoomSpace.URI:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="3.5em"?>
                      <listitem>
                        <para>
                          Set <emphasis role="italic">profile</emphasis>.Configurations.PTZ.DefaultAbsoluteZoomPositionSpace := zoomSpace.URI.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Set <emphasis role="italic">updateNeeded</emphasis> := true.
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">profile</emphasis>.Configurations.PTZ.ZoomLimits is specified and <emphasis role="italic">profile</emphasis>.Configurations.PTZ.ZoomLimits.Range.URI != <emphasis role="italic">zoomSpace</emphasis>.URI:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="3.5em"?>
                      <listitem>
                        <para>
                          Set <emphasis role="italic">profile</emphasis>.Configurations.PTZ.ZoomLimits.Range := <emphasis role="italic">zoomSpace</emphasis>.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Set <emphasis role="italic">updateNeeded</emphasis> := true.
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If updateNeeded = true:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetConfiguration</emphasis> request with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          PTZConfiguration := <emphasis role="italic">profile</emphasis>.Configurations.PTZ
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT responds with <emphasis role="bold">SetConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">SetConfigurationResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> The DUT features support are defined by the procedure mentioned in [ONVIF Feature Discovery].
      </para>
    </section>
    <!--A.21-->
    <section xml:id="Annex_HelperAbsoluteMoveTestInitialPosition" xreflabel="Annex A.21">
      <title>Absolute Move - Change PTZ Position to Initial State</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperAbsoluteMoveTestInitialPosition
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to change PTZ position to initial sate for PTZ test cases.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> Media2 Service is received from the DUT. PTZ Service is received from the DUT. Absolute movement is supported by the DUT for PTZ Node selected on Management tab or by 1st PTZ Node (if PTZ node is not selected on Management tab) .
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> Pan/Tilt Space (<emphasis role="italic">panTiltSpace</emphasis>). Zoom Space (<emphasis role="italic">zoomSpace</emphasis>). Media Profile with PTZ Configuration (<emphasis role="italic">profile</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> None.
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <!--AbsoluteMove-->
          <listitem xml:id="tc.HelperAbsoluteMoveTestInitialPosition.1">
            <para>
              ONVIF Client invokes <emphasis role="bold">AbsoluteMove</emphasis> request with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If the DUT supports Absolute Pan/Tilt Movement for PTZ Node selected on Management tab:
                    <itemizedlist>
                      <listitem>
                        <para>
                          Position.PanTilt.x := <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.Range.XRange.Min if it is specified, otherwise, <emphasis role="italic">pantiltSpace</emphasis>.XRange.Min
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Position.PanTilt.y := <emphasis role="italic">profile</emphasis>.Configurations.PTZ.PanTiltLimits.Range.YRange.Min if it is specified, otherwise, <emphasis role="italic">pantiltSpace</emphasis>.YRange.Min
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Position.PanTilt.space := <emphasis role="italic">pantiltSpace</emphasis>.URI
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                  <para>
                    otherwise, Position.PanTilt skipped.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If the DUT supports Absolute Zoom Movement for PTZ Node selected on Management tab:
                    <itemizedlist>
                      <listitem>
                        <para>
                          Position.Zoom.x := <emphasis role="italic">profile</emphasis>.Configurations.PTZ.ZoomLimits.Range.XRange.Min if it is specified, otherwise, <emphasis role="italic">zoomSpace</emphasis>.XRange.Min
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Position.Zoom.space := <emphasis role="italic">zoomSpace</emphasis>.URI
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                  <para>
                    otherwise, Position.Zoom skipped.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Position.Speed skipped
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <!--AbsoluteMoveResponse-->
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">AbsoluteMoveResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              Wait until <emphasis role="italic">timeout1</emphasis> timeout expires.
            </para>
          </listitem>
          <!--Branch Move Status-->
          <listitem>
            <para>
              If the DUT supports Move Status:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem xml:id="tc.HelperAbsoluteMoveTestInitialPosition.4.1">
                  <para>
                    Until <emphasis role="italic">timeout1</emphasis> expires repeat the following steps:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="3.5em"?>
                      <listitem>
                        <para>
                          ONVIF Client invokes <emphasis role="bold">GetStatus</emphasis> request with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          The DUT responds with <emphasis role="bold">GetStatusResponse</emphasis> with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                PTZStatus =: <emphasis role="italic">ptzStatus</emphasis>
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          If the DUT supports Absolute Pan/Tilt Movement for PTZ Node selected on Management tab and <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt = IDLE and if the DUT supports Absolute Zoom Movement and <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom = IDLE, skip other steps, end procedure and return to the test.
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">timeout1</emphasis> expires for step <link linkend="tc.HelperAbsoluteMoveTestInitialPosition.4.1">4.1</link>, FAIL the test and skip other steps.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">AbsoluteMoveResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetStatusResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> The DUT features support are defined by the procedure mentioned in [ONVIF Feature Discovery].
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> <emphasis role="italic">timeout1</emphasis> will be taken from Operation Delay field of ONVIF Device Test Tool.
      </para>
    </section>
    <!--A.22-->
    <section xml:id="Annex_HelperContinuousMoveTestInitialPosition" xreflabel="Annex A.22">
      <title>Continuous Move - Change PTZ Position to Initial State</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperContinuousMoveTestInitialPosition
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to change PTZ position to initial sate for PTZ test cases.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> Media2 Service is received from the DUT. PTZ Service is received from the DUT. Continuous movement is supported by the DUT for PTZ Node selected on Management tab or by 1st PTZ Node (if PTZ node is not selected on Management tab) .
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> PTZ Configuration Options (<emphasis role="italic">ptzConfigurationOptions</emphasis>). Media Profile with PTZ Configuration (<emphasis role="italic">profile</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> None.
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <!--Set moveTimeout-->
          <listitem>
            <para>
              Set <emphasis role="italic">moveTimeout</emphasis> := MIN( MAX(PT30S, <emphasis role="italic">ptzConfigurationOptions</emphasis>.PTZTimeout.Min), <emphasis role="italic">ptzConfigurationOptions</emphasis>.PTZTimeout.Max)
            </para>
          </listitem>
          <!--ContinuousMove-->
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">ContinuousMove</emphasis> request with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If the DUT supports Continuous Pan/Tilt Movement for PTZ Node selected on Management tab:
                    <itemizedlist>
                      <listitem>
                        <para>
                          Velocity.PanTilt.x := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ContinuousPanTiltVelocitySpace[0].XRange.Min
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Velocity.PanTilt.y := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ContinuousPanTiltVelocitySpace[0].YRange.Min
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Velocity.PanTilt.space := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ContinuousPanTiltVelocitySpace[0].URI
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                  <para>
                    otherwise, Velocity.PanTilt skipped.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If the DUT supports Continuous Zoom Movement for PTZ Node selected on Management tab:
                    <itemizedlist>
                      <listitem>
                        <para>
                          Velocity.Zoom.x := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ContinuousZoomVelocitySpace[0].XRange.Min
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Velocity.Zoom.space := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ContinuousZoomVelocitySpace[0].URI
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                  <para>
                    otherwise, Velocity.Zoom skipped.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Timeout := <emphasis role="italic">moveTimeout</emphasis>.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">ContinuousMoveResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              Wait until <emphasis role="italic">moveTimeout+timeout1</emphasis> timeout expires.
            </para>
          </listitem>
          <!--Branch Move Status-->
          <listitem>
            <para>
              If the DUT supports Move Status:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem xml:id="tc.HelperContinuousMoveTestInitialPosition.5.1">
                  <para>
                    Until <emphasis role="italic">moveTimeout+timeout1</emphasis> expires repeat the following steps:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="3.5em"?>
                      <listitem>
                        <para>
                          ONVIF Client invokes <emphasis role="bold">GetStatus</emphasis> request with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          The DUT responds with <emphasis role="bold">GetStatusResponse</emphasis> with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                PTZStatus =: <emphasis role="italic">ptzStatus</emphasis>
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          If the DUT supports Continuous Pan/Tilt Movement for PTZ Node selected on Management tab and <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt = IDLE and if the DUT supports Continuous Zoom Movement and <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom = IDLE, skip other steps, end procedure and return to the test.
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">moveTimeout+timeout1</emphasis> expires for step <link linkend="tc.HelperContinuousMoveTestInitialPosition.5.1">5.1</link>, FAIL the test and skip other steps.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">ContinuousMoveResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetStatusResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> The DUT features support are defined by the procedure mentioned in [ONVIF Feature Discovery].
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> <emphasis role="italic">timeout1</emphasis> will be taken from Operation Delay field of ONVIF Device Test Tool.
      </para>
    </section>
    <!--A.23-->
    <section xml:id="Annex_HelperContinuousMoveTestMaxPosition" xreflabel="Annex A.23">
      <title>Continuous Move - Change PTZ Position to Maximum Position</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperContinuousMoveTestMaxPosition
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to change PTZ position to maximum for PTZ test cases.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> Media2 Service is received from the DUT. PTZ Service is received from the DUT. Continuous movement is supported by the DUT.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> PTZ Configuration Options (<emphasis role="italic">ptzConfigurationOptions</emphasis>). Media Profile with PTZ Configuration (<emphasis role="italic">profile</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> None.
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <!--Set moveTimeout-->
          <listitem>
            <para>
              Set <emphasis role="italic">moveTimeout</emphasis> := MIN( MAX(PT30S, <emphasis role="italic">ptzConfigurationOptions</emphasis>.PTZTimeout.Min), <emphasis role="italic">ptzConfigurationOptions</emphasis>.PTZTimeout.Max)
            </para>
          </listitem>
          <!--ContinuousMove-->
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">ContinuousMove</emphasis> request with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If the DUT supports Continuous Pan/Tilt Movement:
                    <itemizedlist>
                      <listitem>
                        <para>
                          Velocity.PanTilt.x := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ContinuousPanTiltVelocitySpace[0].XRange.Max
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Velocity.PanTilt.y := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ContinuousPanTiltVelocitySpace[0].YRange.Max
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Velocity.PanTilt.space := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ContinuousPanTiltVelocitySpace[0].URI
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                  <para>
                    otherwise, Velocity.PanTilt skipped.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If the DUT supports Continuous Zoom Movement:
                    <itemizedlist>
                      <listitem>
                        <para>
                          Velocity.Zoom.x := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ContinuousZoomVelocitySpace[0].XRange.Max
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Velocity.Zoom.space := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.ContinuousZoomVelocitySpace[0].URI
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                  <para>
                    otherwise, Velocity.Zoom skipped.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Timeout := <emphasis role="italic">moveTimeout</emphasis>.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">ContinuousMoveResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              Wait until <emphasis role="italic">moveTimeout+timeout1</emphasis> timeout expires.
            </para>
          </listitem>
          <!--Branch Move Status-->
          <listitem>
            <para>
              If the DUT supports Move Status:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem xml:id="tc.HelperContinuousMoveTestMaxPosition.5.1">
                  <para>
                    Until <emphasis role="italic">moveTimeout+timeout1</emphasis> expires repeat the following steps:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="3.5em"?>
                      <listitem>
                        <para>
                          ONVIF Client invokes <emphasis role="bold">GetStatus</emphasis> request with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          The DUT responds with <emphasis role="bold">GetStatusResponse</emphasis> with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                PTZStatus =: <emphasis role="italic">ptzStatus</emphasis>
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          If the DUT supports Continuous Pan/Tilt Movement and <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.PanTilt = IDLE and if the DUT supports Continuous Zoom Movement and <emphasis role="italic">ptzStatus</emphasis>.MoveStatus.Zoom = IDLE, skip other steps, end procedure and return to the test.
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">moveTimeout+timeout1</emphasis> expires for step <link linkend="tc.HelperContinuousMoveTestMaxPosition.5.1">5.1</link>, FAIL the test and skip other steps.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">ContinuousMoveResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetStatusResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> The DUT features support are defined by the procedure mentioned in [ONVIF Feature Discovery].
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> <emphasis role="italic">timeout1</emphasis> will be taken from Operation Delay field of ONVIF Device Test Tool.
      </para>
    </section>
    <!--A.24-->
    <section xml:id="Annex_HelperGetAbsolutePositionSpace" xreflabel="Annex A.24">
      <title>Get Absolute Pan/Tilt and Zoom Position Space</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperGetAbsolutePositionSpace
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to get new Pan/Tilt and Zoom position spaces.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> Media2 Service is received from the DUT. PTZ Service is received from the DUT. Continuous movement is supported by the DUT.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> Media Profile with PTZ Configuration (<emphasis role="italic">profile</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> Pan/Tilt Space (<emphasis role="italic">pantiltSpace</emphasis>), Zoom Space (<emphasis role="italic">zoomSpace</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <!--Set moveTimeout-->
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">GetConfigurationOptions</emphasis> request with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    ConfigurationToken := <emphasis role="italic">profile</emphasis>.Configurations.PTZ.@token
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">GetConfigurationOptionsResponse</emphasis> with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    PTZConfigurationOptions =: <emphasis role="italic">ptzConfigurationOptions</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client verifies PTZ Configuration Options by following the procedure mentioned in <xref linkend="Annex_HelperVerifyPTZConfOptions"/> with the following input and output parameters
              <itemizedlist>
                <listitem>
                  <para>
                    in <emphasis role="italic">ptzConfigurationOptions</emphasis> - PTZ Configuration Options
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If the DUT supports Absolute Pan/Tilt Movement:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    Set <emphasis role="italic">pantiltSpace</emphasis> := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.AbsolutePanTiltPositionSpace[<emphasis role="italic">genericPanTiltSpace</emphasis>], where <emphasis role="italic">genericPanTiltSpace</emphasis> is the index number of the first item on the <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.AbsolutePanTiltPositionSpace list that has URI = "http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace"
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If the DUT supports Absolute Zoom Movement:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    Set <emphasis role="italic">zoomSpace</emphasis> := <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.AbsoluteZoomPositionSpace[<emphasis role="italic">genericZoomSpace</emphasis>], where <emphasis role="italic">genericZoomSpace</emphasis> is the index number of the first item on the <emphasis role="italic">ptzConfigurationOptions</emphasis>.Spaces.AbsoluteZoomPositionSpace list that has URI = "http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace"
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>



        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetConfigurationOptionsResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
    </section>
    <!--A.25-->
    <section xml:id="Annex_HelperGetServiceCapabilities" xreflabel="Annex A.25">
      <title>Get Service Capabilities</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperGetServiceCapabilities
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to retrieve Media2 Service Capabilities.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> Media2 Service is received from the DUT.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> None.
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> Media2 Service Capabilities (<emphasis role="italic">cap</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">GetServiceCapabilities</emphasis> request.
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">GetServiceCapabilitiesResponse</emphasis> message with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Capabilities =: <emphasis role="italic">cap</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetServiceCapabilitiesResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
    </section>
    <!--A.26-->
    <section xml:id="Annex_HelperDeleteMediaProfileWhenMaxProfiles" xreflabel="Annex A.26">
      <title>Delete Media Profile if Max Reached</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperDeleteMediaProfileWhenMaxProfiles
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to delete Media Profile if maximum number of Media Profiles is reached.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> Media2 Service is received from the DUT.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> None.
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> None.
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              ONVIF Client retrieves Media2 Service Capabilities by following the procedure mentioned in <xref linkend="Annex_HelperGetServiceCapabilities"/> with the following input and output parameters
              <itemizedlist>
                <listitem>
                  <para>
                    out <emphasis role="italic">cap</emphasis> - Media2 Service Capabilities
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">GetProfiles</emphasis> request with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Token skipped
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Type[0] := All
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">GetProfilesResponse</emphasis> message with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Profiles list =: <emphasis role="italic">profileList</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              <!--<annotation>
                <para>Current implementation have the loop: while (profiles.Length >= nMaxNumberProfiles)</para>
              </annotation>-->
              If number of items in <emphasis role="italic">profileList</emphasis> = <emphasis role="italic">cap</emphasis>.ProfileCapabilities.MaximumNumberOfProfiles:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    <!--<annotation>
                      <para>Current implementation try to delete profiles with fixed=true</para>
                    </annotation>-->
                    If <emphasis role="italic">profileList</emphasis> does not contain items with @fixed = false, FAIL the test and skip other steps.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">DeleteProfile</emphasis> request with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          Token := @token of item with @fixed = false from <emphasis role="italic">profileList</emphasis>
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The DUT responds with <emphasis role="bold">DeleteProfileResponse</emphasis> message.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetProfilesResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">DeleteProfileResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
    </section>
    <!--A.27-->
    <section xml:id="Annex_HelperCreateMedia2Profile" xreflabel="Annex A.27">
      <title>Create Profile for PTZ Control (Media2)</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperCreateMedia2Profile
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to create Media Profile with Video Source Configuration and PTZ Configuration.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> Media2 Service is received from the DUT. PTZ Service is received from the DUT.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> Token of the PTZ Node, with which Media Profile should be configured (<emphasis role="italic">ptzNodeToken</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> Media Profile (<emphasis role="italic">profile</emphasis>) with Video Source Configuration and PTZ Configuration.
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              ONVIF Client deletes Media Profile if Maximum Number of Media Profiles is reached by following the procedure mentioned in <xref linkend="Annex_HelperDeleteMediaProfileWhenMaxProfiles"/>.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">CreateProfile</emphasis> request with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Name := "testMedia"
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Configuration list - skipped
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              DUT responds with <emphasis role="bold">CreateProfileResponse</emphasis> message with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Token =: <emphasis role="italic">clearProfileToken1</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurations</emphasis> request with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    ConfigurationToken skipped
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ProfileToken := <emphasis role="italic">clearProfileToken1</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Configurations list =: <emphasis role="italic">videoSourceConfigurationList1</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>

          <listitem>
            <para>
              For each Video Source Configuration <emphasis role="italic">videoSourceConfiguration</emphasis> in <emphasis role="italic">videoSourceConfList</emphasis> repeat the following steps:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">AddConfiguration</emphasis> request with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          ProfileToken := <emphasis role="italic">clearProfileToken1</emphasis>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Name skipped
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration[0].Type := VideoSource
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration[0].Token := <emphasis role="italic">videoSourceConfiguration</emphasis>.@token
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The DUT responds with <emphasis role="bold">AddConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetCompatibleConfigurations</emphasis> request with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          ProfileToken := <emphasis role="italic">clearProfileToken1</emphasis>
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The DUT responds with <emphasis role="bold">GetCompatibleConfigurationsResponse</emphasis> message with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          PTZConfiguration list =: <emphasis role="italic">ptzConfigurationList</emphasis>
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">ptzConfigurationList</emphasis> contains item with <emphasis role="italic">ptzConfiguration</emphasis>.NodeToken = <emphasis role="italic">ptzNodeToken</emphasis>:
                    <orderedlist numeration="arabic" inheritnum="inherit">
                      <?dbfo label-width="3.5em"?>
                      <listitem>
                        <para>
                          ONVIF Client invokes <emphasis role="bold">AddConfiguration</emphasis> request with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                ProfileToken := <emphasis role="italic">clearProfileToken1</emphasis>
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Name skipped
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Configuration[0].Type := PTZ
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Configuration[0].Token := <emphasis role="italic">ptzConfiguration</emphasis>.@token
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          The DUT responds with <emphasis role="bold">AddConfigurationResponse</emphasis> message.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Return <emphasis role="italic">profile</emphasis> with @token = <emphasis role="italic">clearProfileToken1</emphasis> and skip other steps.
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>


                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">RemoveConfiguration</emphasis> request with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          ProfileToken = <emphasis role="italic">clearProfileToken1</emphasis>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration[0].Type = VideoSource
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration[0].Token skipped
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The DUT responds with <emphasis role="bold">RemoveConfigurationResponse</emphasis> message.
                  </para>
                </listitem>

              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              FAIL the test and skip other steps.
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">CreateProfileResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">AddConfigurationResponse</emphasis> message(s).
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetCompatibleConfigurationsResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">RemoveConfigurationResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
    </section>
    <!--A.28-->
    <section xml:id="Annex_HelperConfigureEmptyMediaProfile" xreflabel="Annex A.28">
      <title>Configure Empty Media Profile</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperConfigureEmptyMediaProfile
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to create of configure an empty Media Profile (Media Service).
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> Media Service is received from the DUT. 
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> Media Profile List (<emphasis role="italic">profileList</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> Empty Media Profile (<emphasis role="italic">profile</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">CreateProfile</emphasis> request with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Name := TestName
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem xml:id="Annex_HelperConfigureEmptyMediaProfile.2" xreflabel="2">
            <para>
              DUT responds with <emphasis role="bold">env:Receiver/ter:Action/ter:MaxNVTProfiles</emphasis> SOAP 1.2 fault or with <emphasis role="bold">CreateProfileResponse</emphasis> message with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Profile =: <emphasis role="italic">profile</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If DUT returns <emphasis role="bold">env:Receiver/ter:Action/ter:MaxNVTProfiles</emphasis> SOAP 1.2 fault at step <xref linkend="Annex_HelperConfigureEmptyMediaProfile.2"/>:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    Set <emphasis role="italic">profile</emphasis> := <emphasis role="italic">profileList</emphasis>[0]
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client removes all configurations from <emphasis role="italic">profile</emphasis>.
                  </para>
                </listitem>                
              </orderedlist>


            </para>
          </listitem>       
          
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">CreateProfileResponse</emphasis> message.
            </para>
          </listitem>          
        </itemizedlist>
      </para>
    </section>
  </appendix>
</book>