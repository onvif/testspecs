<?xml version="1.0" encoding="UTF-8"?>
<!--For PDF version (standard)-->
<!-- <?xml-stylesheet href="docbook/xsl/fo/docbook.xsl" type="text/xsl" ?>-->
<!--For PDF version-->
<!-- <?xml-stylesheet href="ONVIF-stylesheets/onvif-specification-fo-us.xsl" type="text/xsl" ?>-->
<!--For online version-->
<?xml-stylesheet href="docbook-css/docbook.xsl" type="text/xsl" ?>
<!--For PDF version - New ONVIF-->
<!--<?xml-stylesheet href="../ONVIFNew-stylesheets/onvif-specification-fo-us.xsl" type="text/xsl" ?>-->
<book xmlns="http://docbook.org/ns/docbook"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      xmlns:xhtml="http://www.w3.org/1999/xhtml"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:xml="http://www.w3.org/XML/1998/namespace"
      xsi:schemaLocation="http://docbook.org/ns/docbook http://docbook.org/xml/5.0/xsd/docbook.xsd"
      version="0.1"
      xml:id="ONVIF_RTSS_Media_Device_TS">
  <info>
    <orgname>
      <phrase>
        <trademark class="registered">ONVIF</trademark>
      </phrase>
    </orgname>
    <title>Real Time Streaming Device Test Specification</title>
    <titleabbrev>Real Time Streaming Device Test Spec</titleabbrev>
    <subtitle>Version 21.06</subtitle>
    <date>June 2021</date>
    <copyright>
      <year>2021</year>
      <holder>ONVIF, Inc. All rights reserved.</holder>
    </copyright>
    <address>
      <uri>www.onvif.org</uri>
    </address>
    <legalnotice role="notices">
      <para>
        Recipients of this document may copy, distribute, publish, or display this
        document so long as this copyright notice, license and disclaimer are retained with
        all copies of the document. No license is granted to modify this document.
      </para>
      <para>
        THIS DOCUMENT IS PROVIDED "AS IS," AND THE CORPORATION AND ITS MEMBERS AND THEIR
        AFFILIATES, MAKE NO REPRESENTATIONS OR WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT
        NOT LIMITED TO, WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE,
        NON-INFRINGEMENT, OR TITLE; THAT THE CONTENTS OF THIS DOCUMENT ARE SUITABLE FOR ANY
        PURPOSE; OR THAT THE IMPLEMENTATION OF SUCH CONTENTS WILL NOT INFRINGE ANY PATENTS,
        COPYRIGHTS, TRADEMARKS OR OTHER RIGHTS.
      </para>
      <para>
        IN NO EVENT WILL THE CORPORATION OR ITS MEMBERS OR THEIR AFFILIATES BE LIABLE FOR
        ANY DIRECT, INDIRECT, SPECIAL, INCIDENTAL, PUNITIVE OR CONSEQUENTIAL DAMAGES,
        ARISING OUT OF OR RELATING TO ANY USE OR DISTRIBUTION OF THIS DOCUMENT, WHETHER OR
        NOT (1) THE CORPORATION, MEMBERS OR THEIR AFFILIATES HAVE BEEN ADVISED OF THE
        POSSIBILITY OF SUCH DAMAGES, OR (2) SUCH DAMAGES WERE REASONABLY FORESEEABLE, AND
        ARISING OUT OF OR RELATING TO ANY USE OR DISTRIBUTION OF THIS DOCUMENT. THE
        FOREGOING DISCLAIMER AND LIMITATION ON LIABILITY DO NOT APPLY TO, INVALIDATE, OR
        LIMIT REPRESENTATIONS AND WARRANTIES MADE BY THE MEMBERS AND THEIR RESPECTIVE
        AFFILIATES TO THE CORPORATION AND OTHER MEMBERS IN CERTAIN WRITTEN POLICIES OF THE
        CORPORATION.
      </para>
    </legalnotice>
    <revhistory>
      <revision>
        <revnumber>13.06</revnumber>
        <date>June, 2013</date>
        <revdescription>
          <para>
            First issue. The document was created by splitting Media Test Specification.
          </para>
          <para>
            The following test cases were added or updated with ID change:
          </para>
          <para>MEDIA CONTROL – RTSP/TCP</para>
          <para>MEDIA STREAMING – RTSP KEEPALIVE (SET_PARAMETER)</para>
          <para>MEDIA STREAMING - RTSP KEEPALIVE (OPTIONS)</para>
          <para>MEDIA STREAMING – JPEG (RTP-Unicast / UDP)</para>
          <para>MEDIA STREAMING – JPEG (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>MEDIA STREAMING – JPEG (RTP/RTSP/TCP)</para>
          <para>MEDIA STREAMING – MPEG4 (RTP-Unicast/ UDP)</para>
          <para>MEDIA STREAMING – MPEG4 (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>MEDIA STREAMING – MPEG4 (RTP/RTSP/TCP)</para>
          <para>SET SYNCHRONIZATION POINT – MPEG4</para>
          <para>MEDIA STREAMING – H.264 (RTP-Unicast/ UDP)</para>
          <para>MEDIA STREAMING – H.264 (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>MEDIA STREAMING – H.264 (RTP/RTSP/TCP)</para>
          <para>SET SYNCHRONIZATION POINT – H.264</para>
          <para>MEDIA STREAMING – RTP-Unicast/RTSP/HTTP/TCP (LINE BREAKS IN BASE64 ENCODING)</para>
          <para>VIDEO ENCODER CONFIGURATION – JPEG RESOLUTION</para>
          <para>VIDEO ENCODER CONFIGURATION – MPEG4 RESOLUTION</para>
          <para>VIDEO ENCODER CONFIGURATION – H.264 RESOLUTION</para>
          <para>VIDEO ENCODER CONFIGURATION – JPEG RESOLUTION (ALL RESOLUTIONS)</para>
          <para>VIDEO ENCODER CONFIGURATION – MPEG4 RESOLUTION (ALL RESOLUTIONS)</para>
          <para>VIDEO ENCODER CONFIGURATION – H.264 RESOLUTION (ALL RESOLUTIONS)</para>
          <para>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/UDP) (ALL VIDEO SOURCE CONFIGURATIONS)</para>
          <para>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/RTSP/HTTP/TCP) (ALL VIDEO SOURCE CONFIGURATIONS)</para>
          <para>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP/RTSP/TCP) (ALL VIDEO SOURCE CONFIGURATIONS)</para>
          <para>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (MIX OF TRANSPORT TYPES) (ALL VIDEO SOURCE CONFIGURATIONS)</para>
          <para>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/UDP)</para>
          <para>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP/RTSP/TCP)</para>
          <para>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (MIX OF TRANSPORT TYPES)</para>
          <para>MEDIA STREAMING – JPEG (VALIDATING RTP HEADER EXTENSION)</para>
          <para>MEDIA STREAMING – JPEG (RTP-Multicast/UDP, IPv4)</para>
          <para>MEDIA STREAMING – MPEG4 (RTP-Multicast/UDP, IPv4)</para>
          <para>MEDIA STREAMING – H.264 (RTP-Multicast/UDP, IPv4)</para>
          <para>MEDIA STREAMING – JPEG (RTP-Multicast/UDP, IPv6)</para>
          <para>MEDIA STREAMING – MPEG4 (RTP-Multicast/UDP, IPv6)</para>
          <para>MEDIA STREAMING – H.264 (RTP-Multicast/UDP, IPv6)</para>
          <para>VIDEO ENCODER CONFIGURATION – MULTICAST PORT (IPv4)</para>
          <para>VIDEO ENCODER CONFIGURATION – MULTICAST ADDRESS (IPv4)</para>
          <para>VIDEO ENCODER CONFIGURATION – MULTICAST ADDRESS AND PORT IN RTSP SETUP (IPv4)</para>
          <para>VIDEO ENCODER CONFIGURATION – MULTICAST ADDRESS AND PORT IN RTSP SETUP (IPv6)</para>
          <para>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Multicast/UDP) (ALL VIDEO SOURCE CONFIGURATIONS)</para>
          <para>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Multicast/UDP)</para>
          <para>MEDIA STREAMING – G.711 (RTP-Unicast/UDP)</para>
          <para>MEDIA STREAMING – G.711 (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>MEDIA STREAMING – G.711 (RTP/RTSP/TCP)</para>
          <para>MEDIA STREAMING – G.726 (RTP-Unicast/UDP)</para>
          <para>MEDIA STREAMING – G.726 (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>MEDIA STREAMING – G.726 (RTP/RTSP/TCP)</para>
          <para>MEDIA STREAMING – AAC (RTP-Unicast/UDP)</para>
          <para>MEDIA STREAMING – AAC (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>MEDIA STREAMING – AAC (RTP/RTSP/TCP)</para>
          <para>AUDIO STREAMING – G.711 (RTP-Unicast/UDP)</para>
          <para>AUDIO STREAMING – G.711 (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>AUDIO STREAMING – G.711 (RTP/RTSP/TCP)</para>
          <para>AUDIO STREAMING – G.726 (RTP-Unicast/UDP)</para>
          <para>AUDIO STREAMING – G.726 (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>AUDIO STREAMING – G.726 (RTP/RTSP/TCP)</para>
          <para>AUDIO STREAMING – AAC (RTP-Unicast/UDP)</para>
          <para>AUDIO STREAMING – AAC (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>AUDIO STREAMING – AAC (RTP/RTSP/TCP)</para>
          <para>AUDIO ENCODER CONFIGURATION – MULTICAST PORT (IPv4)</para>
          <para>AUDIO ENCODER CONFIGURATION – MULTICAST ADDRESS (IPv4)</para>
          <para>MEDIA STREAMING – G.711 (RTP-Multicast/UDP, IPv4)</para>
          <para>MEDIA STREAMING – G.711 (RTP-Multicast/UDP, IPv6)</para>
          <para>MEDIA STREAMING – G.726 (RTP-Multicast/UDP, IPv4)</para>
          <para>MEDIA STREAMING – G.726 (RTP-Multicast/UDP, IPv6)</para>
          <para>MEDIA STREAMING – AAC (RTP-Multicast/UDP, IPv4)</para>
          <para>MEDIA STREAMING – AAC (RTP-Multicast/UDP, IPv6)</para>
          <para>MEDIA STREAMING – JPEG/G.711 (RTP-Unicast/ UDP)</para>
          <para>MEDIA STREAMING – JPEG/G.711 (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>MEDIA STREAMING – JPEG/G.711 (RTP/RTSP/TCP)</para>
          <para>MEDIA STREAMING – JPEG/G.726 (RTP-Unicast/ UDP)</para>
          <para>MEDIA STREAMING – JPEG/G.726 (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>MEDIA STREAMING – JPEG/G.726 (RTP/RTSP/TCP)</para>
          <para>MEDIA STREAMING – JPEG/AAC (RTP-Unicast/ UDP)</para>
          <para>MEDIA STREAMING – JPEG/AAC (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>MEDIA STREAMING – JPEG/AAC (RTP/RTSP/TCP)</para>
          <para>MEDIA STREAMING – JPEG/G.711 (RTP-Multicast/UDP, IPv4)</para>
          <para>MEDIA STREAMING – JPEG/G.711 (RTP-Multicast/UDP, IPv6)</para>
          <para>MEDIA STREAMING – JPEG/G.726 (RTP-Multicast/UDP, IPv4)</para>
          <para>MEDIA STREAMING – JPEG/G.726 (RTP-Multicast/UDP, IPv6)</para>
          <para>MEDIA STREAMING – JPEG/AAC (RTP-Multicast/UDP, IPv4)</para>
          <para>MEDIA STREAMING – JPEG/AAC (RTP-Multicast/UDP, IPv6)</para>
          <para>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</para>
          <para>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT ADDRESS</para>
          <para>NOTIFICATION STREAMING</para>
          <para>START AND STOP MULTICAST STREAMING – JPEG (IPv4)</para>
          <para>START AND STOP MULTICAST STREAMING – G.711 (IPv4)</para>
          <para>START AND STOP MULTICAST STREAMING – JPEG/G.711 (IPv4)</para>
          <para>START AND STOP MULTICAST STREAMING – G.711 (IPv4, ONLY AUDIO PROFILE)</para>
          <para>START AND STOP MULTICAST STREAMING – G.726 (IPv4, ONLY AUDIO PROFILE)</para>
          <para>START AND STOP MULTICAST STREAMING – AAC (IPv4, ONLY AUDIO PROFILE)</para>

          <para>The following Annexes were added or updated:</para>
          <para>Annex A.9 Create Empty Profile</para>
          <para>Annex A.10 Find or Create Media Profile Containing Specified Audio Encoder Configuration</para>
          <para>Annex A.11 Configure Multicast Settings for Configurations that are Included in Profile</para>
          <para>Annex A.12 Find or Create Media Profile Containing Specified Video Encoder Configuration</para>
          <para>Annex A.13 Find or Create Media Profile Containing Specified Video Encoder Configuration with Possibility to Set Specified Encoding</para>
          <para>Annex A.14 Find or Create Specified Number of Profiles that Contains Specified Video Source Configuration and Video Encoder Configuration</para>
          <para>Annex A.20 Media Profile Select or Creation for Audio and Video Streaming</para>
          <para>Annex A.21 Media Profile Creation for Video Streaming</para>
          <para>Annex A.22 Name and Token Parameters Maximum Length</para>

        </revdescription>
      </revision>
      <revision>
        <revnumber>13.12</revnumber>
        <date>December, 2013</date>
        <revdescription>
          <para>The following test cases were added:</para>
          <para>MEDIA STREAMING – JPEG (RTP-Unicast/UDP, IPv6)</para>
          <para>MEDIA STREAMING – JPEG (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – JPEG (RTP/RTSP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – MPEG4 (RTP-Unicast/UDP, IPv6)</para>
          <para>MEDIA STREAMING – MPEG4 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – MPEG4 (RTP/RTSP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – H.264 (RTP-Unicast/UDP, IPv6)</para>
          <para>MEDIA STREAMING – H.264 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – H.264 (RTP/RTSP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – G.711 (RTP-Unicast/UDP, IPv6)</para>
          <para>MEDIA STREAMING – G.711 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – G.711 (RTP/RTSP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – G.726 (RTP-Unicast/UDP, IPv6)</para>
          <para>MEDIA STREAMING – G.726 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – G.726 (RTP/RTSP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – AAC (RTP-Unicast/UDP, IPv6)</para>
          <para>MEDIA STREAMING – AAC (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – AAC (RTP/RTSP/TCP, IPv6)</para>
          <para>AUDIO STREAMING – G.711 (RTP-Unicast/UDP, IPv6)</para>
          <para>AUDIO STREAMING – G.711 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>AUDIO STREAMING – G.711 (RTP/RTSP/TCP, IPv6)</para>
          <para>AUDIO STREAMING – G.726 (RTP-Unicast/UDP, IPv6)</para>
          <para>AUDIO STREAMING – G.726 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>AUDIO STREAMING – G.726 (RTP/RTSP/TCP, IPv6)</para>
          <para>AUDIO STREAMING – AAC (RTP-Unicast/UDP, IPv6)</para>
          <para>AUDIO STREAMING – AAC (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>AUDIO STREAMING – AAC (RTP/RTSP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – JPEG/G.711 (RTP-Unicast/UDP, IPv6)</para>
          <para>MEDIA STREAMING – JPEG/G.711 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – JPEG/G.711 (RTP/RTSP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – JPEG/G.726 (RTP-Unicast/UDP, IPv6)</para>
          <para>MEDIA STREAMING – JPEG/G.726 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – JPEG/G.726 (RTP/RTSP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – JPEG/AAC (RTP-Unicast/UDP, IPv6)</para>
          <para>MEDIA STREAMING – JPEG/AAC (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – JPEG/AAC (RTP/RTSP/TCP, IPv6)</para>

          <para>The following Annexes were added:</para>
          <para>A.23	Turn on IPv6 network interface</para>
          <para>A.24	Restore Network Settings</para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>13.12</revnumber>
        <date>December, 2013</date>
        <revdescription>
          <para>The pre-requisites were updated for all test cases</para>
          <para>The following test cases were added or changed:</para>
          <para>VIDEO ENCODER CONFIGURATION – JPEG RESOLUTION</para>
          <para>VIDEO ENCODER CONFIGURATION – MPEG4 RESOLUTION</para>
          <para>VIDEO ENCODER CONFIGURATION – H.264 RESOLUTION</para>
          <para>MEDIA STREAMING – JPEG (RTP-Unicast/UDP, IPv6)</para>
          <para>MEDIA STREAMING – JPEG (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – JPEG (RTP/RTSP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – MPEG4 (RTP-Unicast/UDP, IPv6)</para>
          <para>MEDIA STREAMING – MPEG4 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – MPEG4 (RTP/RTSP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – H.264 (RTP-Unicast/UDP, IPv6)</para>
          <para>MEDIA STREAMING – H.264 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – H.264 (RTP/RTSP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – G.711 (RTP-Unicast/UDP, IPv6)</para>
          <para>MEDIA STREAMING – G.711 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – G.711 (RTP/RTSP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – G.726 (RTP-Unicast/UDP, IPv6)</para>
          <para>MEDIA STREAMING – G.726 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – G.726 (RTP/RTSP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – AAC (RTP-Unicast/UDP, IPv6)</para>
          <para>MEDIA STREAMING – AAC (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – AAC (RTP/RTSP/TCP, IPv6)</para>
          <para>AUDIO STREAMING – G.711 (RTP-Unicast/UDP, IPv6)</para>
          <para>AUDIO STREAMING – G.711 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>AUDIO STREAMING – G.711 (RTP/RTSP/TCP, IPv6)</para>
          <para>AUDIO STREAMING – G.726 (RTP-Unicast/UDP, IPv6)</para>
          <para>AUDIO STREAMING – G.726 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>AUDIO STREAMING – G.726 (RTP/RTSP/TCP, IPv6)</para>
          <para>AUDIO STREAMING – AAC (RTP-Unicast/UDP, IPv6)</para>
          <para>AUDIO STREAMING – AAC (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>AUDIO STREAMING – AAC (RTP/RTSP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – JPEG/G.711 (RTP-Unicast/UDP, IPv6)</para>
          <para>MEDIA STREAMING – JPEG/G.711 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – JPEG/G.711 (RTP/RTSP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – JPEG/G.726 (RTP-Unicast/UDP, IPv6)</para>
          <para>MEDIA STREAMING – JPEG/G.726 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – JPEG/G.726 (RTP/RTSP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – JPEG/AAC (RTP-Unicast/UDP, IPv6)</para>
          <para>MEDIA STREAMING – JPEG/AAC (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>MEDIA STREAMING – JPEG/AAC (RTP/RTSP/TCP, IPv6)</para>


        </revdescription>
      </revision>
      <revision>
        <revnumber>15.06</revnumber>
        <date>June, 2015</date>
        <revdescription>
          <para>
            The following test cases were added:
          </para>
          <para>BACKCHANNEL – G.711 (RTP-Unicast/UDP) IPv4</para>
          <para>BACKCHANNEL – G.711 (RTP-Unicast/RTSP/HTTP/TCP) IPv4</para>
          <para>BACKCHANNEL – G.711 (RTP/RTSP/TCP) IPv4</para>
          <para>BACKCHANNEL – G.726 (RTP- Unicast /UDP) IPv4</para>
          <para>BACKCHANNEL – G.726 (RTP- Unicast/RTSP/HTTP/TCP) IPv4</para>
          <para>BACKCHANNEL – G.726 (RTP/RTSP/TCP) IPv4</para>
          <para>BACKCHANNEL – AAC (RTP-Unicast/UDP) IPv4</para>
          <para>BACKCHANNEL – AAC (RTP-Unicast/RTSP/HTTP/TCP) IPv4</para>
          <para>BACKCHANNEL – AAC (RTP/RTSP/TCP) IPv4</para>
          <para>BACKCHANNEL – G.711 (RTP-Multicast/UDP) IPv4</para>
          <para>BACKCHANNEL – G.726 (RTP-Multicast/UDP) IPv4</para>
          <para>BACKCHANNEL – AAC (RTP-Multicast/UDP) IPv4</para>
          <para>A.25	Media Profile Configuration for Backchannel Audio Streaming</para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>16.01</revnumber>
        <date>January, 2016</date>
        <revdescription>
          <para>
            The note to take into account the optional elements (number of profiles for JPEG, H264 or MPEG) has been removed from A.14
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>17.01</revnumber>
        <date>December, 2017</date>
        <revdescription>
          <para>
            Minor changes: references to Annexes were updated


          </para>
          <para>

            MEDIA CONTROL – RTSP/TCP test case was updated

          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>17.12</revnumber>
        <date>August 31, 2017</date>
        <revdescription>
          <para>
            The following Annex was added according to #1285:
          </para>
          <para>
            RTSP Authentication Check
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>17.12</revnumber>
        <date>October 04, 2017</date>
        <revdescription>
          <para>The following test cases were removed according to #1474:</para>
          <para>BACKCHANNEL – G.711 (RTP-Multicast/UDP, IPv4)</para>
          <para>BACKCHANNEL – G.726 (RTP-Multicast/UDP, IPv4)</para>
          <para>BACKCHANNEL – AAC (RTP-Multicast/UDP, IPv4)</para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>18.06</revnumber>
        <date>June, 2018</date>
        <revdescription>
          <para>Reformatting document using new template</para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>18.12</revnumber>
        <date>Dec 21, 2018</date>
        <revdescription>
          <para>Switching Hub description in 'Network Configuration for DUT' section was updated according to #1737</para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>18.12</revnumber>
        <date>Dec 24, 2018</date>
        <revdescription>
          <para>The following test cases were added according to #1697:</para>
          <para>BACKCHANNEL STREAMING BY POST – G.711 (RTP-Unicast/RTSP/HTTP/TCP, IPv4)</para>
          <para>BACKCHANNEL STREAMING BY POST – G.726 (RTP-Unicast/RTSP/HTTP/TCP, IPv4)</para>
          <para>BACKCHANNEL STREAMING BY POST – AAC (RTP-Unicast/RTSP/HTTP/TCP, IPv4)</para>
          <para>The following test cases were changed to be consistency with implementation according to #1697:</para>
          <para>BACKCHANNEL – G.711 (RTP-Unicast/RTSP/HTTP/TCP, IPv4)</para>
          <para>BACKCHANNEL – G.726 (RTP-Unicast/RTSP/HTTP/TCP, IPv4)</para>
          <para>BACKCHANNEL – AAC (RTP-Unicast/RTSP/HTTP/TCP, IPv4)</para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>19.06</revnumber>
        <date>Feb 04, 2019</date>
        <revdescription>
          <para>The following annexes were added according to #1773:</para>
          <para>The following annexes were added according to #1773:</para>
          <para>Annex A.27 Video Encoder Configuration – Resolution Selection (added)</para>
          <para>Annex A.28 Video Encoder Configuration – Frame Rate Selection (added)</para>
          <para>Note with link to Annex A.28 was added according to #1773 to the following test cases:</para>
          <para>RTSS-1-1-24 VIDEO ENCODER CONFIGURATION – JPEG RESOLUTION (ALL RESOLUTIONS)</para>
          <para>RTSS-1-1-25 VIDEO ENCODER CONFIGURATION – MPEG4 RESOLUTION (ALL RESOLUTIONS)</para>
          <para>RTSS-1-1-26 VIDEO ENCODER CONFIGURATION – H.264 RESOLUTION (ALL RESOLUTIONS)</para>
          <para>RTSS-1-1-46 VIDEO ENCODER CONFIGURATION – JPEG RESOLUTION</para>
          <para>RTSS-1-1-47 VIDEO ENCODER CONFIGURATION – MPEG4 RESOLUTION</para>
          <para>RTSS-1-1-48 VIDEO ENCODER CONFIGURATION – H.264 RESOLUTION</para>
          <para>RTSS-1-1-53 MEDIA STREAMING – JPEG (VALIDATING RTP HEADER EXTENSION)</para>
          <para>Note with link to Annex A.27 and Annex A.28 was added according to #1773 to the following test cases:</para>
          <para>RTSS-1-1-27 MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/UDP)</para>
          <para>RTSS-1-1-28 MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>RTSS-1-1-29 MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP/RTSP/TCP)</para>
          <para>RTSS-1-1-30 MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (MIX OF TRANSPORT TYPES)</para>
          <para>RTSS-1-1-31 MEDIA CONTROL – RTSP/TCP</para>
          <para>RTSS-1-1-32 MEDIA STREAMING – RTSP KEEPALIVE (SET_PARAMETER)</para>
          <para>RTSS-1-1-33 MEDIA STREAMING - RTSP KEEPALIVE (OPTIONS)</para>
          <para>RTSS-1-1-34 MEDIA STREAMING – JPEG (RTP-Unicast / UDP)</para>
          <para>RTSS-1-1-35 MEDIA STREAMING – JPEG (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>RTSS-1-1-36 MEDIA STREAMING – JPEG (RTP/RTSP/TCP)</para>
          <para>RTSS-1-1-37 MEDIA STREAMING – MPEG4 (RTP-Unicast/ UDP)</para>
          <para>RTSS-1-1-38 MEDIA STREAMING – MPEG4 (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>RTSS-1-1-39 MEDIA STREAMING – MPEG4 (RTP/RTSP/TCP)</para>
          <para>RTSS-1-1-40 SET SYNCHRONIZATION POINT – MPEG4</para>
          <para>RTSS-1-1-41 MEDIA STREAMING – H.264 (RTP-Unicast/ UDP)</para>
          <para>RTSS-1-1-42 MEDIA STREAMING – H.264 (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>RTSS-1-1-43 MEDIA STREAMING – H.264 (RTP/RTSP/TCP)</para>
          <para>RTSS-1-1-44 SET SYNCHRONIZATION POINT – H.264</para>
          <para>RTSS-1-1-45 MEDIA STREAMING – RTP-Unicast/RTSP/HTTP/TCP (LINE BREAKS IN BASE64 ENCODING)</para>
          <para>RTSS-1-1-49 MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/UDP) (ALL VIDEO SOURCE CONFIGURATIONS)</para>
          <para>RTSS-1-1-50 MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/RTSP/HTTP/TCP) (ALL VIDEO SOURCE CONFIGURATIONS)</para>
          <para>RTSS-1-1-51 MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP/RTSP/TCP) (ALL VIDEO SOURCE CONFIGURATIONS)</para>
          <para>RTSS-1-1-52 MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (MIX OF TRANSPORT TYPES) (ALL VIDEO SOURCE CONFIGURATIONS)</para>
          <para>RTSS-1-1-54 MEDIA STREAMING – JPEG (RTP-Unicast/UDP, IPv6)</para>
          <para>RTSS-1-1-55 MEDIA STREAMING – JPEG (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>RTSS-1-1-56 MEDIA STREAMING – JPEG (RTP/RTSP/TCP, IPv6)</para>
          <para>RTSS-1-1-57 MEDIA STREAMING – MPEG4 (RTP-Unicast/UDP, IPv6)</para>
          <para>RTSS-1-1-58 MEDIA STREAMING – MPEG4 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>RTSS-1-1-59 MEDIA STREAMING – MPEG4 (RTP/RTSP/TCP, IPv6)</para>
          <para>RTSS-1-1-60 MEDIA STREAMING – H.264 (RTP-Unicast/UDP, IPv6)</para>
          <para>RTSS-1-1-61 MEDIA STREAMING – H.264 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>RTSS-1-1-62 MEDIA STREAMING – H.264 (RTP/RTSP/TCP, IPv6)</para>
          <para>RTSS-1-2-12 MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Multicast/UDP)</para>
          <para>RTSS-1-2-13 MEDIA STREAMING – JPEG (RTP-Multicast/UDP, IPv4)</para>
          <para>RTSS-1-2-14 MEDIA STREAMING – MPEG4 (RTP-Multicast/UDP, IPv4)</para>
          <para>RTSS-1-2-15 MEDIA STREAMING – H.264 (RTP-Multicast/UDP, IPv4)</para>
          <para>RTSS-1-2-16 MEDIA STREAMING – JPEG (RTP-Multicast/UDP, IPv6)</para>
          <para>RTSS-1-2-17 MEDIA STREAMING – MPEG4 (RTP-Multicast/UDP, IPv6)</para>
          <para>RTSS-1-2-18 MEDIA STREAMING – H.264 (RTP-Multicast/UDP, IPv6)</para>
          <para>RTSS-1-2-19 VIDEO ENCODER CONFIGURATION – MULTICAST PORT (IPv4)</para>
          <para>RTSS-1-2-20 VIDEO ENCODER CONFIGURATION – MULTICAST ADDRESS (IPv4)</para>
          <para>RTSS-1-2-21 VIDEO ENCODER CONFIGURATION – MULTICAST ADDRESS AND PORT IN RTSP SETUP (IPv4)</para>
          <para>RTSS-1-2-22 VIDEO ENCODER CONFIGURATION – MULTICAST ADDRESS AND PORT IN RTSP SETUP (IPv6)</para>
          <para>RTSS-1-2-23 MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Multicast/UDP) (ALL VIDEO SOURCE CONFIGURATIONS)</para>
          <para>RTSS-3-1-10 MEDIA STREAMING – JPEG/G.711 (RTP-Unicast/ UDP)</para>
          <para>RTSS-3-1-11 MEDIA STREAMING – JPEG/G.711 (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>RTSS-3-1-12 MEDIA STREAMING – JPEG/G.711 (RTP/RTSP/TCP)</para>
          <para>RTSS-3-1-13 MEDIA STREAMING – JPEG/G.726 (RTP-Unicast/ UDP)</para>
          <para>RTSS-3-1-14 MEDIA STREAMING – JPEG/G.726 (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>RTSS-3-1-15 MEDIA STREAMING – JPEG/G.726 (RTP/RTSP/TCP)</para>
          <para>RTSS-3-1-16 MEDIA STREAMING – JPEG/AAC (RTP-Unicast/ UDP)</para>
          <para>RTSS-3-1-17 MEDIA STREAMING – JPEG/AAC (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>RTSS-3-1-18 MEDIA STREAMING – JPEG/AAC (RTP/RTSP/TCP)</para>
          <para>RTSS-3-1-19 MEDIA STREAMING – JPEG/G.711 (RTP-Unicast/UDP, IPv6)</para>
          <para>RTSS-3-1-20 MEDIA STREAMING – JPEG/G.711 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>RTSS-3-1-21 MEDIA STREAMING – JPEG/G.711 (RTP/RTSP/TCP, IPv6)</para>
          <para>RTSS-3-1-22 MEDIA STREAMING – JPEG/G.726 (RTP-Unicast/UDP, IPv6)</para>
          <para>RTSS-3-1-23 MEDIA STREAMING – JPEG/G.726 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>RTSS-3-1-24 MEDIA STREAMING – JPEG/G.726 (RTP/RTSP/TCP, IPv6)</para>
          <para>RTSS-3-1-25 MEDIA STREAMING – JPEG/AAC (RTP-Unicast/UDP, IPv6)</para>
          <para>RTSS-3-1-26 MEDIA STREAMING – JPEG/AAC (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>RTSS-3-1-27 MEDIA STREAMING – JPEG/AAC (RTP/RTSP/TCP, IPv6)</para>
          <para>RTSS-3-2-16 MEDIA STREAMING – JPEG/G.711 (RTP-Multicast/UDP, IPv4)</para>
          <para>RTSS-3-2-17 MEDIA STREAMING – JPEG/G.711 (RTP-Multicast/UDP, IPv6)</para>
          <para>RTSS-3-2-18 MEDIA STREAMING – JPEG/G.726 (RTP-Multicast/UDP, IPv4)</para>
          <para>RTSS-3-2-19 MEDIA STREAMING – JPEG/G.726 (RTP-Multicast/UDP, IPv6)</para>
          <para>RTSS-3-2-20 MEDIA STREAMING – JPEG/AAC (RTP-Multicast/UDP, IPv4)</para>
          <para>RTSS-3-2-21 MEDIA STREAMING – JPEG/AAC (RTP-Multicast/UDP, IPv6)</para>
          <para>RTSS-3-2-22 VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</para>
          <para>RTSS-3-2-23 VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT ADDRESS</para>
          <para>RTSS-5-1-7 START AND STOP MULTICAST STREAMING – JPEG (IPv4)</para>
          <para>RTSS-5-1-9 START AND STOP MULTICAST STREAMING – JPEG/G.711 (IPv4)</para>


        </revdescription>
      </revision>
      <revision>
        <revnumber>19.06</revnumber>
        <date>Mar 25, 2019</date>
        <revdescription>
          <para>The following annex was added according to #1803:</para>
          <para>Annex A.27 Removing Configurations from Media Profile</para>
          <para>The following annex was added according to #1803:</para>
          <para>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (MIX OF TRANSPORT TYPES) (step 8 added, step 15 added)</para>
          <para>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (MIX OF TRANSPORT TYPES) (ALL VIDEO SOURCE CONFIGURATIONS) (step 8 added, step 15 added)</para>
          <para>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Multicast/UDP) (step 8 added, step 27 added)</para>
          <para>MEDIA STREAMING – JPEG (RTP-Multicast/UDP, IPv4) (step 6 added, step 21 added)</para>
          <para>MEDIA STREAMING – MPEG4 (RTP-Multicast/UDP, IPv4) (step 6 added, step 21 added)</para>
          <para>MEDIA STREAMING – H.264 (RTP-Multicast/UDP, IPv4) (step 6 added, step 21 added)</para>
          <para>MEDIA STREAMING – JPEG (RTP-Multicast/UDP, IPv6) (step 6 added, step 21 added)</para>
          <para>MEDIA STREAMING – MPEG4 (RTP-Multicast/UDP, IPv6) (step 6 added, step 21 added)</para>
          <para>MEDIA STREAMING – H.264 (RTP-Multicast/UDP, IPv6) (step 6 added, step 21 added)</para>
          <para>VIDEO ENCODER CONFIGURATION – MULTICAST PORT (IPv4) (step 11 added, step 21 updated)</para>
          <para>VIDEO ENCODER CONFIGURATION – MULTICAST ADDRESS (IPv4) (step 11 added, step 21 updated)</para>
          <para>VIDEO ENCODER CONFIGURATION – MULTICAST ADDRESS AND PORT IN RTSP SETUP (IPv4) (step 6 added, step 21 added)</para>
          <para>VIDEO ENCODER CONFIGURATION – MULTICAST ADDRESS AND PORT IN RTSP SETUP (IPv6) (step 6 added, step 21 added)</para>
          <para>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Multicast/UDP) (ALL VIDEO SOURCE CONFIGURATIONS) (step 8 added, step 26 added)</para>
          <para>MEDIA STREAMING – JPEG/G.711 (RTP-Multicast/UDP, IPv4) (step 8 added, step 23 added)</para>
          <para>MEDIA STREAMING – JPEG/G.711 (RTP-Multicast/UDP, IPv6) (step 8 added, step 23 added)</para>
          <para>MEDIA STREAMING – JPEG/G.726 (RTP-Multicast/UDP, IPv4) (step 8 added, step 23 added)</para>
          <para>MEDIA STREAMING – JPEG/G.726 (RTP-Multicast/UDP, IPv6) (step 8 added, step 23 added)</para>
          <para>MEDIA STREAMING – JPEG/AAC (RTP-Multicast/UDP, IPv4) (step 8 added, step 23 added)</para>
          <para>MEDIA STREAMING – JPEG/AAC (RTP-Multicast/UDP, IPv6) (step 8 added, step 23 added)</para>
          <para>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS (step 12 added, step 22 added)</para>
          <para>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT ADDRESS (step 12 added, step 22 added)</para>
          <para>START AND STOP MULTICAST STREAMING – JPEG (IPv4) (step 6 added, step 15 added)</para>
          <para>START AND STOP MULTICAST STREAMING – G.711 (IPv4) (step 6 added, step 15 added)</para>
          <para>START AND STOP MULTICAST STREAMING – JPEG/G.711 (IPv4) (step 8 added, step 17 added)</para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>19.06</revnumber>
        <date>Apr 11, 2019</date>
        <revdescription>
          <para>The following annex was added according to #1764:</para>
          <para>RTSS-2-1-25 MEDIA STREAMING – AAC (RTP-Unicast/UDP) (step 11 added)</para>
          <para>RTSS-2-1-26 MEDIA STREAMING – AAC (RTP-Unicast/RTSP/HTTP/TCP) (step 11 added)</para>
          <para>RTSS-2-1-27 MEDIA STREAMING – AAC (RTP/RTSP/TCP) (step 11 added)</para>
          <para>RTSS-2-1-34 AUDIO STREAMING – AAC (RTP-Unicast/UDP) (step 23 added)</para>
          <para>RTSS-2-1-35 AUDIO STREAMING – AAC (RTP-Unicast/RTSP/HTTP/TCP) (step 23 added)</para>
          <para>RTSS-2-1-36 AUDIO STREAMING – AAC (RTP/RTSP/TCP) (step 23 added)</para>
          <para>RTSS-2-1-43 MEDIA STREAMING – AAC (RTP-Unicast/UDP, IPv6) (step 12 added)</para>
          <para>RTSS-2-1-44 MEDIA STREAMING – AAC (RTP-Unicast/RTSP/HTTP/TCP, IPv6) (step 12 added)</para>
          <para>RTSS-2-1-45 MEDIA STREAMING – AAC (RTP/RTSP/TCP, IPv6) (step 12 added)</para>
          <para>RTSS-2-1-52 AUDIO STREAMING – AAC (RTP-Unicast/UDP, IPv6) (step 24 added)</para>
          <para>RTSS-2-1-53 AUDIO STREAMING – AAC (RTP-Unicast/RTSP/HTTP/TCP, IPv6) (step 24 added)</para>
          <para>RTSS-2-1-54 AUDIO STREAMING – AAC (RTP/RTSP/TCP, IPv6) (step 24 added)</para>
          <para>RTSS-2-2-15 MEDIA STREAMING – AAC (RTP-Multicast/UDP, IPv4) (step 23 added)</para>
          <para>RTSS-2-2-16 MEDIA STREAMING – AAC (RTP-Multicast/UDP, IPv6) (step 23 added)</para>
          <para>RTSS-3-1-16 MEDIA STREAMING – JPEG/AAC (RTP-Unicast/UDP) (step 13 and step 14 added)</para>
          <para>RTSS-3-1-17 MEDIA STREAMING – JPEG/AAC (RTP-Unicast/RTSP/HTTP/TCP) (step 15 and step 16 added)</para>
          <para>RTSS-3-1-18 MEDIA STREAMING – JPEG/AAC (RTP/RTSP/TCP) (step 13 and step 14 added)</para>
          <para>RTSS-3-1-25 MEDIA STREAMING – JPEG/AAC (RTP-Unicast/UDP, IPv6) (step 14 and step 15 added)</para>
          <para>RTSS-3-1-26 MEDIA STREAMING – JPEG/AAC (RTP-Unicast/RTSP/HTTP/TCP, IPv6) (step 16 and step 17 added)</para>
          <para>RTSS-3-1-27 MEDIA STREAMING – JPEG/AAC (RTP/RTSP/TCP, IPv6) (step 14 and step 15 added)</para>
          <para>RTSS-3-2-20 MEDIA STREAMING – JPEG/AAC (RTP-Multicast/UDP, IPv4) (step 14 and step 15 added)</para>
          <para>RTSS-3-2-21 MEDIA STREAMING – JPEG/AAC (RTP-Multicast/UDP, IPv6) (step 14 and step 15 added)</para>
          <para>RTSS-6-1-7 BACKCHANNEL – AAC (RTP-Unicast/UDP, IPv4) (step 11 added)</para>
          <para>RTSS-6-1-8 BACKCHANNEL – AAC (RTP-Unicast/RTSP/HTTP/TCP, IPv4) (step 13 added)</para>
          <para>RTSS-6-1-9 BACKCHANNEL – AAC (RTP/RTSP/TCP, IPv4) (step 11 added)</para>
          <para>RTSS-6-1-12 BACKCHANNEL STREAMING BY POST – AAC (RTP-Unicast/RTSP/HTTP/TCP, IPv4) (step 13 updated)</para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>19.12</revnumber>
        <date>Aug 29, 2019</date>
        <revdescription>
          <para>The following were changed according to #1888 and #1805:</para>
          <para>A.20 Media Profile Select or Creation for Audio and Video Streaming (removed)</para>
          <para>A.20 Media Profile Configuration with Required Audio Encoder and with Video Encoder (added)</para>
          <para>A.21 Media Profile Creation for Video Streaming (removed)</para>
          <para>A.21 Get Stream Uri (added)</para>
          <para>A.5 Media Profile Configuration for Audio Streaming (removed)</para>
          <para>A.5 Device Configuration for Audio Streaming with Media Profile (added)</para>
          <para>A.6 Media Profile Configuration for Audio &amp; Video Streaming (removed)</para>
          <para>A.6 Device Configuration for Video and Audio Streaming (added)</para>
          <para>RTSS-5-1-8	START AND STOP MULTICAST STREAMING – G.711 (IPv4) (removed)</para>
          <para>The following test cases were updated to use GetCompatibleAudioSourceConfigurations instead of GetAudioSourceConfigurations:</para>
          <para>RTSS-2-1-28	AUDIO STREAMING – G.711 (RTP-Unicast/UDP)</para>
          <para>RTSS-2-1-29	AUDIO STREAMING – G.711 (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>RTSS-2-1-30	AUDIO STREAMING – G.711 (RTP/RTSP/TCP)</para>
          <para>RTSS-2-1-31	AUDIO STREAMING – G.726 (RTP-Unicast/UDP)</para>
          <para>RTSS-2-1-32	AUDIO STREAMING – G.726 (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>RTSS-2-1-33	AUDIO STREAMING – G.726 (RTP/RTSP/TCP)</para>
          <para>RTSS-2-1-34	AUDIO STREAMING – AAC (RTP-Unicast/UDP)</para>
          <para>RTSS-2-1-35	AUDIO STREAMING – AAC (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>RTSS-2-1-36	AUDIO STREAMING – AAC (RTP/RTSP/TCP)</para>
          <para>RTSS-2-1-46	AUDIO STREAMING – G.711 (RTP-Unicast/UDP, IPv6)</para>
          <para>RTSS-2-1-47	AUDIO STREAMING – G.711 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>RTSS-2-1-48	AUDIO STREAMING – G.711 (RTP/RTSP/TCP, IPv6)</para>
          <para>RTSS-2-1-49	AUDIO STREAMING – G.726 (RTP-Unicast/UDP, IPv6)</para>
          <para>RTSS-2-1-50	AUDIO STREAMING – G.726 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>RTSS-2-1-51	AUDIO STREAMING – G.726 (RTP/RTSP/TCP, IPv6)</para>
          <para>RTSS-2-1-52	AUDIO STREAMING – AAC (RTP-Unicast/UDP, IPv6)</para>
          <para>RTSS-2-1-53	AUDIO STREAMING – AAC (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>RTSS-2-1-54	AUDIO STREAMING – AAC (RTP/RTSP/TCP, IPv6)</para>
          <para>RTSS-2-2-11	MEDIA STREAMING – G.711 (RTP-Multicast/UDP, IPv4)</para>
          <para>RTSS-2-2-12	MEDIA STREAMING – G.711 (RTP-Multicast/UDP, IPv6)</para>
          <para>RTSS-2-2-13	MEDIA STREAMING – G.726 (RTP-Multicast/UDP, IPv4)</para>
          <para>RTSS-2-2-14	MEDIA STREAMING – G.726 (RTP-Multicast/UDP, IPv6)</para>
          <para>RTSS-2-2-15	MEDIA STREAMING – AAC (RTP-Multicast/UDP, IPv4)</para>
          <para>RTSS-2-2-16	MEDIA STREAMING – AAC (RTP-Multicast/UDP, IPv6)</para>
          <para>RTSS-5-1-10	START AND STOP MULTICAST STREAMING – G.711 (IPv4, ONLY AUDIO PROFILE)</para>
          <para>RTSS-5-1-11	START AND STOP MULTICAST STREAMING – G.726 (IPv4, ONLY AUDIO PROFILE)</para>
          <para>RTSS-5-1-12	START AND STOP MULTICAST STREAMING – AAC (IPv4, ONLY AUDIO PROFILE)</para>
          <para>The following test cases were updated with change of test name to configure media profile with any video encoder instead of JPEG only:</para>
          <para>RTSS-2-1-19	MEDIA STREAMING – G.711 (RTP-Unicast/UDP)</para>
          <para>RTSS-2-1-20	MEDIA STREAMING – G.711 (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>RTSS-2-1-21	MEDIA STREAMING – G.711 (RTP/RTSP/TCP)</para>
          <para>RTSS-2-1-22	MEDIA STREAMING – G.726 (RTP-Unicast/UDP)</para>
          <para>RTSS-2-1-23	MEDIA STREAMING – G.726 (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>RTSS-2-1-24	MEDIA STREAMING – G.726 (RTP/RTSP/TCP)</para>
          <para>RTSS-2-1-25	MEDIA STREAMING – AAC (RTP-Unicast/UDP)</para>
          <para>RTSS-2-1-26	MEDIA STREAMING – AAC (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>RTSS-2-1-27	MEDIA STREAMING – AAC (RTP/RTSP/TCP)</para>
          <para>RTSS-2-1-37	MEDIA STREAMING – G.711 (RTP-Unicast/UDP, IPv6)</para>
          <para>RTSS-2-1-38	MEDIA STREAMING – G.711 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>RTSS-2-1-39	MEDIA STREAMING – G.711 (RTP/RTSP/TCP, IPv6)</para>
          <para>RTSS-2-1-40	MEDIA STREAMING – G.726 (RTP-Unicast/UDP, IPv6)</para>
          <para>RTSS-2-1-41	MEDIA STREAMING – G.726 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>RTSS-2-1-42	MEDIA STREAMING – G.726 (RTP/RTSP/TCP, IPv6)</para>
          <para>RTSS-2-1-43	MEDIA STREAMING – AAC (RTP-Unicast/UDP, IPv6)</para>
          <para>RTSS-2-1-44	MEDIA STREAMING – AAC (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>RTSS-2-1-45	MEDIA STREAMING – AAC (RTP/RTSP/TCP, IPv6)</para>
          <para>RTSS-3-1-10	MEDIA STREAMING – JPEG/G.711 (RTP-Unicast/ UDP)</para>
          <para>RTSS-3-1-11	MEDIA STREAMING – JPEG/G.711 (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>RTSS-3-1-12	MEDIA STREAMING – JPEG/G.711 (RTP/RTSP/TCP)</para>
          <para>RTSS-3-1-13	MEDIA STREAMING – JPEG/G.726 (RTP-Unicast/ UDP)</para>
          <para>RTSS-3-1-14	MEDIA STREAMING – JPEG/G.726 (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>RTSS-3-1-15	MEDIA STREAMING – JPEG/G.726 (RTP/RTSP/TCP)</para>
          <para>RTSS-3-1-16	MEDIA STREAMING – JPEG/AAC (RTP-Unicast/ UDP)</para>
          <para>RTSS-3-1-17	MEDIA STREAMING – JPEG/AAC (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>RTSS-3-1-18	MEDIA STREAMING – JPEG/AAC (RTP/RTSP/TCP)</para>
          <para>RTSS-3-1-19	MEDIA STREAMING – JPEG/G.711 (RTP-Unicast/UDP, IPv6)</para>
          <para>RTSS-3-1-20	MEDIA STREAMING – JPEG/G.711 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>RTSS-3-1-21	MEDIA STREAMING – JPEG/G.711 (RTP/RTSP/TCP, IPv6)</para>
          <para>RTSS-3-1-22	MEDIA STREAMING – JPEG/G.726 (RTP-Unicast/UDP, IPv6)</para>
          <para>RTSS-3-1-23	MEDIA STREAMING – JPEG/G.726 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>RTSS-3-1-24	MEDIA STREAMING – JPEG/G.726 (RTP/RTSP/TCP, IPv6)</para>
          <para>RTSS-3-1-25	MEDIA STREAMING – JPEG/AAC (RTP-Unicast/UDP, IPv6)</para>
          <para>RTSS-3-1-26	MEDIA STREAMING – JPEG/AAC (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>RTSS-3-1-27	MEDIA STREAMING – JPEG/AAC (RTP/RTSP/TCP, IPv6)</para>
          <para>RTSS-3-2-16	MEDIA STREAMING – JPEG/G.711 (RTP-Multicast/UDP, IPv4)</para>
          <para>RTSS-3-2-17	MEDIA STREAMING – JPEG/G.711 (RTP-Multicast/UDP, IPv6)</para>
          <para>RTSS-3-2-18	MEDIA STREAMING – JPEG/G.726 (RTP-Multicast/UDP, IPv4)</para>
          <para>RTSS-3-2-19	MEDIA STREAMING – JPEG/G.726 (RTP-Multicast/UDP, IPv6)</para>
          <para>RTSS-3-2-20	MEDIA STREAMING – JPEG/AAC (RTP-Multicast/UDP, IPv4)</para>
          <para>RTSS-3-2-21	MEDIA STREAMING – JPEG/AAC (RTP-Multicast/UDP, IPv6)</para>
          <para>RTSS-3-2-22	VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</para>
          <para>RTSS-3-2-23	VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT ADDRESS</para>
          <para>RTSS-5-1-9	START AND STOP MULTICAST STREAMING – JPEG/G.711 (IPv4)</para>

        </revdescription>
      </revision>
      <revision>
        <revnumber>19.12</revnumber>
        <date>Aug 29, 2019</date>
        <revdescription>
          <para>The following were changed according to #1783:</para>
          <para>Normative references: link to RFC 2326 added, link to IETF RFC 4566 (added)</para>
          <para>New annexes added:</para>
          <para>A.30 Check IP Type of URI</para>
          <para>A.31 Check of IP address type in response to RTSP DESCRIBE</para>
          <para>The following annexes were updated:</para>
          <para>A.15 Start Media Stream Using RTP-Unicast/UDP Transport (step 2 and step 7 added)</para>
          <para>A.16 Start Media Stream Using RTP-Multicast/UDP Transport (step 2 and step 8 added)</para>
          <para>A.17 Start Media Stream Using RTP-Unicast/RTSP/HTTP/TCP Transport (step 2 and step 9 added)</para>
          <para>A.18 Start Media Stream Using RTP/RTSP/TCP Transport (step 2 and step 7 added)</para>
          <para>Notes with link to A.30 Check IP Type of URI and A.31 Check of IP address type in response to RTSP DESCRIBE added into the following test cases:</para>
          <para>RTSS-1-1-24	VIDEO ENCODER CONFIGURATION – JPEG RESOLUTION (ALL RESOLUTIONS)</para>
          <para>RTSS-1-1-25	VIDEO ENCODER CONFIGURATION – MPEG4 RESOLUTION (ALL RESOLUTIONS)</para>
          <para>RTSS-1-1-26	VIDEO ENCODER CONFIGURATION – H.264 RESOLUTION (ALL RESOLUTIONS)</para>
          <para>RTSS-1-1-27	MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/UDP)</para>
          <para>RTSS-1-1-28	MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>RTSS-1-1-29	MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP/RTSP/TCP)</para>
          <para>RTSS-1-1-31	MEDIA CONTROL – RTSP/TCP</para>
          <para>RTSS-1-1-32	MEDIA STREAMING – RTSP KEEPALIVE (SET_PARAMETER)</para>
          <para>RTSS-1-1-33	MEDIA STREAMING - RTSP KEEPALIVE (OPTIONS)</para>
          <para>RTSS-1-1-34	MEDIA STREAMING – JPEG (RTP-Unicast / UDP)</para>
          <para>RTSS-1-1-35	MEDIA STREAMING – JPEG (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>RTSS-1-1-36	MEDIA STREAMING – JPEG (RTP/RTSP/TCP)</para>
          <para>RTSS-1-1-37	MEDIA STREAMING – MPEG4 (RTP-Unicast/ UDP)</para>
          <para>RTSS-1-1-38	MEDIA STREAMING – MPEG4 (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>RTSS-1-1-39	MEDIA STREAMING – MPEG4 (RTP/RTSP/TCP)</para>
          <para>RTSS-1-1-40	SET SYNCHRONIZATION POINT – MPEG4</para>
          <para>RTSS-1-1-41	MEDIA STREAMING – H.264 (RTP-Unicast/ UDP)</para>
          <para>RTSS-1-1-42	MEDIA STREAMING – H.264 (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>RTSS-1-1-43	MEDIA STREAMING – H.264 (RTP/RTSP/TCP)</para>
          <para>RTSS-1-1-44	SET SYNCHRONIZATION POINT – H.264</para>
          <para>RTSS-1-1-45	MEDIA STREAMING – RTP-Unicast/RTSP/HTTP/TCP (LINE BREAKS IN BASE64 ENCODING)</para>
          <para>RTSS-1-1-46	VIDEO ENCODER CONFIGURATION – JPEG RESOLUTION</para>
          <para>RTSS-1-1-47	VIDEO ENCODER CONFIGURATION – MPEG4 RESOLUTION</para>
          <para>RTSS-1-1-48	VIDEO ENCODER CONFIGURATION – H.264 RESOLUTION</para>
          <para>RTSS-1-1-49	MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/UDP) (ALL VIDEO SOURCE CONFIGURATIONS)</para>
          <para>RTSS-1-1-50	MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/RTSP/HTTP/TCP) (ALL VIDEO SOURCE CONFIGURATIONS)</para>
          <para>RTSS-1-1-51	MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP/RTSP/TCP) (ALL VIDEO SOURCE CONFIGURATIONS)</para>
          <para>RTSS-1-1-53	MEDIA STREAMING – JPEG (VALIDATING RTP HEADER EXTENSION)</para>
          <para>RTSS-1-1-54	MEDIA STREAMING – JPEG (RTP-Unicast/UDP, IPv6)</para>
          <para>RTSS-1-1-55	MEDIA STREAMING – JPEG (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>RTSS-1-1-56	MEDIA STREAMING – JPEG (RTP/RTSP/TCP, IPv6)</para>
          <para>RTSS-1-1-57	MEDIA STREAMING – MPEG4 (RTP-Unicast/UDP, IPv6)</para>
          <para>RTSS-1-1-58	MEDIA STREAMING – MPEG4 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>RTSS-1-1-59	MEDIA STREAMING – MPEG4 (RTP/RTSP/TCP, IPv6)</para>
          <para>RTSS-1-1-60	MEDIA STREAMING – H.264 (RTP-Unicast/UDP, IPv6)</para>
          <para>RTSS-1-1-61	MEDIA STREAMING – H.264 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>RTSS-1-1-62	MEDIA STREAMING – H.264 (RTP/RTSP/TCP, IPv6)</para>
          <para>RTSS-1-2-12	MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Multicast/UDP)</para>
          <para>RTSS-1-2-13	MEDIA STREAMING – JPEG (RTP-Multicast/UDP, IPv4)</para>
          <para>RTSS-1-2-14	MEDIA STREAMING – MPEG4 (RTP-Multicast/UDP, IPv4)</para>
          <para>RTSS-1-2-15	MEDIA STREAMING – H.264 (RTP-Multicast/UDP, IPv4)</para>
          <para>RTSS-1-2-16	MEDIA STREAMING – JPEG (RTP-Multicast/UDP, IPv6)</para>
          <para>RTSS-1-2-17	MEDIA STREAMING – MPEG4 (RTP-Multicast/UDP, IPv6)</para>
          <para>RTSS-1-2-18	MEDIA STREAMING – H.264 (RTP-Multicast/UDP, IPv6)</para>
          <para>RTSS-1-2-21	VIDEO ENCODER CONFIGURATION – MULTICAST ADDRESS AND PORT IN RTSP SETUP (IPv4)</para>
          <para>RTSS-1-2-22	VIDEO ENCODER CONFIGURATION – MULTICAST ADDRESS AND PORT IN RTSP SETUP (IPv6)</para>
          <para>RTSS-1-2-23	MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Multicast/UDP) (ALL VIDEO SOURCE CONFIGURATIONS)</para>
          <para>RTSS-2-1-28	AUDIO STREAMING – G.711 (RTP-Unicast/UDP)</para>
          <para>RTSS-2-1-29	AUDIO STREAMING – G.711 (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>RTSS-2-1-30	AUDIO STREAMING – G.711 (RTP/RTSP/TCP)</para>
          <para>RTSS-2-1-31	AUDIO STREAMING – G.726 (RTP-Unicast/UDP)</para>
          <para>RTSS-2-1-32	AUDIO STREAMING – G.726 (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>RTSS-2-1-33	AUDIO STREAMING – G.726 (RTP/RTSP/TCP)</para>
          <para>RTSS-2-1-34	AUDIO STREAMING – AAC (RTP-Unicast/UDP)</para>
          <para>RTSS-2-1-35	AUDIO STREAMING – AAC (RTP-Unicast/RTSP/HTTP/TCP)</para>
          <para>RTSS-2-1-36	AUDIO STREAMING – AAC (RTP/RTSP/TCP)</para>
          <para>RTSS-2-1-46	AUDIO STREAMING – G.711 (RTP-Unicast/UDP, IPv6)</para>
          <para>RTSS-2-1-47	AUDIO STREAMING – G.711 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>RTSS-2-1-48	AUDIO STREAMING – G.711 (RTP/RTSP/TCP, IPv6)</para>
          <para>RTSS-2-1-49	AUDIO STREAMING – G.726 (RTP-Unicast/UDP, IPv6)</para>
          <para>RTSS-2-1-50	AUDIO STREAMING – G.726 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>RTSS-2-1-51	AUDIO STREAMING – G.726 (RTP/RTSP/TCP, IPv6)</para>
          <para>RTSS-2-1-52	AUDIO STREAMING – AAC (RTP-Unicast/UDP, IPv6)</para>
          <para>RTSS-2-1-53	AUDIO STREAMING – AAC (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</para>
          <para>RTSS-2-1-54	AUDIO STREAMING – AAC (RTP/RTSP/TCP, IPv6)</para>
          <para>RTSS-2-2-11	MEDIA STREAMING – G.711 (RTP-Multicast/UDP, IPv4)</para>
          <para>RTSS-2-2-12	MEDIA STREAMING – G.711 (RTP-Multicast/UDP, IPv6)</para>
          <para>RTSS-2-2-13	MEDIA STREAMING – G.726 (RTP-Multicast/UDP, IPv4)</para>
          <para>RTSS-2-2-14	MEDIA STREAMING – G.726 (RTP-Multicast/UDP, IPv6)</para>
          <para>RTSS-2-2-15	MEDIA STREAMING – AAC (RTP-Multicast/UDP, IPv4)</para>
          <para>RTSS-2-2-16	MEDIA STREAMING – AAC (RTP-Multicast/UDP, IPv6)</para>
          <para>RTSS-4-1-3	NOTIFICATION STREAMING</para>
          <para>RTSS-6-1-1	BACKCHANNEL – G.711 (RTP-Unicast/UDP, IPv4)</para>
          <para>RTSS-6-1-2	BACKCHANNEL – G.711 (RTP-Unicast/RTSP/HTTP/TCP, IPv4)</para>
          <para>RTSS-6-1-3	BACKCHANNEL – G.711 (RTP/RTSP/TCP, IPv4)</para>
          <para>RTSS-6-1-4	BACKCHANNEL – G.726 (RTP-Unicast/UDP, IPv4)</para>
          <para>RTSS-6-1-5	BACKCHANNEL – G.726 (RTP-Unicast/RTSP/HTTP/TCP, IPv4)</para>
          <para>RTSS-6-1-6	BACKCHANNEL – G.726 (RTP/RTSP/TCP, IPv4)</para>
          <para>RTSS-6-1-7	BACKCHANNEL – AAC (RTP-Unicast/UDP, IPv4)</para>
          <para>RTSS-6-1-8	BACKCHANNEL – AAC (RTP-Unicast/RTSP/HTTP/TCP, IPv4)</para>
          <para>RTSS-6-1-9	BACKCHANNEL – AAC (RTP/RTSP/TCP, IPv4)</para>
          <para>RTSS-6-1-10	BACKCHANNEL STREAMING BY POST – G.711 (RTP-Unicast/RTSP/HTTP/TCP, IPv4)</para>
          <para>RTSS-6-1-11	BACKCHANNEL STREAMING BY POST – G.726 (RTP-Unicast/RTSP/HTTP/TCP, IPv4)</para>
          <para>RTSS-6-1-12	BACKCHANNEL STREAMING BY POST – AAC (RTP-Unicast/RTSP/HTTP/TCP, IPv4)</para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>19.12</revnumber>
        <date>Sep 24, 2019</date>
        <revdescription>
          <para>The following annex was added according to #1808:</para>
          <para>A.29 Removing Configurations from Media Profile (steps 4-5 added)</para>
          <para>RTSS-5-1-7 START AND STOP MULTICAST STREAMING – JPEG (IPv4) (step 6 updated with adding of AudioSourceConfiguration in the list of configuration types)</para>
          <para>RTSS-1-2-19 VIDEO ENCODER CONFIGURATION – MULTICAST PORT (IPv4) (step 11 updated with adding of AudioSourceConfiguration in the list of configuration types)</para>
          <para>RTSS-1-2-20 VIDEO ENCODER CONFIGURATION – MULTICAST ADDRESS (IPv4) (step 11 updated with adding of AudioSourceConfiguration in the list of configuration types)</para>

        </revdescription>
      </revision>
      <revision>
        <revnumber>20.06</revnumber>
        <date>Jan 31, 2020</date>
        <revdescription>
          <para>The following annex was updated according to #1965:</para>
          <para>Annex A.28 Video Encoder Configuration – Frame Rate Selection (framerate selection logic for the highest JPEG resolution was updated)</para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>21.06</revnumber>
        <date>Apr 09, 2021</date>
        <revdescription>
          <para>The following annexes were updated according to #2124:</para>
          <para>A.4 Turn on IPv6 network interface</para>
          <para>A.5 Restore Network Settings</para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>21.06</revnumber>
        <date>May 26, 2021</date>
        <revdescription>
          <para>The following test cases were removed according to #2215:</para>
          <para>RTSS-6-1-2 BACKCHANNEL – G.711 (RTP-Unicast/RTSP/HTTP/TCP, IPv4)</para>
          <para>RTSS-6-1-5 BACKCHANNEL – G.726 (RTP-Unicast/RTSP/HTTP/TCP, IPv4)</para>
          <para>RTSS-6-1-8 BACKCHANNEL – AAC (RTP-Unicast/RTSP/HTTP/TCP, IPv4)</para>
        </revdescription>
      </revision>
    </revhistory>
  </info>
  <chapter xml:id="s.intro">
    <title>Introduction</title>
    <para>
      The goal of the ONVIF test specification set is to make it possible to realize fully interoperable IP physical security implementation from different vendors. The set of ONVIF test specification describes the test cases need to verify the [ONVIF Network Interface Specs] and [ONVIF Conformance] requirements. And also the test cases are to be basic inputs for some Profile specification requirements. It also describes the test framework, test setup, pre-requisites, test policies needed for the execution of the described test cases.
    </para>
    <para>
      This ONVIF Real Time Streaming Device Test Specification acts as a supplementary document to the [ONVIF Network Interface Specs], illustrating test cases need to be executed and passed. And also this specification acts as an input document to the development of test tool which will be used to test the ONVIF device implementation conformance towards ONVIF standard. This test tool is referred as ONVIF Client hereafter.
    </para>
    <section xml:id="s.intro.scope">
      <title>Scope</title>
      <para>
        This ONVIF Real Time Streaming Device Test Specification defines and regulates the conformance testing procedure for the ONVIF conformant devices. Conformance testing is meant to be functional black-box testing. The objective of this specification to provide test cases to test individual requirements of ONVIF devices according to ONVIF Media Service and the Realtime Streaming Specification which is defined in [ONVIF Network Interface Specs].
      </para>
      <para>
        The principal intended purposes are:<itemizedlist>
          <listitem>
            <para>Provide self-assessment tool for implementations.</para>
          </listitem>
          <listitem>
            <para>
              Provide comprehensive test suite coverage for [ONVIF Network Interface Specs].
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        This specification <emphasis role="bold">does not</emphasis> address the following:
        <itemizedlist>
          <listitem>
            <para>
              Product use cases and non-functional (performance and regression) testing.
            </para>
          </listitem>
          <listitem>
            <para>
              SOAP Implementation Interoperability test i.e. Web Service Interoperability Basic Profile version 2.0 (WS-I BP 2.0).
            </para>
          </listitem>
          <listitem>
            <para>
              Network protocol implementation Conformance test for HTTP, HTTPS, RTP and RTSP protocol.
            </para>
          </listitem>
          <listitem>
            <para>
              Poor streaming performance test (audio/video distortions, missing audio/video frames, incorrect
              lib synchronization etc.).
            </para>
            <para>
              Wi-Fi Conformance test
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        The set of ONVIF Test Specification will not cover the complete set of requirements as defined in [ONVIF Network Interface Specs]; instead it would cover subset of it. The scope of this specification is to derive all the normative requirements of [ONVIF Network Interface Specs] which are related to ONVIF Media Service and Realtime Streaming Specification and some of the optional requirements.
      </para>
      <para>
        This ONVIF Real Time Streaming Device Test Specification covers ONVIF Media service and Real-time Streaming specification which is a functional block of [ONVIF Network Interface Specs]. The following sections describe the brief overview of and scope of each functional block.
      </para>
    </section>
    <section xml:id="s.intro.real_time_streaming">
      <title>Real Time Streaming</title>
      <para>
        Real Time Streaming covers the test cases needed for the verification of Real time streaming features as mentioned in [ONVIF Network Interface Specs]. Real time streaming section defines different media streaming options based on RTP for video, audio and metadata streams. Media control is done using RTSP protocol.
      </para>
      <para>
        The scope of this specification to cover the following real time streaming options for JPEG, MPEG4 and H.264 video streams, and JPEG/ G.711, JPEG/ G.726 and JPEG/ AAC Audio &amp; Video streams.
        <itemizedlist>
          <listitem>
            <para>
              RTSP control requests
            </para>
          </listitem>
          <listitem>
            <para>
              RTP Unicast over UDP
            </para>
          </listitem>
          <listitem>
            <para>
              RTP over RTSP over TCP
            </para>
          </listitem>
          <listitem>
            <para>
              RTP over RTSP over HTTP over TCP
            </para>
          </listitem>
          <listitem>
            <para>
              RTCP
            </para>
          </listitem>
        </itemizedlist>
      </para>
    </section>
  </chapter>
  <chapter xml:id="s.docbook">
    <title>Normative references</title>
    <itemizedlist>
      <listitem>
        <para>[ONVIF Conformance] ONVIF Conformance Process Specification:</para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/conformance/">https://www.onvif.org/profiles/conformance/</link>
        </para>
      </listitem>
      <listitem>
        <para>[ONVIF Profile Policy] ONVIF Profile Policy:</para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/">https://www.onvif.org/profiles/</link>
        </para>
      </listitem>
      <listitem>
        <para>[ONVIF Network Interface Specs] ONVIF Network Interface Specification documents:</para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/specifications/">https://www.onvif.org/profiles/specifications/</link>
        </para>
      </listitem>
      <listitem>
        <para>[ONVIF Core Specs] ONVIF Core Specification:</para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/specifications/">https://www.onvif.org/profiles/specifications/</link>
        </para>
      </listitem>
      <listitem>
        <para>[ONVIF Media Spec] ONVIF Media Service Specification:</para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/specifications/">https://www.onvif.org/profiles/specifications/</link>
        </para>
      </listitem>
      <listitem>
        <para>[ONVIF Streaming Spec] ONVIF Streaming Specification:</para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/specifications/">https://www.onvif.org/profiles/specifications/</link>
        </para>
      </listitem>
      <listitem>
        <para>[ONVIF Base Test] ONVIF Base Device Test Specification:</para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/conformance/device-test/">https://www.onvif.org/profiles/conformance/device-test/</link>
        </para>
      </listitem>
      <listitem>
        <para>[ISO/IEC Directives, Part 2] ISO/IEC Directives, Part 2, Annex H:</para>
        <para>
          <link xlink:href="http://www.iso.org/directives">http://www.iso.org/directives</link>
        </para>
      </listitem>
      <listitem>
        <para>[ISO 16484-5] ISO 16484-5:2014-09 Annex P:</para>
        <para>
          <link xlink:href="https://www.iso.org/obp/ui/#!iso:std:63753:en">https://www.iso.org/obp/ui/#!iso:std:63753:en</link>
        </para>
      </listitem>
      <listitem>
        <para>[SOAP 1.2, Part 1] W3C SOAP 1.2, Part 1, Messaging Framework:</para>
        <para>
          <link xlink:href="http://www.w3.org/TR/soap12-part1/">http://www.w3.org/TR/soap12-part1/</link>
        </para>
      </listitem>
      <listitem>
        <para>[XML-Schema, Part 1] W3C XML Schema Part 1: Structures Second Edition:</para>
        <para>
          <link xlink:href="http://www.w3.org/TR/xmlschema-1/">http://www.w3.org/TR/xmlschema-1/</link>
        </para>
      </listitem>
      <listitem>
        <para>[XML-Schema, Part 2] W3C XML Schema Part 2: Datatypes Second Edition:</para>
        <para>
          <link xlink:href="http://www.w3.org/TR/xmlschema-2/">http://www.w3.org/TR/xmlschema-2/</link>
        </para>
      </listitem>
      <listitem>
        <para>[WS-Security] "Web Services Security: SOAP Message Security 1.1 (WS-Security 2004)", OASIS Standard, February 2006.:</para>
        <para>
          <link xlink:href="http://www.oasis-open.org/committees/download.php/16790/wss-v1.1-spec-os-SOAPMessageSecurity.pdf">http://www.oasis-open.org/committees/download.php/16790/wss-v1.1-spec-os-SOAPMessageSecurity.pdf</link>
        </para>
      </listitem>
      <listitem>
        <para>IETF RFC 2326, Real Time Streaming Protocol (RTSP)</para>
        <para>
          <link xlink:href="http://www.ietf.org/rfc/rfc2326.txt">http://www.ietf.org/rfc/rfc2326.txt</link>
        </para>
      </listitem>

    </itemizedlist>
  </chapter>
  <chapter xml:id="additions">
    <title>Terms and Definitions</title>
    <section xml:id="additions.conventions">
      <title>Conventions</title>
      <para>
        The key words "shall", "shall not", "should", "should not", "may", "need not",
        "can", "cannot" in this specification are to be interpreted as described in [ISO/IEC
        Directives Part 2].
      </para>
    </section>
    <section xml:id="additions.definitions">
      <title>Definitions</title>
      <para>This section defines terms that are specific to the ONVIF Media Service and tests. For a list of applicable general terms and definitions, please see [ONVIF Base Test].</para>
      <variablelist>
        <varlistentry>
          <term>Profile</term>
          <listitem>
            <para>See ONVIF Profile Policy.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>ONVIF Device</term>
          <listitem>
            <para>
              Computer appliance or software program that exposes one or multiple
              ONVIF Web Services.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>ONVIF Client</term>
          <listitem>
            <para>
              Computer appliance or software program that uses ONVIF Web
              Services.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Configuration Entity</term>
          <listitem>
            <para>
              A network video device media abstract component that is used to produce a media stream on the network,
              i.e. video and/or audio stream.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Media Profile</term>
          <listitem>
            <para>
              A media profile maps a video and/or audio source to a video and/or an audio encoder, PTZ and analytics configurations.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>SOAP</term>
          <listitem>
            <para>
              SOAP is a lightweight protocol intended for exchanging structured
              information in a decentralized, distributed environment. It uses XML
              technologies to define an extensible messaging framework providing a
              message construct that can be exchanged over a variety of underlying
              protocols.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Device Test Tool</term>
          <listitem>
            <para>
              ONVIF Device Test Tool that tests ONVIF Device implementation towards
              the ONVIF Test Specification set.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Media Service</term>
          <listitem>
            <para>
              Services to determine the streaming properties of requested media streams.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </section>
    <section xml:id="additions.abbreviations">
      <title>Abbreviations</title>
      <para>This section describes abbreviations used in this document.</para>
      <variablelist>
        <varlistentry>
          <term>HTTP</term>
          <listitem>
            <para>Hyper Text Transport Protocol.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>AAC</term>
          <listitem>
            <para>Advanced Audio Coding.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>URI</term>
          <listitem>
            <para>Uniform Resource Identifier.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>WSDL</term>
          <listitem>
            <para>Web Services Description Language.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>XML</term>
          <listitem>
            <para>eXtensible Markup Language.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>TTL</term>
          <listitem>
            <para>Time To Live.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>JPEG</term>
          <listitem>
            <para>Joint Photographic Experts Group.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>MPEG-4</term>
          <listitem>
            <para>Moving Pictures Experts Group-4.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>QVGA</term>
          <listitem>
            <para>Quarter Video Graphics Array.</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </section>
  </chapter>
  <chapter xml:id="overview">
    <title>Test Overview</title>
    <para>
      This section describes about the test setup and prerequisites needed,
      and the test policies that should be followed for test case execution.
    </para>
    <section xml:id="overview.test_setup">
      <title>Test Setup</title>
      <section xml:id="overview.test_setup.network_configuration">
        <title>Network Configuration for DUT</title>
        <para>
          The generic test configuration for the execution of test cases defined in this document is as shown below (Figure 4.1).
        </para>
        <para>
          Based on the individual test case requirements, some of the entities in the below setup may not be needed for the execution of those corresponding test cases.
        </para>
        <figure>
          <title>Test Configuration for DUT</title>
          <mediaobject>
            <imageobject>
              <imagedata fileref="test_network.png"
                         format="PNG"
                         scalefit="0"/>
            </imageobject>
            <textobject>
              <phrase>Test Configuration for DUT</phrase>
            </textobject>
          </mediaobject>
        </figure>
        <para>
          <emphasis role="bold">DUT:</emphasis> ONVIF device to be tested. Hereafter, this is referred to as DUT (Device Under Test).
        </para>
        <para>
          <emphasis role="bold">ONVIF Client (Test Tool):</emphasis> Tests are executed by this system and it controls the behavior of the DUT. It handles both expected and unexpected behavior.
        </para>
        <para>
          <emphasis role="bold">HTTP Proxy:</emphasis> provides facilitation in case of RTP and RTSP tunneling over HTTP.
        </para>
        <para>
          <emphasis role="bold">Wireless Access Point:</emphasis> provides wireless connectivity to the devices that support wireless connection.
        </para>
        <para>
          <emphasis role="bold">DNS Server:</emphasis> provides DNS related information to the connected devices.
        </para>
        <para>
          <emphasis role="bold">DHCP Server:</emphasis> provides IPv4 Address to the connected devices.
        </para>
        <para>
          <emphasis role="bold">NTP Server:</emphasis> provides time synchronization between ONVIF Client and DUT.
        </para>
        <para>
          <emphasis role="bold">Switching Hub:</emphasis> provides network connectivity among all the test equipments in the test environment. All devices should be connected to the Switching Hub.
          When running multiple test instances in parallel on the same network, the Switching Hub should be configured to use filtering in order to avoid multicast traffic being flooded to all ports, because this may affect test stability.
        </para>
        <para>
          <emphasis role="bold">Router:</emphasis> provides router advertisements for IPv6 configuration.
        </para>
      </section>
    </section>
    <section xml:id="overview.prerequisites">
      <title>Prerequisites</title>
      <para>
        The pre-requisites for executing the test cases described in this Test Specification are:
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              The DUT shall be configured with an IPv4 address.
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT shall be IP reachable [in the test configuration].
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT shall be able to be discovered by the Test Tool.
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT shall be configured with the time i.e. manual configuration of UTC time and if NTP is supported by DUT, then NTP time shall be synchronized with NTP Server.
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT time and Test tool time shall be synchronized with each other either manually or by common NTP server
            </para>
          </listitem>
        </orderedlist>
      </para>
    </section>
    <section xml:id="overview.test_policy">
      <title>Test Policy</title>
      <para>
        This section describes the test policies specific to the test case execution of each functional block.
      </para>
      <para>
        The DUT shall adhere to the test policies defined in this section.
      </para>
      <section xml:id="overview.test_policy.real_time_streaming">
        <title>Real Time Streaming</title>
        <para>
          Real time streaming test case execution would need the successful execution of some of the Media Configuration test cases. So, Media Configuration features shall be implemented successfully in order to execute the Real Time Streaming test cases.
        </para>
        <para>
          ONVIF Client shall explicitly specify the optional transport protocols supported by DUT.
        </para>
        <para>
          ONVIF Client and DUT time should be synchronized for media streaming.
        </para>
        <para>
          Real time streaming testing will test only one media stream at a time.
        </para>
        <para>
          Poor streaming test is outside the scope of the ONVIF Test Specification
        </para>
        <para>
          Please refer to <xref linkend="Annex_HelperStreamSetupSyntax"/> for the correct interpretation of StreamSetup syntax.
        </para>
        <para>
          Please refer to <xref linkend="tc.real_time_streaming"/> for Real Time Streaming Test Cases.
        </para>
      </section>
    </section>
  </chapter>
  <!--Real Time Streaming Test Cases-->
  <chapter xml:id="tc.real_time_streaming"
           xreflabel="Section 5">
    <title>Real Time Streaming Test Cases</title>
    <!--Video Streaming-->
    <section xml:id="tc.real_time_streaming.video_streaming">
      <title>Video Streaming</title>

      <section xml:id="tc.real_time_streaming.video_streaming.unicast">
        <title>Unicast</title>

        <section xml:id="tc.RTSS-1-1-24">
          <title>VIDEO ENCODER CONFIGURATION – JPEG RESOLUTION (ALL RESOLUTIONS)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-24
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> SetVideoEncoderConfiguration, GetVideoEncoderConfiguration, GetStreamUri, Live Streaming.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> SetVideoEncoderConfiguration, GetVideoEncoderConfiguration, GetStreamUri
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify changing and applying of all different Resolutions for video encoder configuration and video stream.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Media Service was received from the DUT.

          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>

              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationsRequest</emphasis> message to retrieve video configuration list.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  Find or create media profile with Video Source Configuration and Video Encoder Configuration with token VECToken1 and supporting of JPEG encoding, where VECToken1 is first video encoder configuration token from <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message
                  by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationWithSpecifiedVideoEncoderConfigurationWithPossibilityToSetSpecifiedEncoding"/>. If it is not possible skip steps 6-26 and go to the step 27.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationOptionsRequest</emphasis> message (ProfileToken = “Profile1”, where “Profile1” is profile token from the step 5) to get video encoder configuration options.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> message (ConfigurationToken = VECToken1, Resolution = [Width1, Height1], Encoding = JPEG, where [Width1, Height1] is the first resolution from the Options.JPEG.ResolutionsAvailable) to change video encoder configuration.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationRequest</emphasis> message (ConfigurationToken = VECToken1) to get video encoder configuration.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message (ConfigurationToken = VECToken1, Resolution = [Width1, Height1], Encoding = JPEG) from the DUT. Check that new setting for Resolution and Encoding was applied.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, RTP-Unicast, UDP transport) to retrieve media stream URI for the selected media profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">RTSP DESCRIBE</emphasis> request.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends<emphasis role="bold"> 200 OK</emphasis> message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">RTSP SETUP</emphasis> request with transport parameter as RTP/UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends <emphasis role="bold">200 OK</emphasis> message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">RTSP PLAY</emphasis> request.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends <emphasis role="bold">200 OK</emphasis> message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends <emphasis role="bold">JPEG RTP</emphasis> media stream to ONVIF Client over UDP. Verify that stream has JPEG encoding and [Width1, Height1] resolution. (Note: if stream Height resolution is between Height1 – 8 and Height1 + 8 it is assumed as valid; if stream Width resolution is between Width1 – 8 and Width1 + 8 it is assumed as valid.)
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">RTSP TEARDOWN</emphasis> control request at the end of media streaming to terminate the RTSP session.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends <emphasis role="bold">200 OK</emphasis> Response and terminates the RTSP Session.
                </para>
              </listitem>
              <listitem>
                <para>
                  Repeat 8-25 steps for the rest JPEG Resolutions supported by selected configuration.
                </para>
              </listitem>
              <listitem>
                <para>
                  Repeat steps 5-26 for the rest Video Encoder configurations supported by the DUT.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send RTSP <emphasis role="bold">200 OK</emphasis> response for <emphasis role="bold">RTSP DESCRIBE</emphasis>, <emphasis role="bold">SETUP</emphasis>, <emphasis role="bold">PLAY</emphasis> and <emphasis role="bold">TEARDOWN</emphasis> requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  RTSP Session is terminated by DUT during media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not sent valid video stream with JPEG encoding and specified resolution or sent it in another encoding or resolution.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperFrameRateSelection"/> for Frame Rate selection logic description.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>

        </section>
        <section xml:id="tc.RTSS-1-1-25">
          <title>VIDEO ENCODER CONFIGURATION – MPEG4 RESOLUTION (ALL RESOLUTIONS)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-25
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> SetVideoEncoderConfiguration, GetVideoEncoderConfiguration, GetStreamUri, Live Streaming.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> SetVideoEncoderConfiguration, GetVideoEncoderConfiguration, GetStreamUri
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify changing and applying of all different Resolutions for video encoder configuration and video stream.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. MPEG4 is supported by DUT. Real-time streaming supported by DUT. Media Service was received from the DUT.

          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>

              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationsRequest</emphasis> message to retrieve video configuration list.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  Find or create media profile with Video Source Configuration and Video Encoder Configuration with token VECToken1 and supporting of MPEG4 encoding,
                  where VECToken1 is first video encoder configuration token from <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message
                  by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationWithSpecifiedVideoEncoderConfigurationWithPossibilityToSetSpecifiedEncoding"/>.
                  If it is not possible skip steps 6-26 and go to the step 27.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationOptionsRequest</emphasis> message (ProfileToken = “Profile1”, where “Profile1” is profile token from the step 5) to get video encoder configuration options.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> message (ConfigurationToken = VECToken1, Resolution = [Width1, Height1], Encoding = MPEG4, where [Width1, Height1] is the first resolution from the Options.MPEG4.ResolutionsAvailable) to change video encoder configuration.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationRequest</emphasis> message (ConfigurationToken = VECToken1) to get video encoder configuration.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message (ConfigurationToken = VECToken1, Resolution = [Width1, Height1], Encoding = MPEG4) from the DUT. Check that new setting for Resolution and Encoding was applied.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, RTP-Unicast, UDP transport) to retrieve media stream URI for the selected media profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the GetStreamUriResponse message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter as RTP/UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends MPEG4 RTP media stream to ONVIF Client over UDP. Verify that stream has MPEG4 encoding and [Width1, Height1] resolution. (Note: if stream Height resolution is between Height1 – 8 and Height1 + 8 it is assumed as valid; if stream Width resolution is between Width1 – 8 and Width1 + 8 it is assumed as valid.)
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK Response and terminates the RTSP Session.
                </para>
              </listitem>
              <listitem>
                <para>
                  Repeat 8-25 steps for the rest MPEG4 Resolutions supported by selected configuration.
                </para>
              </listitem>
              <listitem>
                <para>
                  Repeat steps 5-26 for the rest Video Encoder configurations supported by the DUT.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  RTSP Session is terminated by DUT during media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not sent valid video stream with MPEG4 encoding and specified resolution or sent it in another encoding or resolution.
                </para>
              </listitem>




            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperFrameRateSelection"/> for Frame Rate selection logic description.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>

        </section>
        <section xml:id="tc.RTSS-1-1-26">
          <title>VIDEO ENCODER CONFIGURATION – H.264 RESOLUTION (ALL RESOLUTIONS)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-26
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> SetVideoEncoderConfiguration, GetVideoEncoderConfiguration, GetStreamUri, Live Streaming.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> SetVideoEncoderConfiguration, GetVideoEncoderConfiguration, GetStreamUri
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify changing and applying of all different Resolutions for video encoder configuration and video stream.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. H.264 is supported by DUT. Real-time streaming supported by DUT. Media Service was received from the DUT.

          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>

              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationsRequest</emphasis> message to retrieve video configuration list.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  Find or create media profile with Video Source Configuration and Video Encoder Configuration with token VECToken1 and supporting of H.264 encoding,
                  where VECToken1 is first video encoder configuration token from <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message
                  by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationWithSpecifiedVideoEncoderConfigurationWithPossibilityToSetSpecifiedEncoding"/>.
                  If it is not possible skip steps 6-26 and go to the step 27.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationOptionsRequest</emphasis> message (ProfileToken = “Profile1”, where “Profile1” is profile token from the step 5) to get video encoder configuration options.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> message (ConfigurationToken = VECToken1, Resolution = [Width1, Height1], Encoding = H.264, where [Width1, Height1] is the first resolution from the Options.H.264.ResolutionsAvailable) to change video encoder configuration.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationRequest</emphasis> message (ConfigurationToken = VECToken1) to get video encoder configuration.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message (ConfigurationToken = VECToken1, Resolution = [Width1, Height1], Encoding = H.264) from the DUT. Check that new setting for Resolution and Encoding was applied.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, RTP-Unicast, UDP transport) to retrieve media stream URI for the selected media profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the GetStreamUriResponse message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter as RTP/UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends H.264 RTP media stream to ONVIF Client over UDP. Verify that stream has H.264 encoding and [Width1, Height1] resolution. (Note: if stream Height resolution is between Height1 – 8 and Height1 + 8 it is assumed as valid; if stream Width resolution is between Width1 – 8 and Width1 + 8 it is assumed as valid.)
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK Response and terminates the RTSP Session.
                </para>
              </listitem>
              <listitem>
                <para>
                  Repeat 8-25 steps for the rest H.264 Resolutions supported by selected configuration.
                </para>
              </listitem>
              <listitem>
                <para>
                  Repeat steps 5-26 for the rest Video Encoder configurations supported by the DUT.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  RTSP Session is terminated by DUT during media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not sent valid video stream with H.264 encoding and specified resolution or sent it in another encoding or resolution.
                </para>
              </listitem>




            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperFrameRateSelection"/> for Frame Rate selection logic description.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>

        </section>
        <section xml:id="tc.RTSS-1-1-27">
          <title>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/UDP)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-27
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> GetGuaranteedNumberOfVideoEncoderInstances.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> GetGuaranteedNumberOfVideoEncoderInstances
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify Guaranteed Number of Video Encoder Instances (RTP-Unicast/UDP).
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Media Service was received from the DUT.

          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>

              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetVideoSourceConfigurationsRequest</emphasis> message to retrieve all DUT video source configurations.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                ONVIF Client will invoke <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesRequest</emphasis> message (ConfigurationToken = “VSCToken1”, where “VSCToken1” is a first video source configuration token from <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message) to retrieve guaranteed number of video encoder instances per first video source configuration.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis> message from the DUT.
                </para>
              </listitem>

              <listitem>
                <para>
                  Create or find number of profiles equal to TotalNumber from <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis> message that contains video
                  source configuration with token “VSCToken1” and video encoder configuration
                  by following the procedure mentioned in <xref linkend="Annex_HelperConfigureSpecifiedNumberOfProfilesWithSpecifiedVSCandDifferentVECs"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, RTP-Unicast, UDP transport) to retrieve media stream URI for the first media profile from step 7.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter as RTP/UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends JPEG RTP media stream to ONVIF Client over UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  Repeat steps 8-20 to start video streaming for all profiles from step 7.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session for each started stream.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK Response and terminates the RTSP Session.
                </para>
              </listitem>
              <listitem>
                <para>
                  If number of Video source configurations in <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message is more than one, repeat steps 5-22 for the last video source configuration token from <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  If number of Video source configurations in <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message is more than two, repeat steps 5-22 for the video source configuration token between the first and the last VSC tokens from <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  RTSP Session is terminated by DUT during media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send valid video stream.
                </para>
              </listitem>

              <listitem>
                <para>
                  DUT does not provide possibility to create TotalNumber of profiles for step 7.
                </para>
              </listitem>


            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>

        </section>
        <section xml:id="tc.RTSS-1-1-28">
          <title>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/RTSP/HTTP/TCP)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-28
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> GetGuaranteedNumberOfVideoEncoderInstances.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> GetGuaranteedNumberOfVideoEncoderInstances
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify Guaranteed Number Of Video Encoder Instances (RTP-Unicast/RTSP/HTTP/TCP)
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Media Service was received from the DUT.

          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>

              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetVideoSourceConfigurationsRequest</emphasis> message to retrieve all DUT video source configurations.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesRequest</emphasis> message (ConfigurationToken = “VSCToken1”, where “VSCToken1” is a first video source configuration token from <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message) to retrieve guaranteed number of video encoder instances per first video source configuration.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  Create or find number of profiles equal to TotalNumber from <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis> message that contains video
                  source configuration with token “VSCToken1” and video encoder configuration
                  by following the procedure mentioned in <xref linkend="Annex_HelperConfigureSpecifiedNumberOfProfilesWithSpecifiedVSCandDifferentVECs"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, RTP-Unicast, HTTP transport) to retrieve media stream URI for the first media profile from step 7.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the HTTP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes HTTP GET Request on DUT and establishes DUT to ONVIF Client connection for RTP data transfer.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes HTTP POST Request and establishes ONVIF Client to DUT connection for RTSP control requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request on HTTP POST connection.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and SDP information on HTTP GET connection.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request on HTTP POST connection with transport parameter as ‘RTP/TCP’ along with ‘interleaved’ parameter for both audio and video streams separately.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and the media stream information on HTTP GET connection.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request on HTTP POST connection.
                </para>
              </listitem>

              <listitem>
                <para>
                  DUT sends 200 OK message and starts media streaming on HTTP GET connection.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT transfers RTP media stream to ONVIF Client on HTTP GET connection.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends RTCP sender report to ONVIF Client on HTTP GET connection.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  Repeat steps 8-22 to start video streaming for all profiles from step 7.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request on HTTP POST connection and closes the HTTP POST connection.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK Response on HTTP GET connection and closes the HTTP GET connection.
                </para>
              </listitem>
              <listitem>
                <para>
                  If number of Video source configurations in <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message is more than one, repeat steps 5-24 for the last video source configuration token from <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  If number of Video source configurations in <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message is more than two, repeat steps 5-24 for the video source configuration token between the first and the last VSC tokens from <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>

            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  RTSP Session is terminated by DUT during media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send valid video stream.
                </para>
              </listitem>

              <listitem>
                <para>
                  DUT does not provide possibility to create TotalNumber of profiles for step 7.
                </para>
              </listitem>


            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>

        </section>
        <section xml:id="tc.RTSS-1-1-29">
          <title>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP/RTSP/TCP)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-29
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> GetGuaranteedNumberOfVideoEncoderInstances.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> GetGuaranteedNumberOfVideoEncoderInstances
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify Guaranteed Number Of Video Encoder Instances (RTP/RTSP/TCP)
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Media Service was received from the DUT. RTP/RTSP/TCP media streaming is implemented by DUT.

          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetVideoSourceConfigurationsRequest</emphasis> message to retrieve all DUT video source configurations.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesRequest</emphasis> message (ConfigurationToken = “VSCToken1”, where “VSCToken1” is a first video source configuration token from <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message) to retrieve guaranteed number of video encoder instances per first video source configuration.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  Create or find number of profiles equal to TotalNumber from <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis> message that contains video
                  source configuration with token “VSCToken1” and video encoder configuration
                  by following the procedure mentioned in <xref linkend="Annex_HelperConfigureSpecifiedNumberOfProfilesWithSpecifiedVSCandDifferentVECs"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, RTP-Unicast, RTSP transport) to retrieve media stream URI for the first media profile from step 7.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter as RTP/TCP.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends RTP media stream to ONVIF Client over TCP.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  Repeat steps 8-20 to start video streaming for all profiles from step 7.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session for each started stream.
                </para>
              </listitem>

              <listitem>
                <para>
                  DUT sends 200 OK Response and terminates the RTSP Session.
                </para>
              </listitem>
              <listitem>
                <para>
                  If number of Video source configurations in <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message is more than one, repeat steps 5-22 for the last video source configuration token from <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  If number of Video source configurations in <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message is more than two, repeat steps 5-22 for the video source configuration token between the first and the last VSC tokens from <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>

            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  RTSP Session is terminated by DUT during media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send valid video stream.
                </para>
              </listitem>

              <listitem>
                <para>
                  DUT does not provide possibility to create TotalNumber of profiles for step 7.
                </para>
              </listitem>


            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>

        </section>
        <section xml:id="tc.RTSS-1-1-30">
          <title>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (MIX OF TRANSPORT TYPES)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-30
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> GetGuaranteedNumberOfVideoEncoderInstances.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> GetGuaranteedNumberOfVideoEncoderInstances
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify Guaranteed Number Of Video Encoder Instances (Mix Of Transport Types)
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Media Service was received from the DUT. RTP/RTSP/TCP media streaming is implemented by DUT.

          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetVideoSourceConfigurationsRequest</emphasis> message to retrieve all DUT video source configurations.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesRequest</emphasis> message (ConfigurationToken = “VSCToken1”, where “VSCToken1” is a first video source configuration token from <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message) to retrieve guaranteed number of video encoder instances per first video source configuration.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  Create or find number of profiles equal to TotalNumber from <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis> message that contains video
                  source configuration with token “VSCToken1” and video encoder configuration
                  by following the procedure mentioned in <xref linkend="Annex_HelperConfigureSpecifiedNumberOfProfilesWithSpecifiedVSCandDifferentVECs"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  For each Media Profile (<emphasis role="italic">profile</emphasis>) that will be used for multicast streaming:
                  <orderedlist numeration="arabic"
                               inheritnum="inherit">
                    <?dbfo label-width="4.5em"?>
                    <listitem>
                      <para>
                        ONVIF Client removes Audio Encoder Configuration and Metadata Configuration from the Media Profile that will be used for multicast streaming by following the procedure mentioned in by following the procedure mentioned in <xref linkend="Annex_HelperRemoveConfigurationsFromMediaProfile"/> with the following input and output parameters

                        <itemizedlist>
                          <listitem>
                            <para>
                              in { <emphasis role="italic">AudioEncoderConfiguration, MetadataConfiguration</emphasis>} - list of configuration types to remove from Media Profile
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              in <emphasis role="italic">profile</emphasis> - Media Profile to update
                            </para>
                          </listitem>

                        </itemizedlist>
                      </para>
                    </listitem>

                  </orderedlist>
                </para>
              </listitem>

              <listitem>
                <para>
                  ONVIF Client start media streaming for first profile to retrieve media stream URI for the first media profile from step 7.
                  (To start media streaming <xref linkend="Annex_HelperStreamingRTPUnicastUDP"/>, <xref linkend="Annex_HelperStreamingRTPMulticastUDP"/>,
                  <xref linkend="Annex_HelperStreamingRTPUnicastRTSPHTTPTCP"/>, or <xref linkend="Annex_HelperStreamingRTPRTSPTCP"/> will be used in loop.
                  <xref linkend="Annex_HelperStreamingRTPMulticastUDP"/> will be used if RTP-Multicast/UDP supported.
                  <xref linkend="Annex_HelperStreamingRTPRTSPTCP"/> will be used if RTP/RTSP/TCP supported.)
                </para>
              </listitem>
              <listitem>
                <para>
                  Repeat step 8 to start video streaming for all profiles from step 7 (transport type should be altered for each iteration of the loop, see step 8 for more details).
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session for each started stream.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK Response and terminates the RTSP Session.
                </para>
              </listitem>
              <listitem>
                <para>
                  If number of Video source configurations in <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message is more than one, repeat steps 5-11 for the last video source configuration token from <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  If number of Video source configurations in <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message is more than two, repeat steps 5-11 for the video source configuration token between the first and the last VSC tokens from <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DTT restores changed profiles and configurations.
                </para>
              </listitem>



            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  RTSP Session is terminated by DUT during media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send valid video stream.
                </para>
              </listitem>

              <listitem>
                <para>
                  DUT does not provide possibility to create TotalNumber of profiles for step 7.
                </para>
              </listitem>


            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> In case if there are more than one Media Profiles with the same Video Encoder Configuration, multicast streaming will be started only for one of them.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
          </section>
          <section xml:id="tc.RTSS-1-1-31">
            <title>MEDIA CONTROL – RTSP/TCP</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-31
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> Stream control, RTSP.
            </para>
            <para>
              <emphasis role="bold">Command Under Test:</emphasis> None.
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify RTSP control messages of DUT.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> A media profile with JPEG video encoder configuration. Real-time streaming supported by DUT.

            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    ONVIF Client selects a media profile with JPEG video encoding support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> (Encoding = “JPEG”, Resolution = [“Width”, “Height”], Quality = q1, Session Timeout = t1 and force persistence = false). These values will be taken from the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT modifies video encoder configuration and responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message indicating success.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, 	RTP-Unicast, UDP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client will invoke RTSP OPTIONS control request to understand the RTSP methods supported by DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response and list of supported RTSP methods.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client will invoke RTSP DESCRIBE control request to retrieve the media description information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response and SDP message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client validates the session description information in the SDP 	message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client will invoke RTSP SETUP control request to create a RTSP Session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response and Stream Information details.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client Verifies “Transport”, “Session” and “timeout” header fields in the SETUP response message.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    ONVIF Client will invoke RTSP PLAY control request to initiate the media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response and RTP protocol information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client verifies “Session”, “RTP-Info”, “seq”, “uri” and “rtptime” header fields in the PLAY response message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT transfers media streams over RTP/UDP.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTCP sender report to ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client validates RTCP packets.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client validates RTP header for each media stream and render it after the validation.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client will invoke RTSP TEARDOWN control request to terminate the RTSP session at the end of the streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response and terminates the RTSP Session.
                  </para>
                </listitem>



              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not have valid media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send correct media stream information in the SDP message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send mandatory headers or fields in the SETUP response message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send mandatory headers or fields in the PLAY response message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTSP 200 OK response for RTSP OPTIONS, DESCRIBE, SETUP and PLAY requests.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    RTSP Session is terminated by DUT during media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send valid RTP header in one or more media streams.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTCP sender report correctly.
                  </para>
                </listitem>


              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> If DUT does not send SET_PARAMETER in OPTIONS response, the Device Test Tool provides warning.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
            </para>

          </section>
          <section xml:id="tc.RTSS-1-1-32">
            <title>MEDIA STREAMING – RTSP KEEPALIVE (SET_PARAMETER)</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-32
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> Keep-alive method for RTSP session.
            </para>
            <para>
              <emphasis role="bold">Command Under Test:</emphasis> None.
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify ONVIF Client and DUT exchange SET_PARAMETER messages during an active streaming session.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> A media profile with JPEG video encoder configuration. Real-time streaming supported by DUT.

            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client selects a media profile with JPEG video encoding support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> (Encoding = “JPEG”, Resolution = [“Width”, “Height”], Quality = q1, Session Timeout = t1 and force persistence = false). These values will be taken from the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT modifies video encoder configuration and responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message indicating success.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, 	RTP-Unicast, UDP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client will invoke RTSP control requests (DESCRIBE, SETUP and PLAY).
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client will verify “Timeout” header in the SETUP Response from DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Based on the “Timeout” value, ONVIF Client will invoke RTSP SET_PARAMETER messages.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT will respond with 200 OK for RTSP SET_PARAMETER request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify that the ONVIF Client and DUT are exchanging periodic SET_PARAMETER messages while a stream is being delivered.
                  </para>
                </listitem>

              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not have valid media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send Timeout header in RTSP SETUP RESPONSE.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and SET_PARAMETER requests.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    RTSP Session is terminated by DUT during media streaming.
                  </para>
                </listitem>





              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
            </para>

            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
            </para>

          </section>
          <section xml:id="tc.RTSS-1-1-33">
            <title>MEDIA STREAMING - RTSP KEEPALIVE (OPTIONS)</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-33
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> Keep-alive method for RTSP session.
            </para>
            <para>
              <emphasis role="bold">Command Under Test:</emphasis> None.
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify ONVIF Client and DUT exchange OPTIONS messages during an active streaming session.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> A media profile with JPEG video encoder configuration. Real-time streaming supported by DUT.

            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client selects a media profile with JPEG video encoding support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                  ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> (Encoding = “JPEG”, Resolution = [“Width”, “Height”], Quality = q1, Session Timeout = t1 and force persistence = false). These values will be taken from the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    Verify the <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message from the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, 	RTP-Unicast, UDP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">GetStreamUriResponse</emphasis> message from the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the RTSP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client will invoke RTSP control requests (DESCRIBE, SETUP and PLAY).
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client will verify “Timeout” header in the SETUP Response from DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Based on the “Timeout” value, ONVIF Client will invoke RTSP OPTIONS messages.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT will respond with 200 OK for RTSP OPTIONS request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify that the ONVIF Client and DUT are exchanging periodic OPTIONS messages while a stream is being delivered.
                  </para>
                </listitem>

              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not have valid media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send Timeout header in RTSP SETUP RESPONSE.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and OPTIONS requests.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    RTSP Session is terminated by DUT during media streaming.
                  </para>
                </listitem>





              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
            </para>

            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
            </para>

          </section>
          <section xml:id="tc.RTSS-1-1-34">
            <title>MEDIA STREAMING – JPEG (RTP-Unicast/UDP)</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-34
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, Stream control, RTSP.
            </para>
            <para>
              <emphasis role="bold">Command Under Test:</emphasis> None.
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify JPEG media streaming based on RTP/UDP Unicast Transport.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> A media profile with JPEG video encoder configuration. Real-time streaming supported by DUT.

            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client selects a media profile with JPEG video encoding support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> (Encoding = “JPEG”, Resolution = [“Width”, “Height”], Quality = q1, Session Timeout = t1 and force persistence = false). These values will be taken from the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT modifies video encoder configuration and responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message indicating success.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, 	RTP-Unicast, UDP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    Verify the RTSP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request with transport parameter as RTP/UDP.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends JPEG RTP media stream to ONVIF Client over UDP.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTCP sender report to ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT validates the received RTP and RTCP packets, decodes and renders them.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response and terminates the RTSP Session.
                  </para>
                </listitem>

              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not have valid media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send valid RTP header in one or more media streams.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTCP sender report correctly.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    RTSP Session is terminated by DUT during media streaming.
                  </para>
                </listitem>





              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
            </para>

            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
            </para>

          </section>
          <section xml:id="tc.RTSS-1-1-35">
            <title>MEDIA STREAMING – JPEG (RTP-Unicast/RTSP/HTTP/TCP)</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-35
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP, RTSP over HTTP.
            </para>
            <para>
              <emphasis role="bold">Command Under Test:</emphasis> None.
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify JPEG media streaming based on HTTP Transport.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> A media profile with JPEG video encoder configuration. Real-time streaming supported by DUT.

            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client selects a media profile with JPEG video encoding support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> (Encoding = “JPEG”, Resolution = [“Width”, “Height”], Quality = q1, Session Timeout = t1 and force persistence = false). These values will be taken from the GetVideoEncoderConfigurationOptionsResponse in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT modifies video encoder configuration and responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message indicating success.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, RTP-Unicast, HTTP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends HTTP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    ONVIF Client verifies the HTTP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes HTTP GET Request on DUT and establishes DUT to ONVIF Client connection for RTP data transfer.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes HTTP POST Request and establishes ONVIF Client to DUT connection for RTSP control requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request on HTTP POST connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request on HTTP POST connection with transport parameter as ‘RTP/TCP’ along with ‘interleaved’ parameter.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request on HTTP POST connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT transfers JPEG RTP media stream to ONVIF Client on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTCP sender report to ONVIF Client on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT validates the received RTP and RTCP packets, decodes and renders them.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request on HTTP POST connection and closes the HTTP POST connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response on HTTP GET connection and closes the HTTP GET connection.
                  </para>
                </listitem>

              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not have valid media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – HTTP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send valid RTP header in one or more media streams.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTCP sender report correctly.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    RTSP Session is terminated by DUT during media streaming.
                  </para>
                </listitem>





              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
            </para>

            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
            </para>
          </section>
          <section xml:id="tc.RTSS-1-1-36">
            <title>MEDIA STREAMING – JPEG (RTP/RTSP/TCP)</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-36
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/TCP, RTP, RTCP, Stream control, RTSP.
            </para>
            <para>
              <emphasis role="bold">Command Under Test:</emphasis> None.
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify JPEG media streaming based on RTP/RTSP/TCP using RTSP tunnel.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> A media profile with JPEG video encoder configuration. Real-time streaming supported by DUT.

            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client selects a media profile with JPEG video encoding support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> (Encoding = “JPEG”, Resolution = [“Width”, “Height”], Quality = q1, Session Timeout = t1 and force persistence = false). These values will be taken from the GetVideoEncoderConfigurationOptionsResponse in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT modifies video encoder configuration and responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message indicating success.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, 	RTP-Unicast, RTSP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    Verify the RTSP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request with transport parameter as ‘RTP/TCP’ along with ‘interleaved’ parameter.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT interleaves RTP and RTCP packets, send them over RTSP control connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    16.	DUT validates the received RTP and RTCP packets, decodes and renders them.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response and terminates the RTSP Session.
                  </para>
                </listitem>

              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not have valid media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTP and RTCP packets as per [RFC 2326] section 10.12.
                  </para>
                </listitem>


                <listitem>
                  <para>
                    RTSP Session is terminated by DUT during media streaming.
                  </para>
                </listitem>





              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
            </para>

            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
            </para>
          </section>
          <section xml:id="tc.RTSS-1-1-37">
            <title>MEDIA STREAMING – MPEG4 (RTP-Unicast/UDP)</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-37
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, Stream control, RTSP.
            </para>
            <para>
              <emphasis role="bold">Command Under Test:</emphasis> None.
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify MPEG4 media streaming based on RTP/UDP Unicast Transport.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> MPEG4 is implemented by DUT. A media profile with MPEG4 video encoder configuration. Real-time streaming supported by DUT.

            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client selects a media profile with MPEG4 video encoding support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> (Encoding = “MPEG4”, Resolution = [“Width”, “Height”], Quality = q1, Session Timeout = t1 and force persistence = false). These values will be taken from the GetVideoEncoderConfigurationOptionsResponse in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT modifies video encoder configuration and responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message indicating success.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, 	RTP-Unicast, UDP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    Verify the RTSP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request with transport parameter as RTP/UDP.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends MPEG4 RTP media stream to ONVIF Client over UDP.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTCP sender report to ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT validates the received RTP and RTCP packets, decodes and renders them.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response and terminates the RTSP Session.
                  </para>
                </listitem>

              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not have valid media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send valid RTP header in one or more media streams.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTCP sender report correctly.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    RTSP Session is terminated by DUT during media streaming.
                  </para>
                </listitem>





              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
            </para>

            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
            </para>
          </section>
          <section xml:id="tc.RTSS-1-1-38">
            <title>MEDIA STREAMING – MPEG4 (RTP-Unicast/RTSP/HTTP/TCP)</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-38
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP, RTSP over HTTP.
            </para>
            <para>
              <emphasis role="bold">Command Under Test:</emphasis> None.
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify MPEG4 media streaming based on HTTP Transport.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> MPEG4 is implemented by DUT. A media profile with MPEG4 video encoder configuration. Real-time streaming supported by DUT.
            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client selects a media profile with MPEG4 video encoding support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> (Encoding = “MPEG4”, Resolution = [“Width”, “Height”], Quality = q1, Session Timeout = t1 and force persistence = false). These values will be taken from the GetVideoEncoderConfigurationOptionsResponse in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT modifies video encoder configuration and responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message indicating success.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, RTP-Unicast, HTTP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends HTTP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    ONVIF Client verifies the HTTP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes HTTP GET Request on DUT and establishes DUT to ONVIF Client connection for RTP data transfer.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes HTTP POST Request and establishes ONVIF Client to DUT connection for RTSP control requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request on HTTP POST connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request on HTTP POST connection with transport parameter as ‘RTP/TCP’ along with ‘interleaved’ parameter.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request on HTTP POST connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT transfers MPEG4 RTP media stream to ONVIF Client on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTCP sender report to ONVIF Client on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT validates the received RTP and RTCP packets, decodes and renders them.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request on HTTP POST connection and closes the HTTP POST connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response on HTTP GET connection and closes the HTTP GET connection.
                  </para>
                </listitem>

              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not have valid media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – HTTP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send valid RTP header in one or more media streams.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTCP sender report correctly.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    RTSP Session is terminated by DUT during media streaming.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
            </para>

            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
            </para>
          </section>
          <section xml:id="tc.RTSS-1-1-39">
            <title>MEDIA STREAMING – MPEG4 (RTP/RTSP/TCP)</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-39
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/TCP, RTP, RTCP, Stream control, RTSP.
            </para>
            <para>
              <emphasis role="bold">Command Under Test:</emphasis> None.
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify MPEG4 media streaming based on RTP/RTSP/TCP using RTSP tunnel.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> MPEG4 and RTP/RTSP/TCP media streaming is implemented by DUT.
              A media profile with MPEG4 video encoder configuration. Real-time streaming supported by DUT.


            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client selects a media profile with MPEG4 video encoding support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> (Encoding = “MPEG4”, Resolution = [“Width”, “Height”], Quality = q1, Session Timeout = t1 and force persistence = false). These values will be taken from the GetVideoEncoderConfigurationOptionsResponse in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT modifies video encoder configuration and responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message indicating success.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, 	RTP-Unicast, RTSP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    Verify the RTSP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request with transport parameter as ‘RTP/TCP’ along with ‘interleaved’ parameter.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT interleaves RTP and RTCP packets, send them over RTSP control connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT validates the received RTP and RTCP packets, decodes and renders them.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response and terminates the RTSP Session.
                  </para>
                </listitem>

              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not have valid media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTP and RTCP packets as per [RFC 2326] section 10.12.
                  </para>
                </listitem>


                <listitem>
                  <para>
                    RTSP Session is terminated by DUT during media streaming.
                  </para>
                </listitem>





              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
            </para>

            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
            </para>
          </section>
          <section xml:id="tc.RTSS-1-1-40">
            <title>SET SYNCHRONIZATION POINT – MPEG4</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-40
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> Set synchronization point.
            </para>
            <para>
              <emphasis role="bold">Command Under Test:</emphasis> SetSynchronizationPoint
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To request synchronization point from DUT for MPEG4 media stream.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> MPEG4 is implemented by DUT. Real-time streaming supported by DUT.
              A media profile with MPEG4 video encoder configuration.


            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client selects a media profile with MPEG4 video encoding support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> (Encoding = “MPEG4”, Resolution = [“Width”, “Height”], Quality = q1, Session Timeout = t1 and force persistence = false). These values will be taken from the GetVideoEncoderConfigurationOptionsResponse in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT modifies video encoder configuration and responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message indicating success.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, 	RTP-Unicast, UDP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request with transport parameter as RTP/UDP.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends MPEG4 RTP media stream to ONVIF Client over UDP.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTCP sender report to ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT validates the received RTP and RTCP packets, decodes and renders them.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes SetSynchronizationPoint request on the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends the SetSynchronizationPoint response indicating success.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT inserts the I-frame in the ongoing media stream.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client verifies that I-frame is sent by DUT before the regular ‘I-frame insertion time interval’.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response and terminates the RTSP Session.
                  </para>
                </listitem>

              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not have valid media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetSynchronizationPointResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send I-frame before the regular ‘I-frame insertion time interval’ upon invoking SetSynchronizationPoint request.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT did not send one or more mandatory parameters in the GetStreamUriResponse message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    RTSP Session is terminated by DUT during media streaming.
                  </para>
                </listitem>


              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
            </para>

            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
            </para>
          </section>
          <section xml:id="tc.RTSS-1-1-41">
            <title>MEDIA STREAMING – H.264 (RTP-Unicast/UDP)</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-41
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, Stream control, RTSP.
            </para>
            <para>
              <emphasis role="bold">Command Under Test:</emphasis> None.
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify H.264 media streaming based on RTP/UDP Unicast Transport.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> H.264 is implemented by DUT. Real-time streaming supported by DUT.
              A media profile with H.264 video encoder configuration.


            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client selects a media profile with H.264 video encoding support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> (Encoding = “H.264”, Resolution = [“Width”, “Height”], Quality = q1, Session Timeout = t1 and force persistence = false). These values will be taken from the GetVideoEncoderConfigurationOptionsResponse in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT modifies video encoder configuration and responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message indicating success.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, 	RTP-Unicast, UDP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    Verify the RTSP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request with transport parameter as RTP/UDP.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends H.264 RTP media stream to ONVIF Client over UDP.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTCP sender report to ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT validates the received RTP and RTCP packets, decodes and renders them.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response and terminates the RTSP Session.
                  </para>
                </listitem>

              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not have valid media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send valid RTP header in one or more media streams.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTCP sender report correctly.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    RTSP Session is terminated by DUT during media streaming.
                  </para>
                </listitem>





              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
            </para>

            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
            </para>
          </section>
          <section xml:id="tc.RTSS-1-1-42">
            <title>MEDIA STREAMING – H.264 (RTP-Unicast/RTSP/HTTP/TCP)</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-42
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP, RTSP over HTTP.
            </para>
            <para>
              <emphasis role="bold">Command Under Test:</emphasis> None.
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify H.264 media streaming based on HTTP Transport.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> H.264 is implemented by DUT.
              A media profile with H.264 video encoder configuration. Real-time streaming supported by DUT.


            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client selects a media profile with H.264 video encoding support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> (Encoding = “H.264”, Resolution = [“Width”, “Height”], Quality = q1, Session Timeout = t1 and force persistence = false). These values will be taken from the GetVideoEncoderConfigurationOptionsResponse in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT modifies video encoder configuration and responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message indicating success.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, RTP-Unicast, HTTP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends HTTP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    ONVIF Client verifies the HTTP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes HTTP GET Request on DUT and establishes DUT to ONVIF Client connection for RTP data transfer.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes HTTP POST Request and establishes ONVIF Client to DUT connection for RTSP control requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request on HTTP POST connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request on HTTP POST connection with transport parameter as ‘RTP/TCP’ along with ‘interleaved’ parameter.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request on HTTP POST connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT transfers H.264 RTP media stream to ONVIF Client on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTCP sender report to ONVIF Client on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT validates the received RTP and RTCP packets, decodes and renders them.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request on HTTP POST connection and closes the HTTP POST connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response on HTTP GET connection and closes the HTTP GET connection.
                  </para>
                </listitem>

              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not have valid media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – HTTP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send valid RTP header in one or more media streams.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTCP sender report correctly.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    RTSP Session is terminated by DUT during media streaming.
                  </para>
                </listitem>





              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
            </para>

            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
            </para>
          </section>
          <section xml:id="tc.RTSS-1-1-43">
            <title>MEDIA STREAMING – H.264 (RTP/RTSP/TCP)</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-43
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/TCP, RTP, RTCP, Stream control, RTSP.
            </para>
            <para>
              <emphasis role="bold">Command Under Test:</emphasis> None.
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify H.264 media streaming based on RTP/RTSP/TCP using RTSP tunnel.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> H.264 and RTP/RTSP/TCP media streaming is implemented by DUT.
              A media profile with H.264 video encoder configuration. Real-time streaming supported by DUT.


            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client selects a media profile with H.264 video encoding support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> (Encoding = “H.264”, Resolution = [“Width”, “Height”], Quality = q1, Session Timeout = t1 and force persistence = false). These values will be taken from the GetVideoEncoderConfigurationOptionsResponse in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT modifies video encoder configuration and responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message indicating success.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, 	RTP-Unicast, RTSP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    Verify the RTSP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request with transport parameter as ‘RTP/TCP’ along with ‘interleaved’ parameter.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT interleaves RTP and RTCP packets, send them over RTSP control connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT validates the received RTP and RTCP packets, decodes and renders them.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response and terminates the RTSP Session.
                  </para>
                </listitem>

              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not have valid media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTP and RTCP packets as per [RFC 2326] section 10.12.
                  </para>
                </listitem>


                <listitem>
                  <para>
                    RTSP Session is terminated by DUT during media streaming.
                  </para>
                </listitem>





              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
            </para>

            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
            </para>
          </section>
          <section xml:id="tc.RTSS-1-1-44">
            <title>SET SYNCHRONIZATION POINT – H.264</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-44
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> Set synchronization point.
            </para>
            <para>
              <emphasis role="bold">Command Under Test:</emphasis> SetSynchronizationPoint
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To request synchronization point from DUT for H.264 media stream.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> H.264 is implemented by DUT. Real-time streaming supported by DUT.
              A media profile with H.264 video encoder configuration.


            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client selects a media profile with H.264 video encoding support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> (Encoding = “H.264”, Resolution = [“Width”, “Height”], Quality = q1, Session Timeout = t1 and force persistence = false). These values will be taken from the GetVideoEncoderConfigurationOptionsResponse in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT modifies video encoder configuration and responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message indicating success.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, 	RTP-Unicast, UDP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request with transport parameter as RTP/UDP.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends H.264 RTP media stream to ONVIF Client over UDP.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTCP sender report to ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT validates the received RTP and RTCP packets, decodes and renders them.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetSynchronizationPoint</emphasis> request on the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends the <emphasis role="bold">SetSynchronizationPointResponse</emphasis> indicating success.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT inserts the I-frame in the ongoing media stream.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client verifies that I-frame is sent by DUT before the regular ‘I-frame insertion time interval’.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response and terminates the RTSP Session.
                  </para>
                </listitem>

              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not have valid media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetSynchronizationPointResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send I-frame before the regular ‘I-frame insertion time interval’ upon invoking <emphasis role="bold">SetSynchronizationPoint</emphasis> request.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    RTSP Session is terminated by DUT during media streaming.
                  </para>
                </listitem>


              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
            </para>

            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
            </para>
          </section>
          <section xml:id="tc.RTSS-1-1-45">
            <title>MEDIA STREAMING – RTP-Unicast/RTSP/HTTP/TCP (LINE BREAKS IN BASE64 ENCODING)</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-45
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP, RTSP over HTTP.
            </para>
            <para>
              <emphasis role="bold">Command Under Test:</emphasis> None.
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify JPEG media streaming based on HTTP Transport with line breaks for Base64 encoding in RTSP requests.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> A media profile with JPEG video encoder configuration. Real-time streaming supported by DUT.

            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client selects a media profile with JPEG video encoding support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> (Encoding = “JPEG”, Resolution = [“Width”, “Height”], Quality = q1, Session Timeout = t1 and force persistence = false). These values will be taken from the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT modifies video encoder configuration and responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message indicating success.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, RTP-Unicast, HTTP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends HTTP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    ONVIF Client verifies the HTTP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes HTTP GET Request on DUT and establishes DUT to ONVIF Client connection for RTP data transfer.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes HTTP POST Request and establishes ONVIF Client to DUT connection for RTSP control requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request with line breaks in Base64 encoding on HTTP POST connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request with line breaks in Base64 encoding on HTTP POST connection with transport parameter as ‘RTP/TCP’ along with ‘interleaved’ parameter.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request with line breaks in Base64 encoding on HTTP POST connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT transfers JPEG RTP media stream to ONVIF Client on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTCP sender report to ONVIF Client on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT validates the received RTP and RTCP packets, decodes and renders them.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request with line breaks in Base64 encoding on HTTP POST connection and closes the HTTP POST connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response on HTTP GET connection and closes the HTTP GET connection.
                  </para>
                </listitem>

              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not have valid media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – HTTP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests with line breaks in Base64 encoding.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send valid RTP header in one or more media streams.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTCP sender report correctly.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    RTSP Session is terminated by DUT during media streaming.
                  </para>
                </listitem>





              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
            </para>

            <para>
              <emphasis role="bold">Note:</emphasis> RTSP requests for steps 11, 13, 15, and 20 will be sent with line breaks in RTSP in Base64 encoding (see http://tools.ietf.org/html/rfc1421#section-4.3.2.4 for more details). These line breaks shall be ignored by the DUT during request processing.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
            </para>
          </section>
          <section xml:id="tc.RTSS-1-1-46">
            <title>VIDEO ENCODER CONFIGURATION – JPEG RESOLUTION</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-46
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> SetVideoEncoderConfiguration, GetVideoEncoderConfiguration, GetStreamUri, Live Streaming
            </para>
            <para>
              <emphasis role="bold">Command Under Test:</emphasis> SetVideoEncoderConfiguration, GetVideoEncoderConfiguration, GetStreamUri
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify changing and applying of different Resolutions for video encoder configuration and video stream.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Media Service was received from the DUT. There is Video Encoder Configuration which is either configured with JPEG or the DUT allows to change encoding of Video Encoder Configuration.

            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationsRequest</emphasis> message to retrieve video configuration list.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Find or create media profile with Video Source Configuration and Video Encoder Configuration with token VECToken1 and supporting of JPEG encoding,
                    where VECToken1 is first video encoder configuration token
                    from <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationWithSpecifiedVideoEncoderConfigurationWithPossibilityToSetSpecifiedEncoding"/>.
                    If it is not possible skip steps 6-61 and go to the step 62.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationOptionsRequest</emphasis> message (ProfileToken = “Profile1”, where “Profile1” is profile token from the step 5) to get video encoder configuration options.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message from the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> message (ConfigurationToken = VECToken1, Resolution = [Width1, Height1], Encoding = JPEG, where [Width1, Height1] is maximum resolution from the Options.JPEG.ResolutionsAvailable) to change video encoder configuration.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message from the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationRequest</emphasis> message (ConfigurationToken = VECToken1) to get video encoder configuration.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message (ConfigurationToken = VECToken1, Resolution = [Width1, Height1], Encoding = JPEG) from the DUT. Check that new setting for Resolution and Encoding was applied.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, RTP-Unicast, UDP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request with transport parameter as RTP/UDP.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends JPEG RTP media stream to ONVIF Client over UDP. Verify that stream has JPEG encoding and [Width1, Height1] resolution. (Note: if stream Height resolution is between Height1 – 8 and Height1 + 8 it is assumed as valid; if stream Width resolution is between Width1 – 8 and Width1 + 8 it is assumed as valid.)
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTCP sender report to ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT validates the received RTP and RTCP packets, decodes and renders them.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response and terminates the RTSP Session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> message (ConfigurationToken = VECToken1, Resolution = [Width2, Height2], Encoding = JPEG, where [Width2, Height2] is minimum resolution from the Options.JPEG.ResolutionsAvailable) to change video encoder configuration.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message from the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationRequest</emphasis> message (ConfigurationToken = VECToken1) to get video encoder configuration.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message (ConfigurationToken = VECToken1, Resolution = [Width2, Height2], Encoding = JPEG, where [Width2, Height2]) from the DUT. Check that new setting for Resolution and Encoding was applied.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, RTP-Unicast, UDP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request with transport parameter as RTP/UDP.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends JPEG RTP media stream to ONVIF Client over UDP. Verify that stream has JPEG encoding and [Width2, Height2] resolution.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTCP sender report to ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT validates the received RTP and RTCP packets, decodes and renders them.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response and terminates the RTSP Session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> message (ConfigurationToken = VECToken1, Resolution = [Width3, Height3], Encoding = JPEG, where [Width3, Height3] is middle resolution from the Options.JPEG.ResolutionsAvailable) to change video encoder configuration.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message from the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationRequest</emphasis> message (ConfigurationToken = VECToken1) to get video encoder configuration.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message (ConfigurationToken = VECToken1, Resolution = [Width3, Height3], Encoding = JPEG) from the DUT. Check that new setting for Resolution and Encoding was applied.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, RTP-Unicast, UDP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request with transport parameter as RTP/UDP.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends JPEG RTP media stream to ONVIF Client over UDP. Verify that stream has JPEG encoding and [Width3, Height3] resolution.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTCP sender report to ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT validates the received RTP and RTCP packets, decodes and renders them.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response and terminates the RTSP Session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Repeat steps 5-62 for the first, middle and last Video Encoder configurations supported by the DUT.
                  </para>
                </listitem>


              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send valid RTP header in one or more media streams.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTCP sender report correctly.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    RTSP Session is terminated by DUT during media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not sent valid video stream with JPEG encoding and specified resolution or sent it in another encoding or resolution.
                  </para>
                </listitem>




              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> The following rule will be used to compare resolutions: Resolution1 (Width1, Height1) is greater than Resolution2 (Width2, Height2), if Width1*Height1 is greater than Width2*Height2. This rule will be used to define minimum, maximum and middle resolution.
            </para>

            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> If it is impossible to create profile for all three: the first, the middle and the last Video Encoder configurations on the 5th step, then Onvif Client will try selecting another Video Encoder configuration until a profile is created.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
            </para>
          </section>
          <section xml:id="tc.RTSS-1-1-47">
            <title>VIDEO ENCODER CONFIGURATION – MPEG4 RESOLUTION</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-47
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> SetVideoEncoderConfiguration, GetVideoEncoderConfiguration, GetStreamUri, Live Streaming
            </para>
            <para>
              <emphasis role="bold">Command Under Test:</emphasis> SetVideoEncoderConfiguration, GetVideoEncoderConfiguration, GetStreamUri
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify changing and applying of different Resolutions for video encoder configuration and video stream.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> MPEG4 is implemented by DUT. Media is supported by DUT. Real-time streaming supported by DUT. Media Service was received from the DUT. There is Video Encoder Configuration which is either configured with MPEG4 or the DUT allows to change encoding of Video Encoder Configuration.

            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationsRequest</emphasis> message to retrieve video configuration list.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Find or create media profile with Video Source Configuration and Video Encoder Configuration with token VECToken1 and supporting of MPEG4 encoding,
                    where VECToken1 is first video encoder configuration token
                    from <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationWithSpecifiedVideoEncoderConfigurationWithPossibilityToSetSpecifiedEncoding"/>.
                    If it is not possible skip steps 6-61 and go to the step 62.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationOptionsRequest</emphasis> message (ProfileToken = “Profile1”, where “Profile1” is profile token from the step 5) to get video encoder configuration options.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message from the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> message (ConfigurationToken = VECToken1, Resolution = [Width1, Height1], Encoding = MPEG4, where [Width1, Height1] is maximum resolution from the Options.MPEG4.ResolutionsAvailable) to change video encoder configuration.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message from the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationRequest</emphasis> message (ConfigurationToken = VECToken1) to get video encoder configuration.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message (ConfigurationToken = VECToken1, Resolution = [Width1, Height1], Encoding = MPEG4) from the DUT. Check that new setting for Resolution and Encoding was applied.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, RTP-Unicast, UDP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request with transport parameter as RTP/UDP.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends MPEG4 RTP media stream to ONVIF Client over UDP. Verify that stream has MPEG4 encoding and [Width1, Height1] resolution. (Note: if stream Height resolution is between Height1 – 8 and Height1 + 8 it is assumed as valid; if stream Width resolution is between Width1 – 8 and Width1 + 8 it is assumed as valid.)
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTCP sender report to ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT validates the received RTP and RTCP packets, decodes and renders them.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response and terminates the RTSP Session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> message (ConfigurationToken = VECToken1, Resolution = [Width2, Height2], Encoding = MPEG4, where [Width2, Height2] is minimum resolution from the Options.MPEG4.ResolutionsAvailable) to change video encoder configuration.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message from the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationRequest</emphasis> message (ConfigurationToken = VECToken1) to get video encoder configuration.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message (ConfigurationToken = VECToken1, Resolution = [Width2, Height2], Encoding = MPEG4, where [Width2, Height2]) from the DUT. Check that new setting for Resolution and Encoding was applied.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, RTP-Unicast, UDP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request with transport parameter as RTP/UDP.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends MPEG4 RTP media stream to ONVIF Client over UDP. Verify that stream has MPEG4 encoding and [Width2, Height2] resolution.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTCP sender report to ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT validates the received RTP and RTCP packets, decodes and renders them.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response and terminates the RTSP Session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> message (ConfigurationToken = VECToken1, Resolution = [Width3, Height3], Encoding = MPEG4, where [Width3, Height3] is middle resolution from the Options.MPEG4.ResolutionsAvailable) to change video encoder configuration.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message from the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationRequest</emphasis> message (ConfigurationToken = VECToken1) to get video encoder configuration.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message (ConfigurationToken = VECToken1, Resolution = [Width3, Height3], Encoding = MPEG4) from the DUT. Check that new setting for Resolution and Encoding was applied.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, RTP-Unicast, UDP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request with transport parameter as RTP/UDP.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends MPEG4 RTP media stream to ONVIF Client over UDP. Verify that stream has MPEG4 encoding and [Width3, Height3] resolution.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTCP sender report to ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT validates the received RTP and RTCP packets, decodes and renders them.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response and terminates the RTSP Session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Repeat steps 5-62 for the first, middle and last Video Encoder configurations supported by the DUT.
                  </para>
                </listitem>


              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send valid RTP header in one or more media streams.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTCP sender report correctly.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    RTSP Session is terminated by DUT during media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not sent valid video stream with MPEG4 encoding and specified resolution or sent it in another encoding or resolution.
                  </para>
                </listitem>




              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> The following rule will be used to compare resolutions: Resolution1 (Width1, Height1) is greater than Resolution2 (Width2, Height2), if Width1*Height1 is greater than Width2*Height2. This rule will be used to define minimum, maximum and middle resolution.
            </para>

            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> If it is impossible to create profile for all three: the first, the middle and the last Video Encoder configurations on the 5th step, then Onvif Client will try selecting another Video Encoder configuration until a profile is created.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
            </para>
          </section>
          <section xml:id="tc.RTSS-1-1-48">
            <title>VIDEO ENCODER CONFIGURATION – H.264 RESOLUTION</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-48
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> SetVideoEncoderConfiguration, GetVideoEncoderConfiguration, GetStreamUri, Live Streaming
            </para>
            <para>
              <emphasis role="bold">Command Under Test:</emphasis> SetVideoEncoderConfiguration, GetVideoEncoderConfiguration, GetStreamUri
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify changing and applying of different Resolutions for video encoder configuration and video stream.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> H.264 is implemented by DUT. Media is supported by DUT. Real-time streaming supported by DUT. Media Service was received from the DUT. There is Video Encoder Configuration which is either configured with H.264 or the DUT allows to change encoding of Video Encoder Configuration.

            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationsRequest</emphasis> message to retrieve video configuration list.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Find or create media profile with Video Source Configuration and Video Encoder Configuration with token VECToken1 and supporting of H.264 encoding,
                    where VECToken1 is first video encoder configuration token
                    from <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationWithSpecifiedVideoEncoderConfigurationWithPossibilityToSetSpecifiedEncoding"/>.
                    If it is not possible skip steps 6-61 and go to the step 62.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationOptionsRequest</emphasis> message (ProfileToken = “Profile1”, where “Profile1” is profile token from the step 5) to get video encoder configuration options.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message from the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> message (ConfigurationToken = VECToken1, Resolution = [Width1, Height1], Encoding = H.264, where [Width1, Height1] is maximum resolution from the Options.H.264.ResolutionsAvailable) to change video encoder configuration.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message from the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationRequest</emphasis> message (ConfigurationToken = VECToken1) to get video encoder configuration.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message (ConfigurationToken = VECToken1, Resolution = [Width1, Height1], Encoding = H.264) from the DUT. Check that new setting for Resolution and Encoding was applied.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, RTP-Unicast, UDP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request with transport parameter as RTP/UDP.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends H.264 RTP media stream to ONVIF Client over UDP. Verify that stream has H.264 encoding and [Width1, Height1] resolution. (Note: if stream Height resolution is between Height1 – 8 and Height1 + 8 it is assumed as valid; if stream Width resolution is between Width1 – 8 and Width1 + 8 it is assumed as valid.)
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTCP sender report to ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT validates the received RTP and RTCP packets, decodes and renders them.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response and terminates the RTSP Session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> message (ConfigurationToken = VECToken1, Resolution = [Width2, Height2], Encoding = H.264, where [Width2, Height2] is minimum resolution from the Options.H.264.ResolutionsAvailable) to change video encoder configuration.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message from the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationRequest</emphasis> message (ConfigurationToken = VECToken1) to get video encoder configuration.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message (ConfigurationToken = VECToken1, Resolution = [Width2, Height2], Encoding = H.264, where [Width2, Height2]) from the DUT. Check that new setting for Resolution and Encoding was applied.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, RTP-Unicast, UDP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the GetStreamUriResponse message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request with transport parameter as RTP/UDP.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends H.264 RTP media stream to ONVIF Client over UDP. Verify that stream has H.264 encoding and [Width2, Height2] resolution.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTCP sender report to ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT validates the received RTP and RTCP packets, decodes and renders them.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response and terminates the RTSP Session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> message (ConfigurationToken = VECToken1, Resolution = [Width3, Height3], Encoding = H.264, where [Width3, Height3] is middle resolution from the Options.H.264.ResolutionsAvailable) to change video encoder configuration.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message from the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationRequest</emphasis> message (ConfigurationToken = VECToken1) to get video encoder configuration.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message (ConfigurationToken = VECToken1, Resolution = [Width3, Height3], Encoding = H.264) from the DUT. Check that new setting for Resolution and Encoding was applied.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, RTP-Unicast, UDP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request with transport parameter as RTP/UDP.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends H.264 RTP media stream to ONVIF Client over UDP. Verify that stream has H.264 encoding and [Width3, Height3] resolution.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTCP sender report to ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT validates the received RTP and RTCP packets, decodes and renders them.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response and terminates the RTSP Session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Repeat steps 5-62 for the first, middle and last Video Encoder configurations supported by the DUT.
                  </para>
                </listitem>


              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send valid RTP header in one or more media streams.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTCP sender report correctly.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    RTSP Session is terminated by DUT during media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not sent valid video stream with H.264 encoding and specified resolution or sent it in another encoding or resolution.
                  </para>
                </listitem>




              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> The following rule will be used to compare resolutions: Resolution1 (Width1, Height1) is greater than Resolution2 (Width2, Height2), if Width1*Height1 is greater than Width2*Height2. This rule will be used to define minimum, maximum and middle resolution.
            </para>

            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> If it is impossible to create profile for all three: the first, the middle and the last Video Encoder configurations on the 5th step, then Onvif Client will try selecting another Video Encoder configuration until a profile is created.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
            </para>
          </section>
          <section xml:id="tc.RTSS-1-1-49">
            <title>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/UDP) (ALL VIDEO SOURCE CONFIGURATIONS)</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-49
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> GetGuaranteedNumberOfVideoEncoderInstances
            </para>
            <para>
              <emphasis role="bold">Command Under Test:</emphasis> GetGuaranteedNumberOfVideoEncoderInstances
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify Guaranteed Number Of Video Encoder Instances (RTP-Unicast/UDP)
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Media Service was received from the DUT.


            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    ONVIF Client will invoke <emphasis role="bold">GetVideoSourceConfigurationsRequest</emphasis> message to retrieve all DUT video source configurations.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message from the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client will invoke <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesRequest</emphasis> message (ConfigurationToken = “VSCToken1”, where “VSCToken1” is a first video source configuration token from <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message) to retrieve guaranteed number of video encoder instances per first video source configuration.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis> message from the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Create or find number of profiles equal to TotalNumber from <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis> message that contains video source configuration with token “VSCToken1” and video encoder configuration by following the procedure mentioned in <xref linkend="Annex_HelperConfigureSpecifiedNumberOfProfilesWithSpecifiedVSCandDifferentVECs"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, RTP-Unicast, UDP transport) to retrieve media stream URI for the first media profile from step 7.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request with transport parameter as RTP/UDP.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends JPEG RTP media stream to ONVIF Client over UDP.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTCP sender report to ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT validates the received RTP and RTCP packets, decodes and renders them.

                  </para>
                </listitem>
                <listitem>
                  <para>
                    Repeat steps 8-20 to start video streaming for all profiles from step 7.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session for each started stream.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response and terminates the RTSP Session.

                  </para>
                </listitem>
                <listitem>
                  <para>
                    Repeat steps 5-23 for the rest Video Source Configuration.
                  </para>
                </listitem>



              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send valid RTP header in one or more media streams.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTCP sender report correctly.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    RTSP Session is terminated by DUT during media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send valid video stream.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT does not provide possibility to create TotalNumber of profiles for step 7.
                  </para>
                </listitem>


              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
            </para>

            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
            </para>
          </section>
          <section xml:id="tc.RTSS-1-1-50">
            <title>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/RTSP/HTTP/TCP) (ALL VIDEO SOURCE CONFIGURATIONS)</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-50
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> GetGuaranteedNumberOfVideoEncoderInstances
            </para>
            <para>
              <emphasis role="bold">Command Under Test:</emphasis> GetGuaranteedNumberOfVideoEncoderInstances
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify Guaranteed Number Of Video Encoder Instances (RTP-Unicast/RTSP/HTTP/TCP)
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Media Service was received from the DUT.


            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    ONVIF Client will invoke <emphasis role="bold">GetVideoSourceConfigurationsRequest</emphasis> message to retrieve all DUT video source configurations.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message from the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client will invoke <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesRequest</emphasis> message (ConfigurationToken = “VSCToken1”, where “VSCToken1” is a first video source configuration token from <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message) to retrieve guaranteed number of video encoder instances per first video source configuration.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis> message from the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Create or find number of profiles equal to TotalNumber from <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis> message that contains video source configuration with token “VSCToken1” and video encoder configuration by following the procedure mentioned in <xref linkend="Annex_HelperConfigureSpecifiedNumberOfProfilesWithSpecifiedVSCandDifferentVECs"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, RTP-Unicast, HTTP transport) to retrieve media stream URI for the first media profile from step 7.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends HTTP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client verifies the HTTP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes HTTP GET Request on DUT and establishes DUT to ONVIF Client connection for RTP data transfer.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes HTTP POST Request and establishes ONVIF Client to DUT connection for RTSP control requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request on HTTP POST connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request on HTTP POST connection with transport parameter as ‘RTP/TCP’ along with ‘interleaved’ parameter for both audio and video streams separately.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request on HTTP POST connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT transfers RTP media stream to ONVIF Client on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTCP sender report to ONVIF Client on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT validates the received RTP and RTCP packets, decodes and renders them.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Repeat steps 8-22 to start video streaming for all profiles from step 7.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request on HTTP POST connection and closes the HTTP POST connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response on HTTP GET connection and closes the HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Repeat steps 5-25 for the rest video source configuration.
                  </para>
                </listitem>

              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send valid RTP header in one or more media streams.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTCP sender report correctly.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    RTSP Session is terminated by DUT during media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send valid video stream.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT does not provide possibility to create TotalNumber of profiles for step 7.
                  </para>
                </listitem>


              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
            </para>

            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
            </para>
          </section>
          <section xml:id="tc.RTSS-1-1-51">
            <title>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP/RTSP/TCP) (ALL VIDEO SOURCE CONFIGURATIONS)</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-51
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> GetGuaranteedNumberOfVideoEncoderInstances
            </para>
            <para>
              <emphasis role="bold">Command Under Test:</emphasis> GetGuaranteedNumberOfVideoEncoderInstances
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify Guaranteed Number Of Video Encoder Instances (RTP/RTSP/TCP)
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Media Service was received from the DUT. RTP/RTSP/TCP media streaming is implemented by DUT.


            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    ONVIF Client will invoke <emphasis role="bold">GetVideoSourceConfigurationsRequest</emphasis> message to retrieve all DUT video source configurations.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message from the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client will invoke <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesRequest</emphasis> message (ConfigurationToken = “VSCToken1”, where “VSCToken1” is a first video source configuration token from <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message) to retrieve guaranteed number of video encoder instances per first video source configuration.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis> message from the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Create or find number of profiles equal to TotalNumber from <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis> message that contains video source configuration with token “VSCToken1” and video encoder configuration by following the procedure mentioned in <xref linkend="Annex_HelperConfigureSpecifiedNumberOfProfilesWithSpecifiedVSCandDifferentVECs"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, RTP-Unicast, RTSP transport) to retrieve media stream URI for the first media profile from step 7.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request with transport parameter as RTP/TCP.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends JPEG RTP media stream to ONVIF Client over TCP.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTCP sender report to ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT validates the received RTP and RTCP packets, decodes and renders them.

                  </para>
                </listitem>
                <listitem>
                  <para>
                    Repeat steps 8-20 to start video streaming for all profiles from step 7.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session for each started stream.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response and terminates the RTSP Session.

                  </para>
                </listitem>
                <listitem>
                  <para>
                    Repeat steps 5-23 for the rest Video Source Configuration.
                  </para>
                </listitem>



              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send valid RTP header in one or more media streams.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTCP sender report correctly.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    RTSP Session is terminated by DUT during media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send valid video stream.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT does not provide possibility to create TotalNumber of profiles for step 7.
                  </para>
                </listitem>


              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
            </para>

            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
            </para>
          </section>
          <section xml:id="tc.RTSS-1-1-52">
            <title>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (MIX OF TRANSPORT TYPES) (ALL VIDEO SOURCE CONFIGURATIONS)</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-52
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> GetGuaranteedNumberOfVideoEncoderInstances
            </para>
            <para>
              <emphasis role="bold">Command Under Test:</emphasis> GetGuaranteedNumberOfVideoEncoderInstances
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify Guaranteed Number Of Video Encoder Instances (Mix Of Transport Types)
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Media Service was received from the DUT. RTP/RTSP/TCP media streaming is implemented by DUT.


            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    ONVIF Client will invoke <emphasis role="bold">GetVideoSourceConfigurationsRequest</emphasis> message to retrieve all DUT video source configurations.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message from the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client will invoke <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesRequest</emphasis> message (ConfigurationToken = “VSCToken1”, where “VSCToken1” is a first video source configuration token from <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message) to retrieve guaranteed number of video encoder instances per first video source configuration.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis> message from the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    For each Media Profile <emphasis role="italic">profile</emphasis> that will be used for multicast streaming:
                    <orderedlist numeration="arabic"
                                 inheritnum="inherit">
                      <?dbfo label-width="2.5em"?>
                      <listitem>
                        <para>
                          ONVIF Client removes Audio Encoder Configuration and Metadata Configuration from the Media Profile that will be used for multicast streaming by following the procedure mentioned in <xref linkend="Annex_HelperRemoveConfigurationsFromMediaProfile"/>
                          with the following input and output parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                in { <emphasis role="italic">AudioEncoderConfiguration, MetadataConfiguration</emphasis>} - list of configuration types to remove from Media Profile
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                in <emphasis role="italic">profile</emphasis> - Media Profile to update
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client start media streaming for first profile to retrieve media stream URI for the first media profile from step 7.
                    (To start media streaming <xref linkend="Annex_HelperStreamingRTPUnicastUDP"/>, <xref linkend="Annex_HelperStreamingRTPMulticastUDP"/>, <xref linkend="Annex_HelperStreamingRTPUnicastRTSPHTTPTCP"/>, or <xref linkend="Annex_HelperStreamingRTPRTSPTCP"/> will be used in loop. <xref linkend="Annex_HelperStreamingRTPMulticastUDP"/> will be used if RTP-Multicast/UDP supported. <xref linkend="Annex_HelperStreamingRTPRTSPTCP"/> will be used if RTP/RTSP/TCP supported.)
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Repeat step 8 to start video streaming for all profiles from step 7.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session for each started stream.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response and terminates the RTSP Session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Repeat steps 5-12 for the rest video source configuration.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The DTT restores changed profiles and configurations.
                  </para>
                </listitem>

              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send valid RTP header in one or more media streams.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTCP sender report correctly.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    RTSP Session is terminated by DUT during media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send valid video stream.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT does not provide possibility to create TotalNumber of profiles for step 7.
                  </para>
                </listitem>


              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
            </para>

            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> In case if there are more than one Media Profiles with the same Video Encoder Configuration, multicast streaming will be started only for one of them.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
            </para>

          </section>
          <section xml:id="tc.RTSS-1-1-53">
            <title>MEDIA STREAMING – JPEG (VALIDATING RTP HEADER EXTENSION)</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-53
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> JPEG over RTP
            </para>
            <para>
              <emphasis role="bold">Command Under Test:</emphasis> None.
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To validate JPEG RTP header extension for devices supporting high resolutions for JPEG.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Media Service was received from the DUT. A media profile with JPEG video encoder configuration exists


            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client selects a media profile with JPEG video encoding support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> (Encoding = “JPEG”, Resolution = [“Width”, “Height”], Quality = q1, Session Timeout = t1 and force persistence = false). These values will be taken from the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/> and Resolution = [“Width”, “Height”] shall be enough to use JPEG header extension (greater than 2 MP). If there is no such resolutions use any Resolution.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT modifies video encoder configuration and responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message indicating success.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, 	RTP-Unicast, UDP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request with transport parameter as RTP/UDP.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends JPEG RTP media stream to ONVIF Client over UDP.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTCP sender report to ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT validates the received RTP and RTCP packets, decodes and renders them.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT validates RTP header extensions for each packet. If resolution was greater than 2MP check that JPEG header extension is present and valid. If resolution was less than 2MP check that JPEG header extension is valid if present.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response and terminates the RTSP Session.
                  </para>
                </listitem>

              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not have valid media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send valid RTP header in one or more media streams.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTCP sender report correctly.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    RTSP Session is terminated by DUT during media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send valid RTP header extension in one or more media streams.
                  </para>
                </listitem>
              </itemizedlist>
            </para>

            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
            </para>
          </section>
          <section xml:id="tc.RTSS-1-1-54">
            <title>MEDIA STREAMING – JPEG (RTP-Unicast/UDP, IPv6)</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-54
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, Stream control, RTSP.
            </para>
            <para>
              <emphasis role="bold">Command Under Test:</emphasis> None.
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify JPEG media streaming based on RTP/UDP Unicast Transport for IPv6.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> Media Service was received from the DUT. Real-time streaming supported by DUT. A media profile with JPEG video encoder configuration. IPv6 is turned ON for network interface. The DUT is configured with Manual IPv6 or LinkLocal IPv6 address.

            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>

                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client selects a media profile with JPEG video encoding support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> (Encoding = “JPEG”, Resolution = [“Width”, “Height”], Quality = q1, Session Timeout = t1 and force persistence = false). These values will be taken from the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT modifies video encoder configuration and responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message indicating success.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, 	RTP-Unicast, UDP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    Verify the RTSP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request with transport parameter as RTP/UDP.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends JPEG RTP media stream to ONVIF Client over UDP.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTCP sender report to ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT validates the received RTP and RTCP packets, decodes and renders them.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response and terminates the RTSP Session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                  </para>
                </listitem>
              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not have valid media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send valid RTP header in one or more media streams.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTCP sender report correctly.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    RTSP Session is terminated by DUT during media streaming.
                  </para>
                </listitem>





              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
            </para>

            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
            </para>
          </section>
          <section xml:id="tc.RTSS-1-1-55">
            <title>MEDIA STREAMING – JPEG (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-55
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP, RTSP over HTTP.
            </para>
            <para>
              <emphasis role="bold">Command Under Test:</emphasis> None.
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify JPEG media streaming based on HTTP Transport for IPv6
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> Media Service was received from the DUT. Real-time streaming supported by DUT. A media profile with JPEG video encoder configuration. IPv6 is turned ON for network interface. The DUT is configured with Manual IPv6 or LinkLocal IPv6 address.

            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client selects a media profile with JPEG video encoding support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> (Encoding = “JPEG”, Resolution = [“Width”, “Height”], Quality = q1, Session Timeout = t1 and force persistence = false). These values will be taken from the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT modifies video encoder configuration and responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message indicating success.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, RTP-Unicast, HTTP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends HTTP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    ONVIF Client verifies the HTTP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes HTTP GET Request on DUT and establishes DUT to ONVIF Client connection for RTP data transfer.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes HTTP POST Request and establishes ONVIF Client to DUT connection for RTSP control requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request on HTTP POST connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request on HTTP POST connection with transport parameter as ‘RTP/TCP’ along with ‘interleaved’ parameter.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request on HTTP POST connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT transfers JPEG RTP media stream to ONVIF Client on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTCP sender report to ONVIF Client on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT validates the received RTP and RTCP packets, decodes and renders them.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request on HTTP POST connection and closes the HTTP POST connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response on HTTP GET connection and closes the HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                  </para>
                </listitem>
              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not have valid media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – HTTP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send valid RTP header in one or more media streams.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTCP sender report correctly.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    RTSP Session is terminated by DUT during media streaming.
                  </para>
                </listitem>





              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
            </para>

            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
            </para>
          </section>
          <section xml:id="tc.RTSS-1-1-56">
            <title>MEDIA STREAMING – JPEG (RTP/RTSP/TCP, IPv6)</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-56
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/TCP, RTP, RTCP, Stream control, RTSP.
            </para>
            <para>
              <emphasis role="bold">Command Under Test:</emphasis> None.
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify JPEG media streaming based on RTP/RTSP/TCP using RTSP tunnel for IPv6.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> : Media Service was received from the DUT. Real-time streaming supported by DUT. RTP/RTSP/TCP media streaming is implemented by DUT. A media profile with JPEG video encoder configuration. IPv6 is turned ON for network interface. The DUT is configured with Manual IPv6 or LinkLocal IPv6 address.

            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client selects a media profile with JPEG video encoding support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> (Encoding = “JPEG”, Resolution = [“Width”, “Height”], Quality = q1, Session Timeout = t1 and force persistence = false). These values will be taken from the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT modifies video encoder configuration and responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message indicating success.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, 	RTP-Unicast, RTSP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    Verify the RTSP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request with transport parameter as ‘RTP/TCP’ along with ‘interleaved’ parameter.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT interleaves RTP and RTCP packets, send them over RTSP control connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    16.	DUT validates the received RTP and RTCP packets, decodes and renders them.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response and terminates the RTSP Session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                  </para>
                </listitem>
              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not have valid media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTP and RTCP packets as per [RFC 2326] section 10.12.
                  </para>
                </listitem>


                <listitem>
                  <para>
                    RTSP Session is terminated by DUT during media streaming.
                  </para>
                </listitem>





              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
            </para>

            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
            </para>
          </section>
          <section xml:id="tc.RTSS-1-1-57">
            <title>MEDIA STREAMING – MPEG4 (RTP-Unicast/UDP, IPv6)</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-57
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, Stream control, RTSP.
            </para>
            <para>
              <emphasis role="bold">Command Under Test:</emphasis> None.
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify MPEG4 media streaming based on RTP/UDP Unicast Transport for IPv6.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> Media Service was received from the DUT. Real-time streaming supported by DUT. MPEG4 is implemented by DUT. A media profile with MPEG4 video encoder configuration. IPv6 is turned ON for network interface. The DUT is configured with Manual IPv6 or LinkLocal IPv6 address.

            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client selects a media profile with MPEG4 video encoding support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> (Encoding = “MPEG4”, Resolution = [“Width”, “Height”], Quality = q1, Session Timeout = t1 and force persistence = false). These values will be taken from the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT modifies video encoder configuration and responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message indicating success.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, 	RTP-Unicast, UDP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    Verify the RTSP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request with transport parameter as RTP/UDP.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends MPEG4 RTP media stream to ONVIF Client over UDP.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTCP sender report to ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT validates the received RTP and RTCP packets, decodes and renders them.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response and terminates the RTSP Session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                  </para>
                </listitem>
              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not have valid media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send valid RTP header in one or more media streams.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTCP sender report correctly.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    RTSP Session is terminated by DUT during media streaming.
                  </para>
                </listitem>





              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
            </para>

            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
            </para>
          </section>
          <section xml:id="tc.RTSS-1-1-58">
            <title>MEDIA STREAMING – MPEG4 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-58
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP, RTSP over HTTP.
            </para>
            <para>
              <emphasis role="bold">Command Under Test:</emphasis> None.
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify MPEG4 media streaming based on HTTP Transport for IPv6.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> Media Service was received from the DUT. Real-time streaming supported by DUT. MPEG4 is implemented by DUT. A media profile with MPEG4 video encoder configuration. IPv6 is turned ON for network interface. The DUT is configured with Manual IPv6 or LinkLocal IPv6 address.


            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client selects a media profile with MPEG4 video encoding support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> (Encoding = “MPEG4”, Resolution = [“Width”, “Height”], Quality = q1, Session Timeout = t1 and force persistence = false). These values will be taken from the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT modifies video encoder configuration and responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message indicating success.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, RTP-Unicast, HTTP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends HTTP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    ONVIF Client verifies the HTTP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes HTTP GET Request on DUT and establishes DUT to ONVIF Client connection for RTP data transfer.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes HTTP POST Request and establishes ONVIF Client to DUT connection for RTSP control requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request on HTTP POST connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request on HTTP POST connection with transport parameter as ‘RTP/TCP’ along with ‘interleaved’ parameter.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request on HTTP POST connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT transfers MPEG4 RTP media stream to ONVIF Client on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTCP sender report to ONVIF Client on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT validates the received RTP and RTCP packets, decodes and renders them.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request on HTTP POST connection and closes the HTTP POST connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response on HTTP GET connection and closes the HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                  </para>
                </listitem>
              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not have valid media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – HTTP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send valid RTP header in one or more media streams.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTCP sender report correctly.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    RTSP Session is terminated by DUT during media streaming.
                  </para>
                </listitem>





              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
            </para>

            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
            </para>
          </section>
          <section xml:id="tc.RTSS-1-1-59">
            <title>MEDIA STREAMING – MPEG4 (RTP/RTSP/TCP, IPv6)</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-59
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/TCP, RTP, RTCP, Stream control, RTSP.
            </para>
            <para>
              <emphasis role="bold">Command Under Test:</emphasis> None.
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify MPEG4 media streaming based on RTP/RTSP/TCP using RTSP tunnel for IPv6.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> Media Service was received from the DUT. Real-time streaming supported by DUT. MPEG4 and RTP/RTSP/TCP media streaming is implemented by DUT. A media profile with MPEG4 video encoder configuration. IPv6 is turned ON for network interface. The DUT is configured with Manual IPv6 or LinkLocal IPv6 address.


            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client selects a media profile with MPEG4 video encoding support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> (Encoding = “MPEG4”, Resolution = [“Width”, “Height”], Quality = q1, Session Timeout = t1 and force persistence = false). These values will be taken from the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT modifies video encoder configuration and responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message indicating success.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, 	RTP-Unicast, RTSP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    Verify the RTSP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request with transport parameter as ‘RTP/TCP’ along with ‘interleaved’ parameter.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT interleaves RTP and RTCP packets, send them over RTSP control connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT validates the received RTP and RTCP packets, decodes and renders them.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response and terminates the RTSP Session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                  </para>
                </listitem>
              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not have valid media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTP and RTCP packets as per [RFC 2326] section 10.12.
                  </para>
                </listitem>


                <listitem>
                  <para>
                    RTSP Session is terminated by DUT during media streaming.
                  </para>
                </listitem>





              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
            </para>

            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
            </para>
          </section>
          <section xml:id="tc.RTSS-1-1-60">
            <title>MEDIA STREAMING – H.264 (RTP-Unicast/UDP, IPv6)</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-60
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, Stream control, RTSP.
            </para>
            <para>
              <emphasis role="bold">Command Under Test:</emphasis> None.
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify H.264 media streaming based on RTP/UDP Unicast Transport for IPv6.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> Media Service was received from the DUT. Real-time streaming supported by DUT. H.264 is implemented by DUT. A media profile with H.264 video encoder configuration. IPv6 is turned on for network interface. The DUT is configured with Manual IPv6 or LinkLocal IPv6 address.


            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client selects a media profile with H.264 video encoding support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> (Encoding = “H.264”, Resolution = [“Width”, “Height”], Quality = q1, Session Timeout = t1 and force persistence = false). These values will be taken from the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT modifies video encoder configuration and responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message indicating success.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, 	RTP-Unicast, UDP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    Verify the RTSP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request with transport parameter as RTP/UDP.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends H.264 RTP media stream to ONVIF Client over UDP.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTCP sender report to ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT validates the received RTP and RTCP packets, decodes and renders them.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response and terminates the RTSP Session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                  </para>
                </listitem>

              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not have valid media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send valid RTP header in one or more media streams.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTCP sender report correctly.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    RTSP Session is terminated by DUT during media streaming.
                  </para>
                </listitem>





              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
            </para>

            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
            </para>
          </section>
          <section xml:id="tc.RTSS-1-1-61">
            <title>MEDIA STREAMING – H.264 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-61
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP, RTSP over HTTP.
            </para>
            <para>
              <emphasis role="bold">Command Under Test:</emphasis> None.
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify H.264 media streaming based on HTTP Transport for IPv6.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> Media Service was received from the DUT. Real-time streaming supported by DUT. H.264 is implemented by DUT. A media profile with H.264 video encoder configuration. IPv6 is turned on for network interface. The DUT is configured with Manual IPv6 or LinkLocal IPv6 address.


            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client selects a media profile with H.264 video encoding support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> (Encoding = “H.264”, Resolution = [“Width”, “Height”], Quality = q1, Session Timeout = t1 and force persistence = false). These values will be taken from the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT modifies video encoder configuration and responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message indicating success.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, RTP-Unicast, HTTP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends HTTP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    ONVIF Client verifies the HTTP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes HTTP GET Request on DUT and establishes DUT to ONVIF Client connection for RTP data transfer.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes HTTP POST Request and establishes ONVIF Client to DUT connection for RTSP control requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request on HTTP POST connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request on HTTP POST connection with transport parameter as ‘RTP/TCP’ along with ‘interleaved’ parameter.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request on HTTP POST connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT transfers H.264 RTP media stream to ONVIF Client on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTCP sender report to ONVIF Client on HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT validates the received RTP and RTCP packets, decodes and renders them.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request on HTTP POST connection and closes the HTTP POST connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response on HTTP GET connection and closes the HTTP GET connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                  </para>
                </listitem>

              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not have valid media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – HTTP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send valid RTP header in one or more media streams.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTCP sender report correctly.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    RTSP Session is terminated by DUT during media streaming.
                  </para>
                </listitem>





              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
            </para>

            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
            </para>
          </section>
          <section xml:id="tc.RTSS-1-1-62">
            <title>MEDIA STREAMING – H.264 (RTP/RTSP/TCP, IPv6)</title>
            <para>
              <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-1-62
            </para>
            <para>
              <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/TCP, RTP, RTCP, Stream control, RTSP.
            </para>
            <para>
              <emphasis role="bold">Command Under Test:</emphasis> None.
            </para>
            <para>
              <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
            </para>
            <para>
              <emphasis role="bold">Test Purpose:</emphasis> To verify H.264 media streaming based on RTP/RTSP/TCP using RTSP tunnel for IPv6.
            </para>
            <para>
              <emphasis role="bold">Pre-Requisite:</emphasis> Media Service was received from the DUT. Real-time streaming supported by DUT. H.264 and RTP/RTSP/TCP media streaming is implemented by DUT. A media profile with H.264 video encoder configuration. IPv6 is turned on for network interface. The DUT is configured with Manual IPv6 or LinkLocal IPv6 address.


            </para>
            <para>
              <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
            </para>
            <para>
              <emphasis role="bold">Test Procedure:</emphasis>
            </para>
            <para>
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Start an ONVIF Client.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Start the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client selects a media profile with H.264 video encoding support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> (Encoding = “H.264”, Resolution = [“Width”, “Height”], Quality = q1, Session Timeout = t1 and force persistence = false). These values will be taken from the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT modifies video encoder configuration and responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message indicating success.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, 	RTP-Unicast, RTSP transport) to retrieve media stream URI for the selected media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>

                <listitem>
                  <para>
                    Verify the RTSP media stream URI provided by the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP DESCRIBE request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and SDP information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP SETUP request with transport parameter as ‘RTP/TCP’ along with ‘interleaved’ parameter.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and the media stream information.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP PLAY request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK message and starts media streaming.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT interleaves RTP and RTCP packets, send them over RTSP control connection.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT validates the received RTP and RTCP packets, decodes and renders them.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT sends 200 OK Response and terminates the RTSP Session.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                  </para>
                </listitem>
              </orderedlist>
            </para>
            <para>
              <emphasis role="bold">Test Result:</emphasis>
            </para>
            <para>
              <emphasis role="bold">PASS –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT passes all assertions.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">FAIL –</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    DUT did not have valid media profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                  </para>
                </listitem>

                <listitem>
                  <para>
                    DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT did not send RTP and RTCP packets as per [RFC 2326] section 10.12.
                  </para>
                </listitem>


                <listitem>
                  <para>
                    RTSP Session is terminated by DUT during media streaming.
                  </para>
                </listitem>





              </itemizedlist>
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
            </para>

            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
            </para>
            <para>
              <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
            </para>
          </section>



      </section>
      <section xml:id="tc.real_time_streaming.video_streaming.multicast">
        <title>Multicast</title>
        <section xml:id="tc.RTSS-1-2-12">
          <title>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Multicast/UDP)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-2-12
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> GetGuaranteedNumberOfVideoEncoderInstances.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> GetGuaranteedNumberOfVideoEncoderInstances
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify Guaranteed Number Of Video Encoder Instances (RTP-Multicast/UDP)
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Media Service was received from the DUT.

          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetVideoSourceConfigurationsRequest</emphasis> message to retrieve all DUT video source configurations.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesRequest</emphasis> message (ConfigurationToken = “VSCToken1”, where “VSCToken1” is a first video source configuration token from <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message) to retrieve guaranteed number of video encoder instances per first video source configuration.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  Create or find number of profiles equal to TotalNumber from <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis> message that contains video
                  source configuration with token “VSCToken1” and video encoder configuration
                  by following the procedure mentioned in <xref linkend="Annex_HelperConfigureSpecifiedNumberOfProfilesWithSpecifiedVSCandDifferentVECs"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  For each Media Profile (<emphasis role="italic">profile</emphasis>) that will be used for streaming:
                  <orderedlist numeration="arabic"
                               inheritnum="inherit">
                    <?dbfo label-width="4.5em"?>
                    <listitem>
                      <para>
                        ONVIF Client removes Audio Encoder Configuration and Metadata Configuration from the Media Profile that will be used for multicast streaming by following the procedure mentioned in by following the procedure mentioned in <xref linkend="Annex_HelperRemoveConfigurationsFromMediaProfile"/> with the following input and output parameters

                        <itemizedlist>
                          <listitem>
                            <para>
                              in { <emphasis role="italic">AudioEncoderConfiguration, MetadataConfiguration</emphasis>} - list of configuration types to remove from Media Profile
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              in <emphasis role="italic">profile</emphasis> - Media Profile to update
                            </para>
                          </listitem>

                        </itemizedlist>
                      </para>
                    </listitem>

                  </orderedlist>
                </para>
              </listitem>

              <listitem>
                <para>
                  Configure multicast settings for Multicast Address from profile (see <xref linkend="Annex_HelperMulticastSettingsConfiguration"/>).
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, RTP-Multicast, UDP transport) to retrieve media stream URI for the first media profile from step 7.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter as RTP-Multicast/UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends JPEG RTP multicast media stream to ONVIF Client over UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  Repeat steps 8-20 to start video streaming for all profiles from step 7.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session for each started stream.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK Response and terminates the RTSP Session.
                </para>
              </listitem>
              <listitem>
                <para>
                  If number of Video source configurations in <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message is more than one, repeat steps 5-23 for the last video source configuration token from <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  If number of Video source configurations in <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message is more than two, repeat steps 5-23 for the video source configuration token between the first and the last VSC tokens from <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DTT restores changed profiles and configurations.
                </para>
              </listitem>

            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  RTSP Session is terminated by DUT during media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send valid video stream.
                </para>
              </listitem>

              <listitem>
                <para>
                  DUT does not provide possibility to create TotalNumber of profiles for step 7.
                </para>
              </listitem>


            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> In case if there are more than one Media Profiles with the same Video Encoder Configuration, multicast streaming will be started only for one of them.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>
        <section xml:id="tc.RTSS-1-2-13">
          <title>MEDIA STREAMING – JPEG (RTP-Multicast/UDP, IPv4)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-2-13
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, JPEG over RTP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify JPEG media streaming based on RTP-Multicast/UDP Transport for IPv4.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. A media profile with JPEG video encoder configuration exists. RTP-Multicast/UDP transport protocol is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command.

          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>

              <listitem>
                <para>
                  ONVIF Client selects a media profile (<emphasis role="italic">profile</emphasis>) with JPEG video encoding support by following the procedure mentioned in  <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> message (Encoding = “JPEG”, Resolution = [“Width”, “Height”], Quality = q1, Multicast.Address = [“IPv4”, “multicastAddress1”], Multicast.Port = “port1”, TTL = “ttl1”, Session Timeout = t1 and force persistence = false) to set JPEG encoding and Multicast settings.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client removes Audio Encoder Configuration and Metadata Configuration from the Media Profile that will be used for multicast streaming by following the procedure mentioned in by following the procedure mentioned in <xref linkend="Annex_HelperRemoveConfigurationsFromMediaProfile"/> with the following input and output parameters

                  <itemizedlist>
                    <listitem>
                      <para>
                        in { <emphasis role="italic">AudioEncoderConfiguration, MetadataConfiguration</emphasis>} - list of configuration types to remove from Media Profile
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">profile</emphasis> - Media Profile to update
                      </para>
                    </listitem>

                  </itemizedlist>
                </para>
              </listitem>


              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, RTP-Multicast, UDP transport) to retrieve media stream URI for the first media profile from step 7.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter as RTP-Multicast/UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends JPEG RTP multicast media stream to multicast IPv4 address over UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session for each started stream.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK Response and terminates the RTSP Session.
                </para>
              </listitem>


              <listitem>
                <para>
                  The DTT restores changed profiles and configurations.
                </para>
              </listitem>

            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send RTCP sender report correctly.
                </para>
              </listitem>

              <listitem>
                <para>
                  DUT did not send valid video stream.
                </para>
              </listitem>

              <listitem>
                <para>
                  The DUT did not send JPEG RTP multicast media streaming for corresponding multicast IP.
                </para>
              </listitem>


            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>
        <section xml:id="tc.RTSS-1-2-14">
          <title>MEDIA STREAMING – MPEG4 (RTP-Multicast/UDP, IPv4)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-2-14
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, MPEG4 over RTP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify MPEG4 media streaming based on RTP-Multicast/UDP Transport for IPv4.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT and MPEG4 is implemented by DUT. Real-time streaming supported by DUT. A media profile with MPEG4 video encoder configuration exists. RTP-Multicast/UDP transport protocol is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command.

          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>

              <listitem>
                <para>
                  ONVIF Client selects a media profile (<emphasis role="italic">profile</emphasis>) with MPEG4 video encoding support by following the procedure mentioned in  <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> message (Encoding = “MPEG4”, Resolution = [“Width”, “Height”], Quality = q1, Multicast.Address = [“IPv4”, “multicastAddress1”], Multicast.Port = “port1”, TTL = “ttl1”, Session Timeout = t1 and force persistence = false) to set MPEG4 encoding and Multicast settings.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client removes Audio Encoder Configuration and Metadata Configuration from the Media Profile that will be used for multicast streaming by following the procedure mentioned in by following the procedure mentioned in <xref linkend="Annex_HelperRemoveConfigurationsFromMediaProfile"/> with the following input and output parameters

                  <itemizedlist>
                    <listitem>
                      <para>
                        in { <emphasis role="italic">AudioEncoderConfiguration, MetadataConfiguration</emphasis>} - list of configuration types to remove from Media Profile
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">profile</emphasis> - Media Profile to update
                      </para>
                    </listitem>

                  </itemizedlist>
                </para>
              </listitem>


              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, RTP-Multicast, UDP transport) to retrieve media stream URI for the first media profile from step 7.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter as RTP-Multicast/UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends MPEG4 RTP multicast media stream to multicast IPv4 address over UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session for each started stream.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK Response and terminates the RTSP Session.
                </para>
              </listitem>


              <listitem>
                <para>
                  The DTT restores changed profiles and configurations.
                </para>
              </listitem>

            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send RTCP sender report correctly.
                </para>
              </listitem>

              <listitem>
                <para>
                  DUT did not send valid video stream.
                </para>
              </listitem>

              <listitem>
                <para>
                  The DUT did not send MPEG4 RTP multicast media streaming for corresponding multicast IP.
                </para>
              </listitem>


            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>
        <section xml:id="tc.RTSS-1-2-15">
          <title>MEDIA STREAMING – H.264 (RTP-Multicast/UDP, IPv4)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-2-15
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, H.264 over RTP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify H.264 media streaming based on RTP-Multicast/UDP Transport for IPv4.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT and H.264 is implemented by DUT. Real-time streaming supported by DUT. A media profile with H.264 video encoder configuration exists. RTP-Multicast/UDP transport protocol is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command.

          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>

              <listitem>
                <para>
                  ONVIF Client selects a media profile (<emphasis role="italic">profile</emphasis>) with H.264 video encoding support by following the procedure mentioned in  <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> message (Encoding = “H.264”, Resolution = [“Width”, “Height”], Quality = q1, Multicast.Address = [“IPv4”, “multicastAddress1”], Multicast.Port = “port1”, TTL = “ttl1”, Session Timeout = t1 and force persistence = false) to set H.264 encoding and Multicast settings.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client removes Audio Encoder Configuration and Metadata Configuration from the Media Profile that will be used for multicast streaming by following the procedure mentioned in by following the procedure mentioned in <xref linkend="Annex_HelperRemoveConfigurationsFromMediaProfile"/> with the following input and output parameters

                  <itemizedlist>
                    <listitem>
                      <para>
                        in { <emphasis role="italic">AudioEncoderConfiguration, MetadataConfiguration</emphasis>} - list of configuration types to remove from Media Profile
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">profile</emphasis> - Media Profile to update
                      </para>
                    </listitem>

                  </itemizedlist>
                </para>
              </listitem>


              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, RTP-Multicast, UDP transport) to retrieve media stream URI for the first media profile from step 7.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter as RTP-Multicast/UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends H.264 RTP multicast media stream to multicast IPv4 address over UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session for each started stream.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK Response and terminates the RTSP Session.
                </para>
              </listitem>


              <listitem>
                <para>
                  The DTT restores changed profiles and configurations.
                </para>
              </listitem>

            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send RTCP sender report correctly.
                </para>
              </listitem>

              <listitem>
                <para>
                  DUT did not send valid video stream.
                </para>
              </listitem>

              <listitem>
                <para>
                  The DUT did not send H.264 RTP multicast media streaming for corresponding multicast IP.
                </para>
              </listitem>


            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>
        <section xml:id="tc.RTSS-1-2-16">
          <title>MEDIA STREAMING – JPEG (RTP-Multicast/UDP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-2-16
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, JPEG over RTP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify JPEG media streaming based on RTP-Multicast/UDP Transport for IPv6.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. A media profile with JPEG video encoder configuration exists. RTP-Multicast/UDP transport protocol is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command. IPv6 network interface is turned on.

          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client selects a media profile (<emphasis role="italic">profile</emphasis>) with JPEG video encoding support by following the procedure mentioned in  <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> message (Encoding = “JPEG”, Resolution = [“Width”, “Height”], Quality = q1, Multicast.Address = [“IPv4”, “multicastAddress1”], Multicast.Port = “port1”, TTL = “ttl1”, Session Timeout = t1 and force persistence = false) to set JPEG encoding and Multicast settings.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client removes Audio Encoder Configuration and Metadata Configuration from the Media Profile that will be used for multicast streaming by following the procedure mentioned in by following the procedure mentioned in <xref linkend="Annex_HelperRemoveConfigurationsFromMediaProfile"/> with the following input and output parameters

                  <itemizedlist>
                    <listitem>
                      <para>
                        in { <emphasis role="italic">AudioEncoderConfiguration, MetadataConfiguration</emphasis>} - list of configuration types to remove from Media Profile
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">profile</emphasis> - Media Profile to update
                      </para>
                    </listitem>

                  </itemizedlist>
                </para>
              </listitem>


              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, RTP-Multicast, UDP transport) to retrieve media stream URI for the first media profile from step 7.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter as RTP-Multicast/UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends JPEG RTP multicast media stream to multicast IPv4 address over UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session for each started stream.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK Response and terminates the RTSP Session.
                </para>
              </listitem>


              <listitem>
                <para>
                  The DTT restores changed profiles and configurations.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send RTCP sender report correctly.
                </para>
              </listitem>

              <listitem>
                <para>
                  DUT did not send valid video stream.
                </para>
              </listitem>

              <listitem>
                <para>
                  The DUT did not send JPEG RTP multicast media streaming for corresponding multicast IP.
                </para>
              </listitem>


            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>
        <section xml:id="tc.RTSS-1-2-17">
          <title>MEDIA STREAMING – MPEG4 (RTP-Multicast/UDP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-2-17
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, MPEG4 over RTP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify MPEG4 media streaming based on RTP-Multicast/UDP Transport for IPv6.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT and MPEG4 is implemented by DUT. Real-time streaming supported by DUT. A media profile with MPEG4 video encoder configuration exists. RTP-Multicast/UDP transport protocol is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command.

          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client selects a media profile (<emphasis role="italic">profile</emphasis>) with MPEG4 video encoding support by following the procedure mentioned in  <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> message (Encoding = “MPEG4”, Resolution = [“Width”, “Height”], Quality = q1, Multicast.Address = [“IPv4”, “multicastAddress1”], Multicast.Port = “port1”, TTL = “ttl1”, Session Timeout = t1 and force persistence = false) to set MPEG4 encoding and Multicast settings.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client removes Audio Encoder Configuration and Metadata Configuration from the Media Profile that will be used for multicast streaming by following the procedure mentioned in by following the procedure mentioned in <xref linkend="Annex_HelperRemoveConfigurationsFromMediaProfile"/> with the following input and output parameters

                  <itemizedlist>
                    <listitem>
                      <para>
                        in { <emphasis role="italic">AudioEncoderConfiguration, MetadataConfiguration</emphasis>} - list of configuration types to remove from Media Profile
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">profile</emphasis> - Media Profile to update
                      </para>
                    </listitem>

                  </itemizedlist>
                </para>
              </listitem>


              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, RTP-Multicast, UDP transport) to retrieve media stream URI for the first media profile from step 7.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter as RTP-Multicast/UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends MPEG4 RTP multicast media stream to multicast IPv4 address over UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session for each started stream.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK Response and terminates the RTSP Session.
                </para>
              </listitem>


              <listitem>
                <para>
                  The DTT restores changed profiles and configurations.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send RTCP sender report correctly.
                </para>
              </listitem>

              <listitem>
                <para>
                  DUT did not send valid video stream.
                </para>
              </listitem>

              <listitem>
                <para>
                  The DUT did not send MPEG4 RTP multicast media streaming for corresponding multicast IP.
                </para>
              </listitem>


            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>
        <section xml:id="tc.RTSS-1-2-18">
          <title>MEDIA STREAMING – H.264 (RTP-Multicast/UDP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-2-18
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, H.264 over RTP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify H.264 media streaming based on RTP-Multicast/UDP Transport for IPv6.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT and H.264 is implemented by DUT. Real-time streaming supported by DUT. A media profile with H.264 video encoder configuration exists. RTP-Multicast/UDP transport protocol is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command.

          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client selects a media profile (<emphasis role="italic">profile</emphasis>) with H.264 video encoding support by following the procedure mentioned in  <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> message (Encoding = “H.264”, Resolution = [“Width”, “Height”], Quality = q1, Multicast.Address = [“IPv4”, “multicastAddress1”], Multicast.Port = “port1”, TTL = “ttl1”, Session Timeout = t1 and force persistence = false) to set H.264 encoding and Multicast settings.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client removes Audio Encoder Configuration and Metadata Configuration from the Media Profile that will be used for multicast streaming by following the procedure mentioned in by following the procedure mentioned in <xref linkend="Annex_HelperRemoveConfigurationsFromMediaProfile"/> with the following input and output parameters

                  <itemizedlist>
                    <listitem>
                      <para>
                        in { <emphasis role="italic">AudioEncoderConfiguration, MetadataConfiguration</emphasis>} - list of configuration types to remove from Media Profile
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">profile</emphasis> - Media Profile to update
                      </para>
                    </listitem>

                  </itemizedlist>
                </para>
              </listitem>


              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, RTP-Multicast, UDP transport) to retrieve media stream URI for the first media profile from step 7.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter as RTP-Multicast/UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends H.264 RTP multicast media stream to multicast IPv4 address over UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session for each started stream.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK Response and terminates the RTSP Session.
                </para>
              </listitem>


              <listitem>
                <para>
                  The DTT restores changed profiles and configurations.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send RTCP sender report correctly.
                </para>
              </listitem>

              <listitem>
                <para>
                  DUT did not send valid video stream.
                </para>
              </listitem>

              <listitem>
                <para>
                  The DUT did not send H.264 RTP multicast media streaming for corresponding multicast IP.
                </para>
              </listitem>


            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>
        <section xml:id="tc.RTSS-1-2-19">
          <title>VIDEO ENCODER CONFIGURATION – MULTICAST PORT (IPv4)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-2-19
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> SetVideoEncoderConfiguration, GetVideoEncoderConfiguration, Start multicast streaming, Stop multicast streaming
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> SetVideoEncoderConfiguration, GetVideoEncoderConfiguration, StartMulticastStreaming, StopMulticastStreaming
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify changing and applying of Multicast port and address for Video Encoder Configuration in case of the same Multicast addresses and different Multicast ports for all Video Encoder Configurations.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Media Service was received from the DUT.

          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationsRequest</emphasis> message to retrieve video configuration list.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> message (ConfigurationToken = VECToken1, Multicast.Address = [“IPv4”, “multicastAddress1”], Multicast.Port = “port1”, where VECToken1 is first video encoder configuration token from <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message) to change multicast port and address for video encoder configuration.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationRequest</emphasis> message (ConfigurationToken = VECToken1) to get video encoder configuration.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message (ConfigurationToken = Token1, Multicast.Address = [“IPv4”, “multicastAddress1”], Multicast.Port = “port1”) from the DUT. Check that new setting for Multicast.Port and Multicast.Address was applied.
                </para>
              </listitem>
              <listitem>
                <para>
                  Repeat steps 5-8 for the rest Video Encoder configurations supported by the DUT with using different multicast ports and the same multicast addresses for Video Encoder Configurations.
                </para>
              </listitem>
              <listitem>
                <para>
                  Find or create media profile (<emphasis role="italic">profile</emphasis>) with Video Source Configuration and Video Encoder Configuration with token VECToken1 (see <xref linkend="Annex_HelperProfileConfigurationWithSpecifiedVideoEncoderConfiguration"/>). If it is not possible skip steps 11-19 and go to the step 20.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client removes Audio Encoder Configuration, Audio Source Configuration and Metadata Configuration from the Media Profile that will be used for multicast streaming by following the procedure mentioned in by following the procedure mentioned in <xref linkend="Annex_HelperRemoveConfigurationsFromMediaProfile"/> with the following input and output parameters

                  <itemizedlist>
                    <listitem>
                      <para>
                        in { <emphasis role="italic">AudioEncoderConfiguration, AudioSourceConfiguration, MetadataConfiguration</emphasis>} - list of configuration types to remove from Media Profile
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">profile</emphasis> - Media Profile to update
                      </para>
                    </listitem>

                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  Configure multicast settings for other entities from profile if required (see <xref linkend="Annex_HelperMulticastSettingsConfiguration"/>).
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">StartMulticastStreamingRequest</emphasis> message (ProfileToken = [profile token from the step 10]) to start multicast streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">StartMulticastStreamingResponse</emphasis> from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends video RTP multicast media stream to multicast IPv4 address over UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates that specified multicast address and port are used.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">StopMulticastStreamingRequest</emphasis> message (ConfigurationToken ProfileToken = [profile token from the step 10]) to stop multicast streaming from specified port.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">StopMulticastStreamingResponse</emphasis> from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  Repeat steps 10-19 for the rest Video Encoder configuration supported by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  Restore Video Encoder Configurations settings and media profiles.
                </para>
              </listitem>



            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message with new Multicast.Address and Multicast.Port values that were set during steps 5-6.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">StartMulticastStreamingResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid video stream to specified multicast address and port.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">StopMulticastStreamingResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  It is not possible to find or create profile for all Video Encoder Configurations.
                </para>
              </listitem>

            </itemizedlist>
          </para>

          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>
        <section xml:id="tc.RTSS-1-2-20">
          <title>VIDEO ENCODER CONFIGURATION – MULTICAST ADDRESS (IPv4)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-2-20
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> SetVideoEncoderConfiguration, GetVideoEncoderConfiguration, Start multicast streaming, Stop multicast streaming
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> SetVideoEncoderConfiguration, GetVideoEncoderConfiguration, StartMulticastStreaming, StopMulticastStreaming
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify changing and applying of Multicast port and address for Video Encoder Configuration in case of the same Multicast port and different Multicast address for all Video Encoder Configurations.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Media Service was received from the DUT.

          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationsRequest</emphasis> message to retrieve video configuration list.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> message (ConfigurationToken = VECToken1, Multicast.Address = [“IPv4”, “multicastAddress1”], Multicast.Port = “port1”, where VECToken1 is first video encoder configuration token from <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message) to change multicast port and address for video encoder configuration.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationRequest</emphasis> message (ConfigurationToken = VECToken1) to get video encoder configuration.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message (ConfigurationToken = Token1, Multicast.Address = [“IPv4”, “multicastAddress1”], Multicast.Port = “port1”) from the DUT. Check that new setting for Multicast.Port and Multicast.Address was applied.
                </para>
              </listitem>
              <listitem>
                <para>
                  Repeat steps 5-8 for the rest Video Encoder configurations supported by the DUT with using different multicast addresses and the same multicast port for Video Encoder Configurations.
                </para>
              </listitem>
              <listitem>
                <para>
                  Find or create media profile (<emphasis role="italic">profile</emphasis>) with Video Source Configuration and Video Encoder Configuration with token VECToken1 (see <xref linkend="Annex_HelperProfileConfigurationWithSpecifiedVideoEncoderConfiguration"/>). If it is not possible skip steps 11-19 and go to the step 20.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client removes Audio Encoder Configuration, Audio Source Configuration and Metadata Configuration from the Media Profile that will be used for multicast streaming by following the procedure mentioned in by following the procedure mentioned in <xref linkend="Annex_HelperRemoveConfigurationsFromMediaProfile"/> with the following input and output parameters

                  <itemizedlist>
                    <listitem>
                      <para>
                        in { <emphasis role="italic">AudioEncoderConfiguration, AudioSourceConfiguration, MetadataConfiguration</emphasis>} - list of configuration types to remove from Media Profile
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">profile</emphasis> - Media Profile to update
                      </para>
                    </listitem>

                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  Configure multicast settings for other entities from profile if required (see <xref linkend="Annex_HelperMulticastSettingsConfiguration"/>).
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">StartMulticastStreamingRequest</emphasis> message (ProfileToken = [profile token from the step 10]) to start multicast streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">StartMulticastStreamingResponse</emphasis> from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends video RTP multicast media stream to multicast IPv4 address over UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates that specified multicast address and port are used.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">StopMulticastStreamingRequest</emphasis> message (ConfigurationToken ProfileToken = [profile token from the step 10]) to stop multicast streaming from specified port.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">StopMulticastStreamingResponse</emphasis> from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  Repeat steps 10-19 for the rest Video Encoder configuration supported by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  Restore Video Encoder Configurations settings and media profiles.
                </para>
              </listitem>



            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message with new Multicast.Address and Multicast.Port values that were set during steps 5-6.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">StartMulticastStreamingResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid video stream to specified multicast address and port.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">StopMulticastStreamingResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  It is not possible to find or create profile for all Video Encoder Configurations.
                </para>
              </listitem>

            </itemizedlist>
          </para>

          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>
        <section xml:id="tc.RTSS-1-2-21">
          <title>VIDEO ENCODER CONFIGURATION – MULTICAST ADDRESS AND PORT IN RTSP SETUP (IPv4)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-2-21
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> Multicast streaming
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> none
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify possibility to use multicast address and port during RTSP SETUP as set in Video Encoder Configuration (IPv4).
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Media Service was received from the DUT. RTP-Multicast/UDP transport protocol is supported by the DUT. A media profile with JPEG video encoder configuration exists.

          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>

              <listitem>
                <para>
                  ONVIF Client selects a media profile  (<emphasis role="italic">profile</emphasis>) with JPEG video encoding support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForJPEGVideoStreaming"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> message (Encoding = “JPEG”, Resolution = [“Width”, “Height”], Quality = q1, Multicast.Address = [“IPv4”, “multicastAddress1”], Multicast.Port = “port1”, TTL = “ttl1”, Session Timeout = t1 and force persistence = false) to set JPEG encoding and Multicast settings.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client removes Audio Encoder Configuration and Metadata Configuration from the Media Profile that will be used for multicast streaming by following the procedure mentioned in by following the procedure mentioned in <xref linkend="Annex_HelperRemoveConfigurationsFromMediaProfile"/> with the following input and output parameters

                  <itemizedlist>
                    <listitem>
                      <para>
                        in { <emphasis role="italic">AudioEncoderConfiguration, MetadataConfiguration</emphasis>} - list of configuration types to remove from Media Profile
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">profile</emphasis> - Media Profile to update
                      </para>
                    </listitem>

                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Multicast”, Transport.Protocol = “UDP”) to retrieve media stream URI for the selected media profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter RTP-Multicast/UDP and destination = multicastAddress1, port = port1-port2.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and the media stream information. Verify that destination = multicastAddress1, port = port1-port2 was received.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends JPEG RTP multicast media stream to multicast IPv4 address over UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify that specified multicast port and address are used for streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK Response and terminates the RTSP Session.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DTT restores changed profiles and configurations.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid Multicast address in RTSP 200 OK response for RTSP SETUP requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send JPEG RTP multicast media streaming for corresponding multicast IP and port.
                </para>
              </listitem>


            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>

          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>


        </section>
        <section xml:id="tc.RTSS-1-2-22">
          <title>VIDEO ENCODER CONFIGURATION – MULTICAST ADDRESS AND PORT IN RTSP SETUP (IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-2-22
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> Multicast streaming
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> none
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify possibility to use multicast address and port during RTSP SETUP as set in Video Encoder Configuration (IPv6).
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Media Service was received from the DUT. RTP-Multicast/UDP transport protocol is supported by the DUT. A media profile with JPEG video encoder configuration exists. IPv6 is supported by the DUT.

          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>

              <listitem>
                <para>
                  ONVIF Client selects a media profile  (<emphasis role="italic">profile</emphasis>) with JPEG video encoding support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForJPEGVideoStreaming"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> message (Encoding = “JPEG”, Resolution = [“Width”, “Height”], Quality = q1, Multicast.Address = [“IPv6”, “multicastAddress1”], Multicast.Port = “port1”, TTL = “ttl1”, Session Timeout = t1 and force persistence = false) to set JPEG encoding and Multicast settings.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client removes Audio Encoder Configuration and Metadata Configuration from the Media Profile that will be used for multicast streaming by following the procedure mentioned in by following the procedure mentioned in <xref linkend="Annex_HelperRemoveConfigurationsFromMediaProfile"/> with the following input and output parameters

                  <itemizedlist>
                    <listitem>
                      <para>
                        in { <emphasis role="italic">AudioEncoderConfiguration, MetadataConfiguration</emphasis>} - list of configuration types to remove from Media Profile
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">profile</emphasis> - Media Profile to update
                      </para>
                    </listitem>

                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Multicast”, Transport.Protocol = “UDP”) to retrieve media stream URI for the selected media profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter RTP-Multicast/UDP and destination = multicastAddress1, port = port1-port2.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and the media stream information. Verify that destination = multicastAddress1, port = port1-port2 was received.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends JPEG RTP multicast media stream to multicast IPv6 address over UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify that specified multicast port and address are used for streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK Response and terminates the RTSP Session.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DTT restores changed profiles and configurations.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid Multicast address in RTSP 200 OK response for RTSP SETUP requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send JPEG RTP multicast media streaming for corresponding multicast IP and port.
                </para>
              </listitem>


            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>

          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>


        </section>
        <section xml:id="tc.RTSS-1-2-23">
          <title>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Multicast/UDP) (ALL VIDEO SOURCE CONFIGURATIONS)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-1-2-23
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> GetGuaranteedNumberOfVideoEncoderInstances.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> GetGuaranteedNumberOfVideoEncoderInstances
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify Guaranteed Number Of Video Encoder Instances (RTP-Multicast/UDP)
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Media Service was received from the DUT.

          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetVideoSourceConfigurationsRequest</emphasis> message to retrieve all DUT video source configurations.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesRequest</emphasis> message (ConfigurationToken = “VSCToken1”, where “VSCToken1” is a first video source configuration token from <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message) to retrieve guaranteed number of video encoder instances per first video source configuration.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  Create or find number of profiles equal to TotalNumber from <emphasis role="bold">GetGuaranteedNumberOfVideoEncoderInstancesResponse</emphasis> message that contains video
                  source configuration with token “VSCToken1” and video encoder configuration
                  by following the procedure mentioned in <xref linkend="Annex_HelperConfigureSpecifiedNumberOfProfilesWithSpecifiedVSCandDifferentVECs"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  For each Media Profile (<emphasis role="italic">profile</emphasis>) that will be used for streaming:
                  <orderedlist numeration="arabic"
                               inheritnum="inherit">
                    <?dbfo label-width="4.5em"?>
                    <listitem>
                      <para>
                        ONVIF Client removes Audio Encoder Configuration and Metadata Configuration from the Media Profile that will be used for multicast streaming by following the procedure mentioned in by following the procedure mentioned in <xref linkend="Annex_HelperRemoveConfigurationsFromMediaProfile"/> with the following input and output parameters

                        <itemizedlist>
                          <listitem>
                            <para>
                              in { <emphasis role="italic">AudioEncoderConfiguration, MetadataConfiguration</emphasis>} - list of configuration types to remove from Media Profile
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              in <emphasis role="italic">profile</emphasis> - Media Profile to update
                            </para>
                          </listitem>

                        </itemizedlist>
                      </para>
                    </listitem>

                  </orderedlist>
                </para>
              </listitem>

              <listitem>
                <para>
                  Configure multicast settings for Multicast Address from profile (see <xref linkend="Annex_HelperMulticastSettingsConfiguration"/>).
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (Profile Token, RTP-Multicast, UDP transport) to retrieve media stream URI for the first media profile from step 7.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout in the <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter as RTP-Multicast/UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends JPEG RTP multicast media stream to ONVIF Client over UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  Repeat steps 8-20 to start video streaming for all profiles from step 7.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session for each started stream.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends 200 OK Response and terminates the RTSP Session.
                </para>
              </listitem>

              <listitem>
                <para>
                  Repeat steps 5-23 for the rest video source configuration.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DTT restores changed profiles and configurations.
                </para>
              </listitem>

            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send one or more mandatory parameters in the <emphasis role="bold">GetStreamUriResponse</emphasis> message (mandatory parameters – RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout).
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  RTSP Session is terminated by DUT during media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT did not send valid video stream.
                </para>
              </listitem>

              <listitem>
                <para>
                  DUT does not provide possibility to create TotalNumber of profiles for step 7.
                </para>
              </listitem>


            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> In case if there are more than one Media Profiles with the same Video Encoder Configuration, multicast streaming will be started only for one of them.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>


      </section>
    </section>
    <!--Audio Streaming-->
    <section xml:id="tc.real_time_streaming.audio_streaming">
      <title>Audio Streaming</title>
      <!--Unicast-->
      <section xml:id="tc.real_time_streaming.audio_streaming.unicast">
        <title>Unicast</title>
        <section xml:id="tc.RTSS-2-1-19">
          <title>MEDIA STREAMING – G.711 (RTP-Unicast/UDP)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-19
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.711 media streaming based on RTP-Unicast/UDP transport when media profile contains video and audio configurations.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Audio is supported by DUT. Media Service was received from the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-2-1-19.3">
                <para>
                  ONVIF Client configures a media profile to have audio configuration with required audio encoder and any video configuration following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForMediaAudioStreaming"/> with the following input and output parameters

                  <itemizedlist>
                    <listitem>
                      <para>
                        in G711 - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in UDP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv4 - IP version
                      </para>
                    </listitem>


                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/UDP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPUnicastUDP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in G.711 - expected media stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Audio Encoder Configuration and Media Profile changed at step <xref linkend="tc.RTSS-2-1-19.3"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>

        </section>
        <section xml:id="tc.RTSS-2-1-20">
          <title>MEDIA STREAMING – G.711 (RTP-Unicast/RTSP/HTTP/TCP)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-20
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP, RTSP over HTTP
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.711 media streaming based on RTP-Unicast/RTSP/HTTP/TCP Transport.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Audio is supported by DUT. Media Service was received from the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-2-1-20.3">
                <para>
                  ONVIF Client configures a media profile to have audio configuration with required audio encoder and any video configuration following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForMediaAudioStreaming"/> with the following input and output parameters

                  <itemizedlist>
                    <listitem>
                      <para>
                        in G711 - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in HTTP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv4 - IP version
                      </para>
                    </listitem>


                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/HTTP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPUnicastRTSPHTTPTCP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in G.711 - expected media stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Audio Encoder Configuration and Media Profile changed at step <xref linkend="tc.RTSS-2-1-20.3"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>

        </section>
        <section xml:id="tc.RTSS-2-1-21">
          <title>MEDIA STREAMING – G.711 (RTP/RTSP/TCP)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-21
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.711 media streaming based on RTP/RTSP/TCP Transport.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. RTP/RTSP/TCP transport protocol is supported by DUT. Audio is supported by DUT. Media Service was received from the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-2-1-21.3">
                <para>
                  ONVIF Client configures a media profile to have audio configuration with required audio encoder and any video configuration following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForMediaAudioStreaming"/> with the following input and output parameters

                  <itemizedlist>
                    <listitem>
                      <para>
                        in G711 - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in HTTP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv4 - IP version
                      </para>
                    </listitem>


                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/RTSP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPRTSPTCP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in G.711 - expected media stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Audio Encoder Configuration and Media Profile changed at step <xref linkend="tc.RTSS-2-1-21.3"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>

        </section>
        <section xml:id="tc.RTSS-2-1-22">
          <title>MEDIA STREAMING – G.726 (RTP-Unicast/UDP)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-22
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.726 media streaming based on RTP-Unicast/UDP transport when media profile contains video and audio configurations.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Audio is supported by DUT and G.726 is implemented by DUT. Media Service was received from the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-2-1-22.3">
                <para>
                  ONVIF Client configures a media profile to have audio configuration with required audio encoder and any video configuration following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForMediaAudioStreaming"/> with the following input and output parameters

                  <itemizedlist>
                    <listitem>
                      <para>
                        in G726 - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in UDP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv4 - IP version
                      </para>
                    </listitem>


                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/UDP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPUnicastUDP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in G.726 - expected media stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Audio Encoder Configuration and Media Profile changed at step <xref linkend="tc.RTSS-2-1-22.3"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>

        </section>
        <section xml:id="tc.RTSS-2-1-23">
          <title>MEDIA STREAMING – G.726 (RTP-Unicast/RTSP/HTTP/TCP)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-23
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP, RTSP over HTTP
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.726 media streaming based on RTP-Unicast/RTSP/HTTP/TCP Transport.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Audio is supported by DUT and G.726 is implemented by DUT. Media Service was received from the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-2-1-23.3">
                <para>
                  ONVIF Client configures a media profile to have audio configuration with required audio encoder and any video configuration following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForMediaAudioStreaming"/> with the following input and output parameters

                  <itemizedlist>
                    <listitem>
                      <para>
                        in G726 - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in HTTP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv4 - IP version
                      </para>
                    </listitem>


                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/HTTP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPUnicastRTSPHTTPTCP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in G.726 - expected media stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Audio Encoder Configuration and Media Profile changed at step <xref linkend="tc.RTSS-2-1-23.3"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>

        </section>
        <section xml:id="tc.RTSS-2-1-24">
          <title>MEDIA STREAMING – G.726 (RTP/RTSP/TCP)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-24
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.726 media streaming based on RTP/RTSP/TCP Transport.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. RTP/RTSP/TCP transport protocol is supported by DUT. Audio is supported by DUT and G.726 is implemented by DUT. Media Service was received from the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-2-1-24.3">
                <para>
                  ONVIF Client configures a media profile to have audio configuration with required audio encoder and any video configuration following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForMediaAudioStreaming"/> with the following input and output parameters

                  <itemizedlist>
                    <listitem>
                      <para>
                        in G726 - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in HTTP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv4 - IP version
                      </para>
                    </listitem>


                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/RTSP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPRTSPTCP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in G.726 - expected media stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Audio Encoder Configuration and Media Profile changed at step <xref linkend="tc.RTSS-2-1-24.3"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>

        </section>
        <section xml:id="tc.RTSS-2-1-25">
          <title>MEDIA STREAMING – AAC (RTP-Unicast/UDP)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-25
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify AAC media streaming based on RTP-Unicast/UDP transport when media profile contains video and audio configurations.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Audio is supported by DUT and AAC is implemented by DUT. Media Service was received from the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-2-1-25.3">
                <para>
                  ONVIF Client configures a media profile to have audio configuration with required audio encoder and any video configuration following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForMediaAudioStreaming"/> with the following input and output parameters

                  <itemizedlist>
                    <listitem>
                      <para>
                        in AAC - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in UDP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv4 - IP version
                      </para>
                    </listitem>


                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/UDP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPUnicastUDP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in AAC - expected media stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Audio Encoder Configuration and Media Profile changed at step <xref linkend="tc.RTSS-2-1-25.3"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>

        </section>
        <section xml:id="tc.RTSS-2-1-26">
          <title>MEDIA STREAMING – AAC (RTP-Unicast/RTSP/HTTP/TCP)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-26
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP, RTSP over HTTP
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify AAC media streaming based on RTP-Unicast/RTSP/HTTP/TCP Transport.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Audio is supported by DUT and AAC is implemented by DUT. Media Service was received from the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-2-1-26.3">
                <para>
                  ONVIF Client configures a media profile to have audio configuration with required audio encoder and any video configuration following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForMediaAudioStreaming"/> with the following input and output parameters

                  <itemizedlist>
                    <listitem>
                      <para>
                        in AAC - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in HTTP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv4 - IP version
                      </para>
                    </listitem>


                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/HTTP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPUnicastRTSPHTTPTCP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in AAC - expected media stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Audio Encoder Configuration and Media Profile changed at step <xref linkend="tc.RTSS-2-1-26.3"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>

        </section>
        <section xml:id="tc.RTSS-2-1-27">
          <title>MEDIA STREAMING – AAC (RTP/RTSP/TCP)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-27
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify AAC media streaming based on RTP/RTSP/TCP Transport.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. RTP/RTSP/TCP transport protocol is supported by DUT. Audio is supported by DUT and AAC is implemented by DUT. Media Service was received from the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-2-1-27.3">
                <para>
                  ONVIF Client configures a media profile to have audio configuration with required audio encoder and any video configuration following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForMediaAudioStreaming"/> with the following input and output parameters

                  <itemizedlist>
                    <listitem>
                      <para>
                        in AAC - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in HTTP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv4 - IP version
                      </para>
                    </listitem>


                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/RTSP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPRTSPTCP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in AAC - expected media stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Audio Encoder Configuration and Media Profile changed at step <xref linkend="tc.RTSS-2-1-27.3"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>

        </section>
        <!--RTSS-2-1-28-->
        <section xml:id="tc.RTSS-2-1-28">
          <title>AUDIO STREAMING – G.711 (RTP-Unicast/UDP)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-28
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.711 media streaming based on RTP-Unicast/UDP Transport for case if there is only Audio Source Configuration and Audio encoder Configuration in Media Profile.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Audio is supported by DUT. Media Service was received from the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> message with ProfileToken = ‘testprofileX’.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. If the DUT sends a SOAP 1.2 fault message (Action/MaxNVTProfiles or other) execute <xref linkend="Annex_HelperCreateEmptyProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurations</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio source configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message with ProfileToken = ‘testprofileX’ and ConfigurationToken = ConfigurationToken1 where ConfigurationToken1 is the first <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> from the <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsRequest</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio encoder configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends the list of audio encoder configurations compatible with the received media profile token.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the list of audio encoder configurations sent by DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> message (MediaProfile token, VECToken1, where VECToken1 is the token of the first VEC from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message) to retrieve audio encoder configuration options from the DUT
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message. If <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message does not contains specified video encoding repeat steps 11-12 for other VECs from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message. If there is AudioEncoderConfiguration which supports G.711 encoding go to the next step. If there is no AudioEncoderConfiguration which supports G.711 encoding skip this step and repeat steps 6-12 for other AudioSource.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> message with ProfileToken as ‘testprofileX’ and ConfigurationToken = ConfigurationToken1, where ConfigurationToken1 is token of AudioEncoderConfiguration found in step 12.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (Encoding = “G.711”, Bitrate = r1, SampleRate = r2, Session Timeout = t1 and force persistence = false) to set G.711 encoding.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Unicast”, Transport.Protocol = “UDP”) to retrieve media stream URI for the selected media profile.
                </para>
              </listitem>

              <listitem>
                <para>
                  The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter RTP-Unicast/UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends G.711 RTP media stream to ONVIF Client over UDP
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK Response and terminates the RTSP Session.
                </para>
              </listitem>


            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send AudioEncoderConfiguration which supports G.711 encoding in the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send G.711 RTP media streaming to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sent not only G.711 RTP media streaming to ONVIF Client.
                </para>
              </listitem>

            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>
        <section xml:id="tc.RTSS-2-1-29">
          <title>AUDIO STREAMING – G.711 (RTP-Unicast/RTSP/HTTP/TCP)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-29
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP, RTSP over HTTP
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.711 media streaming based on RTP-Unicast/RTSP/HTTP/TCP Transport for case if there is only Audio Source Configuration and Audio encoder Configuration in Media Profile.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT.Audio is supported by DUT. Media Service was received from the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> message with ProfileToken = ‘testprofileX’.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. If the DUT sends a SOAP 1.2 fault message (Action/MaxNVTProfiles or other) execute <xref linkend="Annex_HelperCreateEmptyProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurations</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio source configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message with ProfileToken = ‘testprofileX’ and ConfigurationToken = ConfigurationToken1 where ConfigurationToken1 is the first ConfigurationToken from the <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsRequest</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio encoder configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends the list of audio encoder configurations compatible with the received media profile token.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the list of audio encoder configurations sent by DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> message (MediaProfile token, VECToken1, where VECToken1 is the token of the first VEC from <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message) to retrieve audio encoder configuration options from the DUT
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message. If <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message does not contains specified video encoding repeat steps 11-12 for other VECs from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message. If there is AudioEncoderConfiguration which supports G.711 encoding go to the next step. If there is no AudioEncoderConfiguration which supports G.711 encoding skip this step and repeat steps 6-12 for other AudioSource.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> message with ProfileToken as ‘testprofileX’ and ConfigurationToken = ConfigurationToken1, where ConfigurationToken1 is token of AudioEncoderConfiguration found in step 12.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (Encoding = “G.711”, Bitrate = r1, SampleRate = r2, Session Timeout = t1 and force persistence = false) to set G.711 encoding.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Unicast”, Transport.Protocol = “HTTP”) to retrieve media stream URI for the selected media profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter RTP-Unicast/RTSP/HTTP/TCP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends G.711 RTP media stream to ONVIF Client over HTTP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK Response and terminates the RTSP Session.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send AudioEncoderConfiguration which supports G.711 encoding in the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send G.711 RTP media streaming to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sent not only G.711 RTP media streaming to ONVIF Client.
                </para>
              </listitem>

            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>
        <section xml:id="tc.RTSS-2-1-30">
          <title>AUDIO STREAMING – G.711 (RTP/RTSP/TCP)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-30
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.711 media streaming based on RTP/RTSP/TCP Transport for case if there is only Audio Source Configuration and Audio encoder Configuration in Media Profile.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT.Audio is supported by DUT. RTP/RTSP/TCP transport protocol is supported by DUT. Media Service was received from the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> message with ProfileToken = ‘testprofileX’.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. If the DUT sends a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis> or other) execute <xref linkend="Annex_HelperCreateEmptyProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurations</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio source configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message with ProfileToken = ‘testprofileX’ and ConfigurationToken = ConfigurationToken1 where ConfigurationToken1 is the first <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> from the <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsRequest</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio encoder configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends the list of audio encoder configurations compatible with the received media profile token.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the list of audio encoder configurations sent by DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> message (MediaProfile token, VECToken1, where VECToken1 is the token of the first VEC from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message) to retrieve audio encoder configuration options from the DUT
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message. If <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message does not contains specified video encoding repeat steps 11-12 for other VECs from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message. If there is AudioEncoderConfiguration which supports G.711 encoding go to the next step. If there is no AudioEncoderConfiguration which supports G.711 encoding skip this step and repeat steps 6-12 for other AudioSource.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> message with ProfileToken as ‘testprofileX’ and ConfigurationToken = ConfigurationToken1, where ConfigurationToken1 is token of AudioEncoderConfiguration found in step 12.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (Encoding = “G.711”, Bitrate = r1, SampleRate = r2, Session Timeout = t1 and force persistence = false) to set G.711 encoding.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Unicast”, Transport.Protocol = “RTSP”) to retrieve media stream URI for the selected media profile.
                </para>
              </listitem>

              <listitem>
                <para>
                  The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter RTP/RTSP/TCP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends G.711 RTP media stream to ONVIF Client over RTSP
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK Response and terminates the RTSP Session.
                </para>
              </listitem>


            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send AudioEncoderConfiguration which supports G.711 encoding in the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send G.711 RTP media streaming to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sent not only G.711 RTP media streaming to ONVIF Client.
                </para>
              </listitem>

            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>
        <section xml:id="tc.RTSS-2-1-31">
          <title>AUDIO STREAMING – G.726 (RTP-Unicast/UDP)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-31
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.726 media streaming based on RTP-Unicast/UDP Transport for case if there is only Audio Source Configuration and Audio encoder Configuration in Media Profile.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT.Audio is supported by DUT and G.726 is implemented by DUT. Media Service was received from the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> message with ProfileToken = ‘testprofileX’.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify CreateProfileResponse message from the DUT. If the DUT sends a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis> or other) execute <xref linkend="Annex_HelperCreateEmptyProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurations</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio source configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message with ProfileToken = ‘testprofileX’ and ConfigurationToken = ConfigurationToken1 where ConfigurationToken1 is the first <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> from the <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsRequest</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio encoder configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends the list of audio encoder configurations compatible with the received media profile token.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the list of audio encoder configurations sent by DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> message (MediaProfile token, VECToken1, where VECToken1 is the token of the first VEC from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message) to retrieve audio encoder configuration options from the DUT
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message. If <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message does not contains specified video encoding repeat steps 11-12 for other VECs from GetCompatibleAudioEncoderConfigurationsResponse message. If there is AudioEncoderConfiguration which supports G.726 encoding go to the next step. If there is no AudioEncoderConfiguration which supports G.726 encoding skip this step and repeat steps 6-12 for other AudioSource.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> message with ProfileToken as ‘testprofileX’ and ConfigurationToken = ConfigurationToken1, where ConfigurationToken1 is token of AudioEncoderConfiguration found in step 12.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (Encoding = “G.726”, Bitrate = r1, SampleRate = r2, Session Timeout = t1 and force persistence = false) to set G.726 encoding.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Unicast”, Transport.Protocol = “UDP”) to retrieve media stream URI for the selected media profile.
                </para>
              </listitem>

              <listitem>
                <para>
                  The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter RTP-Unicast/UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends G.726 RTP media stream to ONVIF Client over UDP
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK Response and terminates the RTSP Session.
                </para>
              </listitem>


            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send AudioEncoderConfiguration which supports G.726 encoding in the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send G.726 RTP media streaming to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sent not only G.726 RTP media streaming to ONVIF Client.
                </para>
              </listitem>

            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>
        <section xml:id="tc.RTSS-2-1-32">
          <title>AUDIO STREAMING – G.726 (RTP-Unicast/RTSP/HTTP/TCP)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-32
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP, RTSP over HTTP
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.726 media streaming based on RTP-Unicast/RTSP/HTTP/TCP Transport for case if there is only Audio Source Configuration and Audio encoder Configuration in Media Profile.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT.Audio is supported by DUT and G.726 is implemented by DUT. Media Service was received from the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> message with ProfileToken = ‘testprofileX’.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. If the DUT sends a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis> or other) execute <xref linkend="Annex_HelperCreateEmptyProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurations</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio source configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message with ProfileToken = ‘testprofileX’ and ConfigurationToken = ConfigurationToken1 where ConfigurationToken1 is the first ConfigurationToken from the <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsRequest</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio encoder configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends the list of audio encoder configurations compatible with the received media profile token.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the list of audio encoder configurations sent by DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> message (MediaProfile token, VECToken1, where VECToken1 is the token of the first VEC from <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message) to retrieve audio encoder configuration options from the DUT
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message. If <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message does not contains specified video encoding repeat steps 11-12 for other VECs from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message. If there is AudioEncoderConfiguration which supports G.726 encoding go to the next step. If there is no AudioEncoderConfiguration which supports G.726 encoding skip this step and repeat steps 6-12 for other AudioSource.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> message with ProfileToken as ‘testprofileX’ and ConfigurationToken = ConfigurationToken1, where ConfigurationToken1 is token of AudioEncoderConfiguration found in step 12.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (Encoding = “G.726”, Bitrate = r1, SampleRate = r2, Session Timeout = t1 and force persistence = false) to set G.726 encoding.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Unicast”, Transport.Protocol = “HTTP”) to retrieve media stream URI for the selected media profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter RTP-Unicast/RTSP/HTTP/TCP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends G.726 RTP media stream to ONVIF Client over HTTP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK Response and terminates the RTSP Session.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send AudioEncoderConfiguration which supports G.726 encoding in the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send G.726 RTP media streaming to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sent not only G.726 RTP media streaming to ONVIF Client.
                </para>
              </listitem>

            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>
        <section xml:id="tc.RTSS-2-1-33">
          <title>AUDIO STREAMING – G.726 (RTP/RTSP/TCP)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-33
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.726 media streaming based on RTP/RTSP/TCP Transport for case if there is only Audio Source Configuration and Audio encoder Configuration in Media Profile.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT.Audio is supported by DUT. RTP/RTSP/TCP transport protocol is supported by DUT. Media Service was received from the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> message with ProfileToken = ‘testprofileX’.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. If the DUT sends a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis> or other) execute <xref linkend="Annex_HelperCreateEmptyProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurations</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio source configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message with ProfileToken = ‘testprofileX’ and ConfigurationToken = ConfigurationToken1 where ConfigurationToken1 is the first <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> from the <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsRequest</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio encoder configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends the list of audio encoder configurations compatible with the received media profile token.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the list of audio encoder configurations sent by DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> message (MediaProfile token, VECToken1, where VECToken1 is the token of the first VEC from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message) to retrieve audio encoder configuration options from the DUT
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message. If <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message does not contains specified video encoding repeat steps 11-12 for other VECs from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message. If there is AudioEncoderConfiguration which supports G.726 encoding go to the next step. If there is no AudioEncoderConfiguration which supports G.726 encoding skip this step and repeat steps 6-12 for other AudioSource.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> message with ProfileToken as ‘testprofileX’ and ConfigurationToken = ConfigurationToken1, where ConfigurationToken1 is token of AudioEncoderConfiguration found in step 12.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (Encoding = “G.726”, Bitrate = r1, SampleRate = r2, Session Timeout = t1 and force persistence = false) to set G.726 encoding.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Unicast”, Transport.Protocol = “RTSP”) to retrieve media stream URI for the selected media profile.
                </para>
              </listitem>

              <listitem>
                <para>
                  The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter RTP/RTSP/TCP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends G.726 RTP media stream to ONVIF Client over RTSP
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK Response and terminates the RTSP Session.
                </para>
              </listitem>


            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send AudioEncoderConfiguration which supports G.726 encoding in the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send G.726 RTP media streaming to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sent not only G.726 RTP media streaming to ONVIF Client.
                </para>
              </listitem>

            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>
        <section xml:id="tc.RTSS-2-1-34">
          <title>AUDIO STREAMING – AAC (RTP-Unicast/UDP)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-34
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify AAC media streaming based on RTP-Unicast/UDP Transport for case if there is only Audio Source Configuration and Audio encoder Configuration in Media Profile.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT.Audio is supported by DUT and AAC is implemented by DUT. Media Service was received from the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> message with ProfileToken = ‘testprofileX’.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. If the DUT sends a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis> or other) execute <xref linkend="Annex_HelperCreateEmptyProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurations</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio source configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message with ProfileToken = ‘testprofileX’ and ConfigurationToken = ConfigurationToken1 where ConfigurationToken1 is the first <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> from the <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsRequest</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio encoder configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends the list of audio encoder configurations compatible with the received media profile token.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the list of audio encoder configurations sent by DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> message (MediaProfile token, VECToken1, where VECToken1 is the token of the first VEC from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message) to retrieve audio encoder configuration options from the DUT
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message. If <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message does not contains specified video encoding repeat steps 11-12 for other VECs from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message. If there is AudioEncoderConfiguration which supports AAC encoding go to the next step. If there is no AudioEncoderConfiguration which supports AAC encoding skip this step and repeat steps 6-12 for other AudioSource.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> message with ProfileToken as ‘testprofileX’ and ConfigurationToken = ConfigurationToken1, where ConfigurationToken1 is token of AudioEncoderConfiguration found in step 12.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (Encoding = “AAC”, Bitrate = r1, SampleRate = r2, Session Timeout = t1 and force persistence = false) to set AAC encoding.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Unicast”, Transport.Protocol = “UDP”) to retrieve media stream URI for the selected media profile.
                </para>
              </listitem>

              <listitem>
                <para>
                  The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter RTP-Unicast/UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends AAC RTP media stream to ONVIF Client over UDP
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK Response and terminates the RTSP Session.
                </para>
              </listitem>


            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send AudioEncoderConfiguration which supports AAC encoding in the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send AAC RTP media streaming to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sent not only AAC RTP media streaming to ONVIF Client.
                </para>
              </listitem>

            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>
        <section xml:id="tc.RTSS-2-1-35">
          <title>AUDIO STREAMING – AAC (RTP-Unicast/RTSP/HTTP/TCP)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-35
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP, RTSP over HTTP
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify AAC media streaming based on RTP-Unicast/RTSP/HTTP/TCP Transport for case if there is only Audio Source Configuration and Audio encoder Configuration in Media Profile.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT.Audio is supported by DUT and AAC is implemented by DUT. Media Service was received from the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> message with ProfileToken = ‘testprofileX’.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. If the DUT sends a SOAP 1.2 fault message (Action/MaxNVTProfiles or other) execute <xref linkend="Annex_HelperCreateEmptyProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurations</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio source configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message with ProfileToken = ‘testprofileX’ and ConfigurationToken = ConfigurationToken1 where ConfigurationToken1 is the first ConfigurationToken from the <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsRequest</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio encoder configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends the list of audio encoder configurations compatible with the received media profile token.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the list of audio encoder configurations sent by DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> message (MediaProfile token, VECToken1, where VECToken1 is the token of the first VEC from <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message) to retrieve audio encoder configuration options from the DUT
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message. If <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message does not contains specified video encoding repeat steps 11-12 for other VECs from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message. If there is AudioEncoderConfiguration which supports AAC encoding go to the next step. If there is no AudioEncoderConfiguration which supports AAC encoding skip this step and repeat steps 6-12 for other AudioSource.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> message with ProfileToken as ‘testprofileX’ and ConfigurationToken = ConfigurationToken1, where ConfigurationToken1 is token of AudioEncoderConfiguration found in step 12.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (Encoding = “AAC”, Bitrate = r1, SampleRate = r2, Session Timeout = t1 and force persistence = false) to set AAC encoding.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Unicast”, Transport.Protocol = “HTTP”) to retrieve media stream URI for the selected media profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter RTP-Unicast/RTSP/HTTP/TCP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends AAC RTP media stream to ONVIF Client over HTTP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK Response and terminates the RTSP Session.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send AudioEncoderConfiguration which supports AAC encoding in the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send AAC RTP media streaming to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sent not only AAC RTP media streaming to ONVIF Client.
                </para>
              </listitem>

            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>
        <section xml:id="tc.RTSS-2-1-36">
          <title>AUDIO STREAMING – AAC (RTP/RTSP/TCP)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-36
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify AAC media streaming based on RTP/RTSP/TCP Transport for case if there is only Audio Source Configuration and Audio encoder Configuration in Media Profile.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT.Audio is supported by DUT. RTP/RTSP/TCP transport protocol is supported by DUT. Media Service was received from the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> message with ProfileToken = ‘testprofileX’.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. If the DUT sends a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis> or other) execute <xref linkend="Annex_HelperCreateEmptyProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurations</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio source configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message with ProfileToken = ‘testprofileX’ and ConfigurationToken = ConfigurationToken1 where ConfigurationToken1 is the first <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> from the <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsRequest</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio encoder configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends the list of audio encoder configurations compatible with the received media profile token.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the list of audio encoder configurations sent by DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> message (MediaProfile token, VECToken1, where VECToken1 is the token of the first VEC from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message) to retrieve audio encoder configuration options from the DUT
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message. If <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message does not contains specified video encoding repeat steps 11-12 for other VECs from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message. If there is AudioEncoderConfiguration which supports AAC encoding go to the next step. If there is no AudioEncoderConfiguration which supports AAC encoding skip this step and repeat steps 6-12 for other AudioSource.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> message with ProfileToken as ‘testprofileX’ and ConfigurationToken = ConfigurationToken1, where ConfigurationToken1 is token of AudioEncoderConfiguration found in step 12.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (Encoding = “AAC”, Bitrate = r1, SampleRate = r2, Session Timeout = t1 and force persistence = false) to set AAC encoding.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Unicast”, Transport.Protocol = “RTSP”) to retrieve media stream URI for the selected media profile.
                </para>
              </listitem>

              <listitem>
                <para>
                  The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter RTP/RTSP/TCP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends AAC RTP media stream to ONVIF Client over RTSP
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK Response and terminates the RTSP Session.
                </para>
              </listitem>


            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send AudioEncoderConfiguration which supports AAC encoding in the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send AAC RTP media streaming to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sent not only AAC RTP media streaming to ONVIF Client.
                </para>
              </listitem>

            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>
        <section xml:id="tc.RTSS-2-1-37">
          <title>MEDIA STREAMING – G.711 (RTP-Unicast/UDP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-37
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.711 media streaming based on RTP-Unicast/UDP Transport for IPv6.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Audio is supported by DUT. Media Service was received from the DUT.
            IPv6 is turned on for network interface. The DUT is configured with Manual IPv6 or LinkLocal IPv6 address.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>

              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-2-1-37.3">
                <para>
                  ONVIF Client configures a media profile to have audio configuration with required audio encoder and any video configuration following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForMediaAudioStreaming"/> with the following input and output parameters

                  <itemizedlist>
                    <listitem>
                      <para>
                        in G711 - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in UDP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv6 - IP version
                      </para>
                    </listitem>


                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/UDP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPUnicastUDP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in G.711 - expected media stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Audio Encoder Configuration and Media Profile changed at step <xref linkend="tc.RTSS-2-1-37.3"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>

        </section>
        <section xml:id="tc.RTSS-2-1-38">
          <title>MEDIA STREAMING – G.711 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-38
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP, RTSP over HTTP
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.711 media streaming based on RTP-Unicast/RTSP/HTTP/TCP Transport for IPv6.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Audio is supported by DUT. Media Service was received from the DUT.
            IPv6 is turned on for network interface. The DUT is configured with Manual IPv6 or LinkLocal IPv6 address.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-2-1-38.3">
                <para>
                  ONVIF Client configures a media profile to have audio configuration with required audio encoder and any video configuration following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForMediaAudioStreaming"/> with the following input and output parameters

                  <itemizedlist>
                    <listitem>
                      <para>
                        in G711 - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in HTTP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv6 - IP version
                      </para>
                    </listitem>


                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/HTTP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPUnicastRTSPHTTPTCP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in G.711 - expected media stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Audio Encoder Configuration and Media Profile changed at step <xref linkend="tc.RTSS-2-1-38.3"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>

        </section>
        <section xml:id="tc.RTSS-2-1-39">
          <title>MEDIA STREAMING – G.711 (RTP/RTSP/TCP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-39
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.711 media streaming based on RTP/RTSP/TCP Transport for IPv6.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. RTP/RTSP/TCP transport protocol is supported by DUT. Audio is supported by DUT. Media Service was received from the DUT.
            IPv6 is turned on for network interface. The DUT is configured with Manual IPv6 or LinkLocal IPv6 address.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-2-1-39.3">
                <para>
                  ONVIF Client configures a media profile to have audio configuration with required audio encoder and any video configuration following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForMediaAudioStreaming"/> with the following input and output parameters

                  <itemizedlist>
                    <listitem>
                      <para>
                        in G711 - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in HTTP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv6 - IP version
                      </para>
                    </listitem>


                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/RTSP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPRTSPTCP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in G.711 - expected media stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Audio Encoder Configuration and Media Profile changed at step <xref linkend="tc.RTSS-2-1-39.3"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>

        </section>
        <section xml:id="tc.RTSS-2-1-40">
          <title>MEDIA STREAMING – G.726 (RTP-Unicast/UDP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-40
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.726 media streaming based on RTP-Unicast/UDP Transport for IPv6.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Audio is supported by DUT and G.726 is implemented by DUT. Media Service was received from the DUT.
            IPv6 is turned on for network interface. The DUT is configured with Manual IPv6 or LinkLocal IPv6 address.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>

              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-2-1-40.3">
                <para>
                  ONVIF Client configures a media profile to have audio configuration with required audio encoder and any video configuration following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForMediaAudioStreaming"/> with the following input and output parameters

                  <itemizedlist>
                    <listitem>
                      <para>
                        in G726 - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in UDP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv6 - IP version
                      </para>
                    </listitem>


                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/UDP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPUnicastUDP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in G.726 - expected media stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Audio Encoder Configuration and Media Profile changed at step <xref linkend="tc.RTSS-2-1-40.3"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>

        </section>
        <section xml:id="tc.RTSS-2-1-41">
          <title>MEDIA STREAMING – G.726 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-41
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP, RTSP over HTTP
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.726 media streaming based on RTP-Unicast/RTSP/HTTP/TCP Transport for IPv6.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Audio is supported by DUT. Media Service was received from the DUT.
            IPv6 is turned on for network interface. The DUT is configured with Manual IPv6 or LinkLocal IPv6 address.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-2-1-41.3">
                <para>
                  ONVIF Client configures a media profile to have audio configuration with required audio encoder and any video configuration following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForMediaAudioStreaming"/> with the following input and output parameters

                  <itemizedlist>
                    <listitem>
                      <para>
                        in G726 - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in HTTP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv6 - IP version
                      </para>
                    </listitem>


                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/HTTP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPUnicastRTSPHTTPTCP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in G.726 - expected media stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Audio Encoder Configuration and Media Profile changed at step <xref linkend="tc.RTSS-2-1-41.3"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>

        </section>
        <section xml:id="tc.RTSS-2-1-42">
          <title>MEDIA STREAMING – G.726 (RTP/RTSP/TCP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-42
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.726 media streaming based on RTP/RTSP/TCP Transport for IPv6.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. RTP/RTSP/TCP transport protocol is supported by DUT. Audio is supported by DUT and G.726 is implemented by DUT. Media Service was received from the DUT.
            IPv6 is turned on for network interface. The DUT is configured with Manual IPv6 or LinkLocal IPv6 address.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-2-1-42.3">
                <para>
                  ONVIF Client configures a media profile to have audio configuration with required audio encoder and any video configuration following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForMediaAudioStreaming"/> with the following input and output parameters

                  <itemizedlist>
                    <listitem>
                      <para>
                        in G726 - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in HTTP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv6 - IP version
                      </para>
                    </listitem>


                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/RTSP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPRTSPTCP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in G.726 - expected media stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Audio Encoder Configuration and Media Profile changed at step <xref linkend="tc.RTSS-2-1-42.3"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>

        </section>
        <section xml:id="tc.RTSS-2-1-43">
          <title>MEDIA STREAMING – AAC (RTP-Unicast/UDP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-43
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify AAC media streaming based on RTP-Unicast/UDP Transport for IPv6.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Audio is supported by DUT and AAC is implemented by DUT. Media Service was received from the DUT.
            IPv6 is turned on for network interface. The DUT is configured with Manual IPv6 or LinkLocal IPv6 address.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>

              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-2-1-43.3">
                <para>
                  ONVIF Client configures a media profile to have audio configuration with required audio encoder and any video configuration following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForMediaAudioStreaming"/> with the following input and output parameters

                  <itemizedlist>
                    <listitem>
                      <para>
                        in AAC - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in UDP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv6 - IP version
                      </para>
                    </listitem>


                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/UDP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPUnicastUDP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in AAC - expected media stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Audio Encoder Configuration and Media Profile changed at step <xref linkend="tc.RTSS-2-1-43.3"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>

        </section>
        <section xml:id="tc.RTSS-2-1-44">
          <title>MEDIA STREAMING – AAC (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-44
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP, RTSP over HTTP
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify AAC media streaming based on RTP-Unicast/RTSP/HTTP/TCP Transport for IPv6.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Audio is supported by DUT. Media Service was received from the DUT.
            IPv6 is turned on for network interface. The DUT is configured with Manual IPv6 or LinkLocal IPv6 address.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-2-1-44.3">
                <para>
                  ONVIF Client configures a media profile to have audio configuration with required audio encoder and any video configuration following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForMediaAudioStreaming"/> with the following input and output parameters

                  <itemizedlist>
                    <listitem>
                      <para>
                        in AAC - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in HTTP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv6 - IP version
                      </para>
                    </listitem>


                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/HTTP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPUnicastRTSPHTTPTCP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in AAC - expected media stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Audio Encoder Configuration and Media Profile changed at step <xref linkend="tc.RTSS-2-1-44.3"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>

        </section>
        <section xml:id="tc.RTSS-2-1-45">
          <title>MEDIA STREAMING – AAC (RTP/RTSP/TCP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-45
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify AAC media streaming based on RTP/RTSP/TCP Transport for IPv6.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. RTP/RTSP/TCP transport protocol is supported by DUT. Audio is supported by DUT and AAC is implemented by DUT. Media Service was received from the DUT.
            IPv6 is turned on for network interface. The DUT is configured with Manual IPv6 or LinkLocal IPv6 address.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-2-1-45.3">
                <para>
                  ONVIF Client configures a media profile to have audio configuration with required audio encoder and any video configuration following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForMediaAudioStreaming"/> with the following input and output parameters

                  <itemizedlist>
                    <listitem>
                      <para>
                        in AAC - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in HTTP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv6 - IP version
                      </para>
                    </listitem>


                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/RTSP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPRTSPTCP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in AAC - expected media stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Audio Encoder Configuration and Media Profile changed at step <xref linkend="tc.RTSS-2-1-45.3"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>

        </section>
        <section xml:id="tc.RTSS-2-1-46">
          <title>AUDIO STREAMING – G.711 (RTP-Unicast/UDP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-46
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.711 media streaming based on RTP-Unicast/UDP Transport for IPv6 for case if there is only Audio Source Configuration and Audio encoder Configuration in Media Profile.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Audio is supported by DUT. Media Service was received from the DUT.
            IPv6 is turned on for network interface. The DUT is configured with Manual IPv6 or LinkLocal IPv6 address.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> message with ProfileToken = ‘testprofileX’.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. If the DUT sends a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis> or other) execute <xref linkend="Annex_HelperCreateEmptyProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurations</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio source configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message with ProfileToken = ‘testprofileX’ and ConfigurationToken = ConfigurationToken1 where ConfigurationToken1 is the first <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> from the <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsRequest</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio encoder configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends the list of audio encoder configurations compatible with the received media profile token.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the list of audio encoder configurations sent by DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> message (MediaProfile token, VECToken1, where VECToken1 is the token of the first VEC from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message) to retrieve audio encoder configuration options from the DUT
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message. If <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message does not contains specified video encoding repeat steps 11-12 for other VECs from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message. If there is AudioEncoderConfiguration which supports G.711 encoding go to the next step. If there is no AudioEncoderConfiguration which supports G.711 encoding skip this step and repeat steps 6-12 for other AudioSource.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> message with ProfileToken as ‘testprofileX’ and ConfigurationToken = ConfigurationToken1, where ConfigurationToken1 is token of AudioEncoderConfiguration found in step 12.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (Encoding = “G.711”, Bitrate = r1, SampleRate = r2, Session Timeout = t1 and force persistence = false) to set G.711 encoding.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Unicast”, Transport.Protocol = “UDP”) to retrieve media stream URI for the selected media profile.
                </para>
              </listitem>

              <listitem>
                <para>
                  The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter RTP-Unicast/UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends G.711 RTP media stream to ONVIF Client over UDP
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK Response and terminates the RTSP Session.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>


            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send AudioEncoderConfiguration which supports G.711 encoding in the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send G.711 RTP media streaming to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sent not only G.711 RTP media streaming to ONVIF Client.
                </para>
              </listitem>

            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>
        <section xml:id="tc.RTSS-2-1-47">
          <title>AUDIO STREAMING – G.711 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-47
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP, RTSP over HTTP
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.711 media streaming based on RTP-Unicast/RTSP/HTTP/TCP Transport for IPv6 for case if there is only Audio Source Configuration and Audio encoder Configuration in Media Profile.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT.Audio is supported by DUT. Media Service was received from the DUT.
            IPv6 is turned on for network interface. The DUT is configured with Manual IPv6 or LinkLocal IPv6 address.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> message with ProfileToken = ‘testprofileX’.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. If the DUT sends a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis> or other) execute <xref linkend="Annex_HelperCreateEmptyProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurations</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio source configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message with ProfileToken = ‘testprofileX’ and ConfigurationToken = ConfigurationToken1 where ConfigurationToken1 is the first ConfigurationToken from the <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsRequest</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio encoder configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends the list of audio encoder configurations compatible with the received media profile token.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the list of audio encoder configurations sent by DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> message (MediaProfile token, VECToken1, where VECToken1 is the token of the first VEC from <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message) to retrieve audio encoder configuration options from the DUT
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message. If <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message does not contains specified video encoding repeat steps 11-12 for other VECs from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message. If there is AudioEncoderConfiguration which supports G.711 encoding go to the next step. If there is no AudioEncoderConfiguration which supports G.711 encoding skip this step and repeat steps 6-12 for other AudioSource.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> message with ProfileToken as ‘testprofileX’ and ConfigurationToken = ConfigurationToken1, where ConfigurationToken1 is token of AudioEncoderConfiguration found in step 12.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (Encoding = “G.711”, Bitrate = r1, SampleRate = r2, Session Timeout = t1 and force persistence = false) to set G.711 encoding.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Unicast”, Transport.Protocol = “HTTP”) to retrieve media stream URI for the selected media profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter RTP-Unicast/RTSP/HTTP/TCP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends G.711 RTP media stream to ONVIF Client over HTTP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK Response and terminates the RTSP Session.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>

            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send AudioEncoderConfiguration which supports G.711 encoding in the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send G.711 RTP media streaming to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sent not only G.711 RTP media streaming to ONVIF Client.
                </para>
              </listitem>

            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>
        <section xml:id="tc.RTSS-2-1-48">
          <title>AUDIO STREAMING – G.711 (RTP/RTSP/TCP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-48
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.711 media streaming based on RTP/RTSP/TCP Transport for IPv6 for case if there is only Audio Source Configuration and Audio encoder Configuration in Media Profile.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT.Audio is supported by DUT. RTP/RTSP/TCP transport protocol is supported by DUT. Media Service was received from the DUT.
            IPv6 is turned on for network interface. The DUT is configured with Manual IPv6 or LinkLocal IPv6 address.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> message with ProfileToken = ‘testprofileX’.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. If the DUT sends a SOAP 1.2 fault message (Action/MaxNVTProfiles or other) execute <xref linkend="Annex_HelperCreateEmptyProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurations</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio source configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message with ProfileToken = ‘testprofileX’ and ConfigurationToken = ConfigurationToken1 where ConfigurationToken1 is the first <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> from the <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsRequest</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio encoder configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends the list of audio encoder configurations compatible with the received media profile token.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the list of audio encoder configurations sent by DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> message (MediaProfile token, VECToken1, where VECToken1 is the token of the first VEC from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message) to retrieve audio encoder configuration options from the DUT
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message. If <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message does not contains specified video encoding repeat steps 11-12 for other VECs from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message. If there is AudioEncoderConfiguration which supports G.711 encoding go to the next step. If there is no AudioEncoderConfiguration which supports G.711 encoding skip this step and repeat steps 6-12 for other AudioSource.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> message with ProfileToken as ‘testprofileX’ and ConfigurationToken = ConfigurationToken1, where ConfigurationToken1 is token of AudioEncoderConfiguration found in step 12.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (Encoding = “G.711”, Bitrate = r1, SampleRate = r2, Session Timeout = t1 and force persistence = false) to set G.711 encoding.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Unicast”, Transport.Protocol = “RTSP”) to retrieve media stream URI for the selected media profile.
                </para>
              </listitem>

              <listitem>
                <para>
                  The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter RTP/RTSP/TCP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends G.711 RTP media stream to ONVIF Client over RTSP
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK Response and terminates the RTSP Session.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>


            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send AudioEncoderConfiguration which supports G.711 encoding in the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send G.711 RTP media streaming to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sent not only G.711 RTP media streaming to ONVIF Client.
                </para>
              </listitem>


            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>
        <section xml:id="tc.RTSS-2-1-49">
          <title>AUDIO STREAMING – G.726 (RTP-Unicast/UDP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-49
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.726 media streaming based on RTP-Unicast/UDP Transport for IPv6 for case if there is only Audio Source Configuration and Audio encoder Configuration in Media Profile.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Audio is supported by DUT and G.726 is implemented by DUT. Media Service was received from the DUT.
            IPv6 is turned on for network interface. The DUT is configured with Manual IPv6 or LinkLocal IPv6 address.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> message with ProfileToken = ‘testprofileX’.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. If the DUT sends a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis> or other) execute <xref linkend="Annex_HelperCreateEmptyProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurations</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio source configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message with ProfileToken = ‘testprofileX’ and ConfigurationToken = ConfigurationToken1 where ConfigurationToken1 is the first <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> from the <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsRequest</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio encoder configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends the list of audio encoder configurations compatible with the received media profile token.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the list of audio encoder configurations sent by DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> message (MediaProfile token, VECToken1, where VECToken1 is the token of the first VEC from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message) to retrieve audio encoder configuration options from the DUT
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message. If <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message does not contains specified video encoding repeat steps 11-12 for other VECs from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message. If there is AudioEncoderConfiguration which supports G.726 encoding go to the next step. If there is no AudioEncoderConfiguration which supports G.726 encoding skip this step and repeat steps 6-12 for other AudioSource.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> message with ProfileToken as ‘testprofileX’ and ConfigurationToken = ConfigurationToken1, where ConfigurationToken1 is token of AudioEncoderConfiguration found in step 12.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (Encoding = “G.726”, Bitrate = r1, SampleRate = r2, Session Timeout = t1 and force persistence = false) to set G.726 encoding.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Unicast”, Transport.Protocol = “UDP”) to retrieve media stream URI for the selected media profile.
                </para>
              </listitem>

              <listitem>
                <para>
                  The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter RTP-Unicast/UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends G.726 RTP media stream to ONVIF Client over UDP
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK Response and terminates the RTSP Session.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>



            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send AudioEncoderConfiguration which supports G.726 encoding in the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send G.726 RTP media streaming to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sent not only G.726 RTP media streaming to ONVIF Client.
                </para>
              </listitem>

            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>
        <section xml:id="tc.RTSS-2-1-50">
          <title>AUDIO STREAMING – G.726 (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-50
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP, RTSP over HTTP
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.726 media streaming based on RTP-Unicast/RTSP/HTTP/TCP Transport for IPv6 for case if there is only Audio Source Configuration and Audio encoder Configuration in Media Profile.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT.Audio is supported by DUT and G.726 is implemented by DUT. Media Service was received from the DUT.
            IPv6 is turned on for network interface. The DUT is configured with Manual IPv6 or LinkLocal IPv6 address.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> message with ProfileToken = ‘testprofileX’.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. If the DUT sends a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis> or other) execute <xref linkend="Annex_HelperCreateEmptyProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurations</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio source configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message with ProfileToken = ‘testprofileX’ and ConfigurationToken = ConfigurationToken1 where ConfigurationToken1 is the first ConfigurationToken from the <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsRequest</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio encoder configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends the list of audio encoder configurations compatible with the received media profile token.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the list of audio encoder configurations sent by DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> message (MediaProfile token, VECToken1, where VECToken1 is the token of the first VEC from <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message) to retrieve audio encoder configuration options from the DUT
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message. If <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message does not contains specified video encoding repeat steps 11-12 for other VECs from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message. If there is AudioEncoderConfiguration which supports G.726 encoding go to the next step. If there is no AudioEncoderConfiguration which supports G.726 encoding skip this step and repeat steps 6-12 for other AudioSource.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> message with ProfileToken as ‘testprofileX’ and ConfigurationToken = ConfigurationToken1, where ConfigurationToken1 is token of AudioEncoderConfiguration found in step 12.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (Encoding = “G.726”, Bitrate = r1, SampleRate = r2, Session Timeout = t1 and force persistence = false) to set G.726 encoding.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Unicast”, Transport.Protocol = “HTTP”) to retrieve media stream URI for the selected media profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter RTP-Unicast/RTSP/HTTP/TCP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends G.726 RTP media stream to ONVIF Client over HTTP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK Response and terminates the RTSP Session.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send AudioEncoderConfiguration which supports G.726 encoding in the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send G.726 RTP media streaming to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sent not only G.726 RTP media streaming to ONVIF Client.
                </para>
              </listitem>

            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>
        <section xml:id="tc.RTSS-2-1-51">
          <title>AUDIO STREAMING – G.726 (RTP/RTSP/TCP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-51
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.726 media streaming based on RTP/RTSP/TCP Transport for IPv6 for case if there is only Audio Source Configuration and Audio encoder Configuration in Media Profile.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT.Audio is supported by DUT. RTP/RTSP/TCP transport protocol is supported by DUT. Media Service was received from the DUT.
            IPv6 is turned on for network interface. The DUT is configured with Manual IPv6 or LinkLocal IPv6 address.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> message with ProfileToken = ‘testprofileX’.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. If the DUT sends a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis> or other) execute <xref linkend="Annex_HelperCreateEmptyProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurations</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio source configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message with ProfileToken = ‘testprofileX’ and ConfigurationToken = ConfigurationToken1 where ConfigurationToken1 is the first <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> from the <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsRequest</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio encoder configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends the list of audio encoder configurations compatible with the received media profile token.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the list of audio encoder configurations sent by DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> message (MediaProfile token, VECToken1, where VECToken1 is the token of the first VEC from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message) to retrieve audio encoder configuration options from the DUT
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message. If <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message does not contains specified video encoding repeat steps 11-12 for other VECs from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message. If there is AudioEncoderConfiguration which supports G.726 encoding go to the next step. If there is no AudioEncoderConfiguration which supports G.726 encoding skip this step and repeat steps 6-12 for other AudioSource.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> message with ProfileToken as ‘testprofileX’ and ConfigurationToken = ConfigurationToken1, where ConfigurationToken1 is token of AudioEncoderConfiguration found in step 12.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (Encoding = “G.726”, Bitrate = r1, SampleRate = r2, Session Timeout = t1 and force persistence = false) to set G.726 encoding.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Unicast”, Transport.Protocol = “RTSP”) to retrieve media stream URI for the selected media profile.
                </para>
              </listitem>

              <listitem>
                <para>
                  The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter RTP/RTSP/TCP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends G.726 RTP media stream to ONVIF Client over RTSP
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK Response and terminates the RTSP Session.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>


            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send AudioEncoderConfiguration which supports G.726 encoding in the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send G.726 RTP media streaming to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sent not only G.726 RTP media streaming to ONVIF Client.
                </para>
              </listitem>

            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>
        <section xml:id="tc.RTSS-2-1-52">
          <title>AUDIO STREAMING – AAC (RTP-Unicast/UDP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-52
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify AAC media streaming based on RTP-Unicast/UDP Transport for IPv6 for case if there is only Audio Source Configuration and Audio encoder Configuration in Media Profile.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT.Audio is supported by DUT and AAC is implemented by DUT. Media Service was received from the DUT.
            IPv6 is turned on for network interface. The DUT is configured with Manual IPv6 or LinkLocal IPv6 address.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> message with ProfileToken = ‘testprofileX’.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. If the DUT sends a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis> or other) execute <xref linkend="Annex_HelperCreateEmptyProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurations</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio source configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message with ProfileToken = ‘testprofileX’ and ConfigurationToken = ConfigurationToken1 where ConfigurationToken1 is the first <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> from the <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsRequest</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio encoder configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends the list of audio encoder configurations compatible with the received media profile token.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the list of audio encoder configurations sent by DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> message (MediaProfile token, VECToken1, where VECToken1 is the token of the first VEC from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message) to retrieve audio encoder configuration options from the DUT
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message. If <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message does not contains specified video encoding repeat steps 11-12 for other VECs from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message. If there is AudioEncoderConfiguration which supports AAC encoding go to the next step. If there is no AudioEncoderConfiguration which supports AAC encoding skip this step and repeat steps 6-12 for other AudioSource.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> message with ProfileToken as ‘testprofileX’ and ConfigurationToken = ConfigurationToken1, where ConfigurationToken1 is token of AudioEncoderConfiguration found in step 12.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (Encoding = “AAC”, Bitrate = r1, SampleRate = r2, Session Timeout = t1 and force persistence = false) to set AAC encoding.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Unicast”, Transport.Protocol = “UDP”) to retrieve media stream URI for the selected media profile.
                </para>
              </listitem>

              <listitem>
                <para>
                  The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter RTP-Unicast/UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends AAC RTP media stream to ONVIF Client over UDP
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK Response and terminates the RTSP Session.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>


            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send AudioEncoderConfiguration which supports AAC encoding in the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send AAC RTP media streaming to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sent not only AAC RTP media streaming to ONVIF Client.
                </para>
              </listitem>

            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>
        <section xml:id="tc.RTSS-2-1-53">
          <title>AUDIO STREAMING – AAC (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-53
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP, RTSP over HTTP
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify AAC media streaming based on RTP-Unicast/RTSP/HTTP/TCP Transport for IPv6 for case if there is only Audio Source Configuration and Audio encoder Configuration in Media Profile.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT.Audio is supported by DUT and AAC is implemented by DUT. Media Service was received from the DUT.
            IPv6 is turned on for network interface. The DUT is configured with Manual IPv6 or LinkLocal IPv6 address.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> message with ProfileToken = ‘testprofileX’.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. If the DUT sends a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis> or other) execute <xref linkend="Annex_HelperCreateEmptyProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurations</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio source configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message with ProfileToken = ‘testprofileX’ and ConfigurationToken = ConfigurationToken1 where ConfigurationToken1 is the first ConfigurationToken from the <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsRequest</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio encoder configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends the list of audio encoder configurations compatible with the received media profile token.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the list of audio encoder configurations sent by DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> message (MediaProfile token, VECToken1, where VECToken1 is the token of the first VEC from <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message) to retrieve audio encoder configuration options from the DUT
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message. If <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message does not contains specified video encoding repeat steps 11-12 for other VECs from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message. If there is AudioEncoderConfiguration which supports AAC encoding go to the next step. If there is no AudioEncoderConfiguration which supports AAC encoding skip this step and repeat steps 6-12 for other AudioSource.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> message with ProfileToken as ‘testprofileX’ and ConfigurationToken = ConfigurationToken1, where ConfigurationToken1 is token of AudioEncoderConfiguration found in step 12.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (Encoding = “AAC”, Bitrate = r1, SampleRate = r2, Session Timeout = t1 and force persistence = false) to set AAC encoding.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Unicast”, Transport.Protocol = “HTTP”) to retrieve media stream URI for the selected media profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter RTP-Unicast/RTSP/HTTP/TCP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends AAC RTP media stream to ONVIF Client over HTTP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK Response and terminates the RTSP Session.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send AudioEncoderConfiguration which supports AAC encoding in the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send AAC RTP media streaming to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sent not only AAC RTP media streaming to ONVIF Client.
                </para>
              </listitem>

            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>
        <section xml:id="tc.RTSS-2-1-54">
          <title>AUDIO STREAMING – AAC (RTP/RTSP/TCP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-1-54
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify AAC media streaming based on RTP/RTSP/TCP Transport for IPv6 for case if there is only Audio Source Configuration and Audio encoder Configuration in Media Profile.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT.Audio is supported by DUT. RTP/RTSP/TCP transport protocol is supported by DUT. Media Service was received from the DUT.
            IPv6 is turned on for network interface. The DUT is configured with Manual IPv6 or LinkLocal IPv6 address.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> message with ProfileToken = ‘testprofileX’.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. If the DUT sends a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis> or other) execute <xref linkend="Annex_HelperCreateEmptyProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurations</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio source configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message with ProfileToken = ‘testprofileX’ and ConfigurationToken = ConfigurationToken1 where ConfigurationToken1 is the first <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> from the <emphasis role="bold">GetAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsRequest</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio encoder configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends the list of audio encoder configurations compatible with the received media profile token.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the list of audio encoder configurations sent by DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> message (MediaProfile token, VECToken1, where VECToken1 is the token of the first VEC from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message) to retrieve audio encoder configuration options from the DUT
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message. If <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message does not contains specified video encoding repeat steps 11-12 for other VECs from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message. If there is AudioEncoderConfiguration which supports AAC encoding go to the next step. If there is no AudioEncoderConfiguration which supports AAC encoding skip this step and repeat steps 6-12 for other AudioSource.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> message with ProfileToken as ‘testprofileX’ and ConfigurationToken = ConfigurationToken1, where ConfigurationToken1 is token of AudioEncoderConfiguration found in step 12.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (Encoding = “AAC”, Bitrate = r1, SampleRate = r2, Session Timeout = t1 and force persistence = false) to set AAC encoding.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Unicast”, Transport.Protocol = “RTSP”) to retrieve media stream URI for the selected media profile.
                </para>
              </listitem>

              <listitem>
                <para>
                  The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter RTP/RTSP/TCP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends AAC RTP media stream to ONVIF Client over RTSP
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK Response and terminates the RTSP Session.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>


            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send AudioEncoderConfiguration which supports AAC encoding in the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send AAC RTP media streaming to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sent not only AAC RTP media streaming to ONVIF Client.
                </para>
              </listitem>

            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>

      </section>

      <!--Multicast-->
      <section xml:id="tc.real_time_streaming.audio_streaming.multicast">
        <title>Multicast</title>
        <section xml:id="tc.RTSS-2-2-9">
          <title>AUDIO ENCODER CONFIGURATION – MULTICAST PORT (IPv4)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-2-9
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> SetAudioEncoderConfiguration, GetAudioEncoderConfiguration, Start multicast streaming, Stop multicast streaming
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> SetAudioEncoderConfiguration, GetAudioEncoderConfiguration, StartMulticastStreaming, StopMulticastStreaming.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify changing and applying of Multicast port for Audio Encoder Configuration in case of the same Multicast address for all Audio Encoder Configurations.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Media Service was received from the DUT. At least one Audio Encoder is supported by the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>

              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationsRequest</emphasis> message to retrieve audio configuration list.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (ConfigurationToken = AECToken1, Multicast.Address = [“IPv4”, “multicastAddress1”], Multicast.Port = “port1”, where AECToken1 is first audio encoder configuration token from <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message) to change multicast port and address for audio encoder configuration.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationRequest</emphasis> message (ConfigurationToken = AECToken1) to get audio encoder configuration.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message (ConfigurationToken = Token1, Multicast.Address = [“IPv4”, “multicastAddress1”], Multicast.Port = “port1”) from the DUT. Check that new setting for Multicast.Port and Multicast.Address was applied.
                </para>
              </listitem>
              <listitem>
                <para>
                  Repeat steps 5-8 for the rest Audio Encoder configurations supported by the DUT with using different multicast ports and the same multicast addresses for Audio Encoder Configurations.
                </para>
              </listitem>
              <listitem>
                <para>
                  Find or create media profile with Audio Source Configuration and Audio Encoder Configuration with token AECToken1 (see <xref linkend="Annex_HelperConfigureProfileContainingSpecifiedAudioEncoderConfiguration"/>). If it is not possible skip steps 11-18 and go to the step 19.
                </para>
              </listitem>
              <listitem>
                <para>
                  Configure multicast settings for other entities from profile if required (see <xref linkend="Annex_HelperMulticastSettingsConfiguration"/>).
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">StartMulticastStreamingRequest</emphasis> message (ProfileToken = [profile token from the step 10]) to start multicast streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">StartMulticastStreamingResponse</emphasis> from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends audio RTP multicast media stream to multicast IPv4 address over UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates that specified multicast address and port are used.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">StopMulticastStreamingRequest</emphasis> message (ProfileToken = [profile token from the step 10]) to stop multicast streaming from specified port.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">StopMulticastStreamingResponse</emphasis> from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  Repeat steps 10-18 for the rest Audio Encoder configuration supported by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  Restore Audio Encoder Configurations settings.
                </para>
              </listitem>


            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>

              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message with new Multicast.Address and Multicast.Port values that were set during steps 5-6.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">StartMulticastStreamingResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid audio stream to specified multicast address and port.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">StopMulticastStreamingResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  It is not possible to find or create profile for all Audio Encoder Configurations.
                </para>
              </listitem>

            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
        </section>
        <section xml:id="tc.RTSS-2-2-10">
          <title>AUDIO ENCODER CONFIGURATION – MULTICAST ADDRESS (IPv4)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-2-10
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> SetAudioEncoderConfiguration, GetAudioEncoderConfiguration, Start multicast streaming, Stop multicast streaming
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> SetAudioEncoderConfiguration, GetAudioEncoderConfiguration, StartMulticastStreaming, StopMulticastStreaming.
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify changing and applying of Multicast address for Audio Encoder Configuration in case of the same Multicast port for all Audio Encoder Configurations.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Media Service was received from the DUT. At least one Audio Encoder is supported by the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>

              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationsRequest</emphasis> message to retrieve audio configuration list.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (ConfigurationToken = AECToken1, Multicast.Address = [“IPv4”, “multicastAddress1”], Multicast.Port = “port1”, where AECToken1 is first audio encoder configuration token from <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message) to change multicast port and address for audio encoder configuration.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationRequest</emphasis> message (ConfigurationToken = AECToken1) to get audio encoder configuration.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message (ConfigurationToken = Token1, Multicast.Address = [“IPv4”, “multicastAddress1”], Multicast.Port = “port1”) from the DUT. Check that new setting for Multicast.Port and Multicast.Address was applied.
                </para>
              </listitem>
              <listitem>
                <para>
                  Repeat steps 5-8 for the rest Audio Encoder configurations supported by the DUT with using different multicast address and the same multicast port for Audio Encoder Configurations.
                </para>
              </listitem>
              <listitem>
                <para>
                  Find or create media profile with Audio Source Configuration and Audio Encoder Configuration with token AECToken1 (see <xref linkend="Annex_HelperConfigureProfileContainingSpecifiedAudioEncoderConfiguration"/>). If it is not possible skip steps 11-18 and go to the step 19.
                </para>
              </listitem>
              <listitem>
                <para>
                  Configure multicast settings for other entities from profile if required (see <xref linkend="Annex_HelperMulticastSettingsConfiguration"/>).
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">StartMulticastStreamingRequest</emphasis> message (ProfileToken = [profile token from the step 10]) to start multicast streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">StartMulticastStreamingResponse</emphasis> from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends audio RTP multicast media stream to multicast IPv4 address over UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates that specified multicast address and port are used.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">StopMulticastStreamingRequest</emphasis> message (ProfileToken = [profile token from the step 10]) to stop multicast streaming from specified port.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">StopMulticastStreamingResponse</emphasis> from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  Repeat steps 10-18 for the rest Audio Encoder configuration supported by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  Restore Audio Encoder Configurations settings.
                </para>
              </listitem>


            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>

              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message with new Multicast.Address and Multicast.Port values that were set during steps 5-6.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">StartMulticastStreamingResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid audio stream to specified multicast address and port.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">StopMulticastStreamingResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  It is not possible to find or create profile for all Audio Encoder Configurations.
                </para>
              </listitem>

            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
        </section>
        <section xml:id="tc.RTSS-2-2-11">
          <title>MEDIA STREAMING – G.711 (RTP-Multicast/UDP, IPv4)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-2-11
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, G.711 over RTP, Stream control, RTSP
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.711 media streaming based on RTP-Multicast/UDP Transport for IPv4.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT.Audio is supported by DUT. A media profile with G.711 audio encoder configuration exists. RTP-Multicast/UDP transport protocol is supported by DUT. Media Service was received from the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> message with ProfileToken = ‘testprofileX’.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. If the DUT sends a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis> or other) execute <xref linkend="Annex_HelperCreateEmptyProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurationsRequest</emphasis> message to retrieve all existing audio source configurations of the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message with ProfileToken = ‘testprofileX’ and ConfigurationToken = ConfigurationToken1 where ConfigurationToken1 is the first ConfigurationToken from the <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsRequest</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio encoder configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends the list of audio encoder configurations compatible with the received media profile token.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the list of audio source configurations sent by DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> message (MediaProfile token, VECToken1, where VECToken1 is the token of the first VEC from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message) to retrieve audio encoder configuration options from the DUT
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message. If <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message does not contains specified video encoding repeat steps 12-13 for other VECs from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message. If there is AudioEncoderConfiguration which supports G.711 encoding go to the next step. If there is no AudioEncoderConfiguration which supports G.711 encoding skip this step and repeat steps 7-13 for other AudioSource.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> message with ProfileToken as ‘testprofileX’ and ConfigurationToken = ConfigurationToken1, where ConfigurationToken1 is token of AudioEncoderConfiguration found in step 13
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT adds the audio encoder configuration to the profile and sends the response.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (Encoding = “G711”, Bitrate = r1, SampleRate = r2, Multicast.Address = [“IPv4”, “multicastAddress1”], Multicast.Port = “port1”, TTL = “ttl1”, Session Timeout = t1 and force persistence = false) to set G.711 encoding and Multicast settings.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Multicast”, Transport.Protocol = “UDP”) to retrieve media stream URI for the selected media profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter RTP-Multicast/UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends G.711 RTP multicast media stream to multicast IPv4 address over UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK Response and terminates the RTSP Session.

                </para>
              </listitem>

            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not have valid media profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send AudioEncoderConfiguration which supports G.711 encoding in the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send G.711 RTP multicast media streaming for corresponding multicast IP.
                </para>
              </listitem>


            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests. See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>

          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>
        <section xml:id="tc.RTSS-2-2-12">
          <title>MEDIA STREAMING – G.711 (RTP-Multicast/UDP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-2-12
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, G.711 over RTP, Stream control, RTSP
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.711 media streaming based on RTP-Multicast/UDP Transport for IPv6.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT.Audio is supported by DUT. A media profile with G.711 audio encoder configuration exists. RTP-Multicast/UDP transport protocol is supported by DUT. Media Service was received from the DUT. IPv6 is turned on for network interface.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> message with ProfileToken = ‘testprofileX’.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. If the DUT sends a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis> or other) execute <xref linkend="Annex_HelperCreateEmptyProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurationsRequest</emphasis> message to retrieve all existing audio source configurations of the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message with ProfileToken = ‘testprofileX’ and ConfigurationToken = ConfigurationToken1 where ConfigurationToken1 is the first ConfigurationToken from the <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsRequest</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio encoder configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends the list of audio encoder configurations compatible with the received media profile token.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the list of audio source configurations sent by DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> message (MediaProfile token, VECToken1, where VECToken1 is the token of the first VEC from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message) to retrieve audio encoder configuration options from the DUT
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message. If <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message does not contains specified video encoding repeat steps 12-13 for other VECs from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message. If there is AudioEncoderConfiguration which supports G.711 encoding go to the next step. If there is no AudioEncoderConfiguration which supports G.711 encoding skip this step and repeat steps 7-13 for other AudioSource.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> message with ProfileToken as ‘testprofileX’ and ConfigurationToken = ConfigurationToken1, where ConfigurationToken1 is token of AudioEncoderConfiguration found in step 13
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT adds the audio encoder configuration to the profile and sends the response.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (Encoding = “G711”, Bitrate = r1, SampleRate = r2, Multicast.Address = [“IPv6”, “multicastAddress1”], Multicast.Port = “port1”, TTL = “ttl1”, Session Timeout = t1 and force persistence = false) to set G.711 encoding and Multicast settings.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Multicast”, Transport.Protocol = “UDP”) to retrieve media stream URI for the selected media profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter RTP-Multicast/UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends G.711 RTP multicast media stream to multicast IPv6 address over UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK Response and terminates the RTSP Session.

                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>

            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not have valid media profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send AudioEncoderConfiguration which supports G.711 encoding in the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send G.711 RTP multicast media streaming for corresponding multicast IP.
                </para>
              </listitem>


            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests. See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>

          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>
        <section xml:id="tc.RTSS-2-2-13">
          <title>MEDIA STREAMING – G.726 (RTP-Multicast/UDP, IPv4)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-2-13
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, G.726 over RTP, Stream control, RTSP
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.726 media streaming based on RTP-Multicast/UDP Transport for IPv4.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT.Audio is supported by DUT and G.726 is implemented by DUT. A media profile with G.726 audio encoder configuration exists. RTP-Multicast/UDP transport protocol is supported by DUT. Media Service was received from the DUT
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> message with ProfileToken = ‘testprofileX’.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. If the DUT sends a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis> or other) execute <xref linkend="Annex_HelperCreateEmptyProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurationsRequest</emphasis> message to retrieve all existing audio source configurations of the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message with ProfileToken = ‘testprofileX’ and ConfigurationToken = ConfigurationToken1 where ConfigurationToken1 is the first ConfigurationToken from the <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsRequest</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio encoder configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends the list of audio encoder configurations compatible with the received media profile token.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the list of audio source configurations sent by DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> message (MediaProfile token, VECToken1, where VECToken1 is the token of the first VEC from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message) to retrieve audio encoder configuration options from the DUT
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message. If <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message does not contains specified video encoding repeat steps 12-13 for other VECs from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message. If there is AudioEncoderConfiguration which supports G.726 encoding go to the next step. If there is no AudioEncoderConfiguration which supports G.726 encoding skip this step and repeat steps 7-13 for other AudioSource.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> message with ProfileToken as ‘testprofileX’ and ConfigurationToken = ConfigurationToken1, where ConfigurationToken1 is token of AudioEncoderConfiguration found in step 13
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT adds the audio encoder configuration to the profile and sends the response.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (Encoding = “G726”, Bitrate = r1, SampleRate = r2, Multicast.Address = [“IPv4”, “multicastAddress1”], Multicast.Port = “port1”, TTL = “ttl1”, Session Timeout = t1 and force persistence = false) to set G.726 encoding and Multicast settings.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Multicast”, Transport.Protocol = “UDP”) to retrieve media stream URI for the selected media profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter RTP-Multicast/UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends G.726 RTP multicast media stream to multicast IPv4 address over UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK Response and terminates the RTSP Session.

                </para>
              </listitem>

            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not have valid media profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send AudioEncoderConfiguration which supports G.726 encoding in the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send G.726 RTP multicast media streaming for corresponding multicast IP.
                </para>
              </listitem>


            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests. See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>

          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>
        <section xml:id="tc.RTSS-2-2-14">
          <title>MEDIA STREAMING – G.726 (RTP-Multicast/UDP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-2-14
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, G.726 over RTP, Stream control, RTSP
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.726 media streaming based on RTP-Multicast/UDP Transport for IPv6.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT.Audio is supported by DUT and G.726 is implemented by DUT. A media profile with G.726 audio encoder configuration exists. RTP-Multicast/UDP transport protocol is supported by DUT. Media Service was received from the DUT. IPv6 is turned on for network interface.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> message with ProfileToken = ‘testprofileX’.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. If the DUT sends a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis> or other) execute <xref linkend="Annex_HelperCreateEmptyProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurationsRequest</emphasis> message to retrieve all existing audio source configurations of the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message with ProfileToken = ‘testprofileX’ and ConfigurationToken = ConfigurationToken1 where ConfigurationToken1 is the first ConfigurationToken from the <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsRequest</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio encoder configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends the list of audio encoder configurations compatible with the received media profile token.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the list of audio source configurations sent by DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> message (MediaProfile token, VECToken1, where VECToken1 is the token of the first VEC from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message) to retrieve audio encoder configuration options from the DUT
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message. If <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message does not contains specified video encoding repeat steps 12-13 for other VECs from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message. If there is AudioEncoderConfiguration which supports G.726 encoding go to the next step. If there is no AudioEncoderConfiguration which supports G.726 encoding skip this step and repeat steps 7-13 for other AudioSource.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> message with ProfileToken as ‘testprofileX’ and ConfigurationToken = ConfigurationToken1, where ConfigurationToken1 is token of AudioEncoderConfiguration found in step 13
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT adds the audio encoder configuration to the profile and sends the response.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (Encoding = “G726”, Bitrate = r1, SampleRate = r2, Multicast.Address = [“IPv6”, “multicastAddress1”], Multicast.Port = “port1”, TTL = “ttl1”, Session Timeout = t1 and force persistence = false) to set G.726 encoding and Multicast settings.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Multicast”, Transport.Protocol = “UDP”) to retrieve media stream URI for the selected media profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter RTP-Multicast/UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends G.726 RTP multicast media stream to multicast IPv6 address over UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK Response and terminates the RTSP Session.

                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>

            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not have valid media profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send AudioEncoderConfiguration which supports G.726 encoding in the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send G.726 RTP multicast media streaming for corresponding multicast IP.
                </para>
              </listitem>


            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests. See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>

          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>
        <section xml:id="tc.RTSS-2-2-15">
          <title>MEDIA STREAMING – AAC (RTP-Multicast/UDP, IPv4)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-2-15
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, AAC over RTP, Stream control, RTSP
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify AAC media streaming based on RTP-Multicast/UDP Transport for IPv4.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT.Audio is supported by DUT and AAC is implemented by DUT. A media profile with AAC audio encoder configuration exists. RTP-Multicast/UDP transport protocol is supported by DUT. Media Service was received from the DUT
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> message with ProfileToken = ‘testprofileX’.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. If the DUT sends a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis> or other) execute <xref linkend="Annex_HelperCreateEmptyProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurationsRequest</emphasis> message to retrieve all existing audio source configurations of the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message with ProfileToken = ‘testprofileX’ and ConfigurationToken = ConfigurationToken1 where ConfigurationToken1 is the first ConfigurationToken from the <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsRequest</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio encoder configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends the list of audio encoder configurations compatible with the received media profile token.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the list of audio source configurations sent by DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> message (MediaProfile token, VECToken1, where VECToken1 is the token of the first VEC from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message) to retrieve audio encoder configuration options from the DUT
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message. If <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message does not contains specified video encoding repeat steps 12-13 for other VECs from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message. If there is AudioEncoderConfiguration which supports AAC encoding go to the next step. If there is no AudioEncoderConfiguration which supports AAC encoding skip this step and repeat steps 7-13 for other AudioSource.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> message with ProfileToken as ‘testprofileX’ and ConfigurationToken = ConfigurationToken1, where ConfigurationToken1 is token of AudioEncoderConfiguration found in step 13
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT adds the audio encoder configuration to the profile and sends the response.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (Encoding = “AAC”, Bitrate = r1, SampleRate = r2, Multicast.Address = [“IPv4”, “multicastAddress1”], Multicast.Port = “port1”, TTL = “ttl1”, Session Timeout = t1 and force persistence = false) to set AAC encoding and Multicast settings.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Multicast”, Transport.Protocol = “UDP”) to retrieve media stream URI for the selected media profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends the GetStreamUriRe<emphasis role="bold"></emphasis>sponse message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter RTP-Multicast/UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends AAC RTP multicast media stream to multicast IPv4 address over UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK Response and terminates the RTSP Session.

                </para>
              </listitem>

            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not have valid media profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send AudioEncoderConfiguration which supports AAC encoding in the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send AAC RTP multicast media streaming for corresponding multicast IP.
                </para>
              </listitem>


            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests. See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>

          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>
        <section xml:id="tc.RTSS-2-2-16">
          <title>MEDIA STREAMING – AAC (RTP-Multicast/UDP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-2-2-16
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, AAC over RTP, Stream control, RTSP
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify AAC media streaming based on RTP-Multicast/UDP Transport for IPv6.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT.Audio is supported by DUT and AAC is implemented by DUT. A media profile with AAC audio encoder configuration exists. RTP-Multicast/UDP transport protocol is supported by DUT. Media Service was received from the DUT. IPv6 is turned on for network interface.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> message with ProfileToken = ‘testprofileX’.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. If the DUT sends a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis> or other) execute <xref linkend="Annex_HelperCreateEmptyProfile"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurationsRequest</emphasis> message to retrieve all existing audio source configurations of the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message with ProfileToken = ‘testprofileX’ and ConfigurationToken = ConfigurationToken1 where ConfigurationToken1 is the first ConfigurationToken from the <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsRequest</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio encoder configurations compatible with profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends the list of audio encoder configurations compatible with the received media profile token.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the list of audio source configurations sent by DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> message (MediaProfile token, VECToken1, where VECToken1 is the token of the first VEC from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message) to retrieve audio encoder configuration options from the DUT
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT sends <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message. If <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message does not contains specified video encoding repeat steps 12-13 for other VECs from <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message. If there is AudioEncoderConfiguration which supports AAC encoding go to the next step. If there is no AudioEncoderConfiguration which supports AAC encoding skip this step and repeat steps 7-13 for other AudioSource.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> message with ProfileToken as ‘testprofileX’ and ConfigurationToken = ConfigurationToken1, where ConfigurationToken1 is token of AudioEncoderConfiguration found in step 13
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT adds the audio encoder configuration to the profile and sends the response.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (Encoding = “AAC”, Bitrate = r1, SampleRate = r2, Multicast.Address = [“IPv6”, “multicastAddress1”], Multicast.Port = “port1”, TTL = “ttl1”, Session Timeout = t1 and force persistence = false) to set AAC encoding and Multicast settings.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Multicast”, Transport.Protocol = “UDP”) to retrieve media stream URI for the selected media profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client verifies the RTSP media stream URI provided by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP DESCRIBE request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and SDP information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP SETUP request with transport parameter RTP-Multicast/UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and the media stream information.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP PLAY request.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK message and starts media streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends AAC RTP multicast media stream to multicast IPv6 address over UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes RTSP TEARDOWN control request at the end of media streaming to terminate the RTSP session.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends 200 OK Response and terminates the RTSP Session.

                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>

            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  The DUT did not have valid media profile.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send AudioEncoderConfiguration which supports AAC encoding in the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTSP URI, ValidUntilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid RTP header in one or more media streams.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send RTCP sender report correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send AAC RTP multicast media streaming for corresponding multicast IP.
                </para>
              </listitem>


            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests. See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
          </para>

          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
          </para>
        </section>

      </section>
    </section>
    <!--Audio & Video Streaming-->
    <section xml:id="tc.real_time_streaming.audio_and_video_streaming">
      <title>Audio &amp; Video Streaming</title>
      <!--Unicast-->
      <section xml:id="tc.real_time_streaming.audio_and_video_streaming.unicast">
        <title>Unicast</title>
        <!--RTSS-3-1-10-->
        <section xml:id="tc.RTSS-3-1-10">
          <title>MEDIA STREAMING – VIDEO AND G.711 AUDIO (RTP-Unicast/UDP)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-3-1-10
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.711 Audio and Video streaming based on RTP/UDP Unicast Transport.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media Service is received from the DUT. Audio streaming is supported by DUT. G.711 encoding is supported by DUT. Real-time streaming is supported by DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-3-1-10.3">
                <para>
                  ONVIF Client configures a media profile and retrieves a stream uri for video and audio streaming by following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForVideoAndAudioStreaming"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in G711 - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in UDP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv4 - IP version
                      </para>
                    </listitem>

                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">videoEncoding</emphasis> - video encoder
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/UDP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPUnicastUDP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in video - 1st media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - 2nd media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">videoEncoding</emphasis> - expected video stream encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in G.711 - expected audio stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Video Encoder Configuration, Audio Encoder Configuration, and Media Profile changed at step <xref linkend="tc.RTSS-3-1-10.3"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
        </section>
        <section xml:id="tc.RTSS-3-1-11">
          <title>MEDIA STREAMING – VIDEO AND G.711 AUDIO (RTP-Unicast/RTSP/HTTP/TCP)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-3-1-11
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP, RTSP over HTTP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.711 Audio and Video streaming based on HTTP Transport.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media Service is received from the DUT. Audio streaming is supported by DUT. G.711 encoding is supported by DUT. Real-time streaming is supported by DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-3-1-11.3">
                <para>
                  ONVIF Client configures a media profile and retrieves a stream uri for video and audio streaming by following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForVideoAndAudioStreaming"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in G711 - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in HTTP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv4 - IP version
                      </para>
                    </listitem>

                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">videoEncoding</emphasis> - video encoder
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/HTTP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPUnicastRTSPHTTPTCP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in video - 1st media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - 2nd media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">videoEncoding</emphasis> - expected video stream encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in G.711 - expected audio stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Video Encoder Configuration, Audio Encoder Configuration, and Media Profile changed at step <xref linkend="tc.RTSS-3-1-11.3"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
        </section>
        <section xml:id="tc.RTSS-3-1-12">
          <title>MEDIA STREAMING – VIDEO AND G.711 AUDIO (RTP/RTSP/TCP)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-3-1-12
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/TCP, RTP, RTCP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.711 Audio and Video streaming based on RTP/RTSP/TCP using RTSP tunnel.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media Service is received from the DUT. Audio streaming is supported by DUT. G.711 encoding is supported by DUT. Real-time streaming is supported by the DUT. RTP/RTSP/TCP media streaming is supported by the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-3-1-12.3">
                <para>
                  ONVIF Client configures a media profile and retrieves a stream uri for video and audio streaming by following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForVideoAndAudioStreaming"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in G711 - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTSP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv4 - IP version
                      </para>
                    </listitem>

                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">videoEncoding</emphasis> - video encoder
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/RTSP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPRTSPTCP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in video - 1st media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - 2nd media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">videoEncoding</emphasis> - expected video stream encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in G.711 - expected audio stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Video Encoder Configuration, Audio Encoder Configuration, and Media Profile changed at step <xref linkend="tc.RTSS-3-1-12.3"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
        </section>
        <section xml:id="tc.RTSS-3-1-13">
          <title>MEDIA STREAMING – VIDEO AND G.726 AUDIO (RTP-Unicast/UDP)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-3-1-13
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.726 Audio and Video streaming based on RTP/UDP Unicast Transport.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media Service is received from the DUT. Audio streaming is supported by DUT. G.726 encoding is supported by DUT. Real-time streaming is supported by DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-3-1-13.3">
                <para>
                  ONVIF Client configures a media profile and retrieves a stream uri for video and audio streaming by following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForVideoAndAudioStreaming"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in G726 - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in UDP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv4 - IP version
                      </para>
                    </listitem>

                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">videoEncoding</emphasis> - video encoder
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/UDP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPUnicastUDP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in video - 1st media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - 2nd media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">videoEncoding</emphasis> - expected video stream encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in G.726 - expected audio stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Video Encoder Configuration, Audio Encoder Configuration, and Media Profile changed at step <xref linkend="tc.RTSS-3-1-13.3"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
        </section>
        <section xml:id="tc.RTSS-3-1-14">
          <title>MEDIA STREAMING – VIDEO AND G.726 AUDIO (RTP-Unicast/RTSP/HTTP/TCP)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-3-1-14
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP, RTSP over HTTP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.726 Audio and Video streaming based on HTTP Transport.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media Service is received from the DUT. Audio streaming is supported by DUT. G.726 encoding is supported by DUT. Real-time streaming is supported by DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-3-1-14.3">
                <para>
                  ONVIF Client configures a media profile and retrieves a stream uri for video and audio streaming by following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForVideoAndAudioStreaming"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in G726 - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in HTTP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv4 - IP version
                      </para>
                    </listitem>

                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">videoEncoding</emphasis> - video encoder
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/HTTP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPUnicastRTSPHTTPTCP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in video - 1st media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - 2nd media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">videoEncoding</emphasis> - expected video stream encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in G.726 - expected audio stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Video Encoder Configuration, Audio Encoder Configuration, and Media Profile changed at step <xref linkend="tc.RTSS-3-1-14.3"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
        </section>
        <section xml:id="tc.RTSS-3-1-15">
          <title>MEDIA STREAMING – VIDEO AND G.726 AUDIO (RTP/RTSP/TCP)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-3-1-15
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/TCP, RTP, RTCP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.726 Audio and Video streaming based on RTP/RTSP/TCP using RTSP tunnel.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media Service is received from the DUT. Audio streaming is supported by DUT. G.726 encoding is supported by DUT. Real-time streaming is supported by the DUT. RTP/RTSP/TCP media streaming is supported by the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-3-1-15.3">
                <para>
                  ONVIF Client configures a media profile and retrieves a stream uri for video and audio streaming by following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForVideoAndAudioStreaming"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in G726 - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTSP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv4 - IP version
                      </para>
                    </listitem>

                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">videoEncoding</emphasis> - video encoder
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/RTSP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPRTSPTCP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in video - 1st media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - 2nd media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">videoEncoding</emphasis> - expected video stream encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in G.726 - expected audio stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Video Encoder Configuration, Audio Encoder Configuration, and Media Profile changed at step <xref linkend="tc.RTSS-3-1-15.3"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
        </section>
        <section xml:id="tc.RTSS-3-1-16">
          <title>MEDIA STREAMING – VIDEO AND AAC AUDIO (RTP-Unicast/UDP)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-3-1-16
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify AAC Audio and Video streaming based on RTP/UDP Unicast Transport.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media Service is received from the DUT. Audio streaming is supported by DUT. AAC encoding is supported by DUT. Real-time streaming is supported by DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-3-1-16.3">
                <para>
                  ONVIF Client configures a media profile and retrieves a stream uri for video and audio streaming by following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForVideoAndAudioStreaming"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in AAC - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in UDP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv4 - IP version
                      </para>
                    </listitem>

                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">videoEncoding</emphasis> - video encoder
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/UDP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPUnicastUDP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in video - 1st media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - 2nd media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">videoEncoding</emphasis> - expected video stream encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in AAC - expected audio stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Video Encoder Configuration, Audio Encoder Configuration, and Media Profile changed at step <xref linkend="tc.RTSS-3-1-16.3"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
        </section>
        <section xml:id="tc.RTSS-3-1-17">
          <title>MEDIA STREAMING – VIDEO AND AAC AUDIO (RTP-Unicast/RTSP/HTTP/TCP)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-3-1-17
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP, RTSP over HTTP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify AAC Audio and Video streaming based on HTTP Transport.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media Service is received from the DUT. Audio streaming is supported by DUT. AAC encoding is supported by DUT. Real-time streaming is supported by DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-3-1-17.3">
                <para>
                  ONVIF Client configures a media profile and retrieves a stream uri for video and audio streaming by following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForVideoAndAudioStreaming"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in AAC - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in HTTP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv4 - IP version
                      </para>
                    </listitem>

                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">videoEncoding</emphasis> - video encoder
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/HTTP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPUnicastRTSPHTTPTCP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in video - 1st media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - 2nd media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">videoEncoding</emphasis> - expected video stream encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in AAC - expected audio stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Video Encoder Configuration, Audio Encoder Configuration, and Media Profile changed at step <xref linkend="tc.RTSS-3-1-17.3"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
        </section>
        <section xml:id="tc.RTSS-3-1-18">
          <title>MEDIA STREAMING – VIDEO AND AAC AUDIO (RTP/RTSP/TCP)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-3-1-18
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/TCP, RTP, RTCP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify AAC Audio and Video streaming based on RTP/RTSP/TCP using RTSP tunnel.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media Service is received from the DUT. Audio streaming is supported by DUT. AAC encoding is supported by DUT. Real-time streaming is supported by the DUT. RTP/RTSP/TCP media streaming is supported by the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-3-1-18.3">
                <para>
                  ONVIF Client configures a media profile and retrieves a stream uri for video and audio streaming by following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForVideoAndAudioStreaming"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in AAC - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTSP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv4 - IP version
                      </para>
                    </listitem>

                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">videoEncoding</emphasis> - video encoder
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/RTSP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPRTSPTCP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in video - 1st media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - 2nd media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">videoEncoding</emphasis> - expected video stream encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in AAC - expected audio stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Video Encoder Configuration, Audio Encoder Configuration, and Media Profile changed at step <xref linkend="tc.RTSS-3-1-18.3"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
        </section>
        <section xml:id="tc.RTSS-3-1-19">
          <title>MEDIA STREAMING – VIDEO AND G.711 AUDIO (RTP-Unicast/UDP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-3-1-19
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.711 Audio and Video streaming based on RTP/UDP Unicast Transport for IPv6.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media Service is received from the DUT. Audio streaming is supported by DUT. G.711 encoding is supported by DUT. Real-time streaming is supported by DUT. IPv6 is supported by DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-3-1-19.3">
                <para>
                  ONVIF Client configures a media profile and retrieves a stream uri for video and audio streaming by following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForVideoAndAudioStreaming"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in G711 - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in UDP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv6 - IP version
                      </para>
                    </listitem>

                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">videoEncoding</emphasis> - video encoder
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/UDP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPUnicastUDP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in video - 1st media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - 2nd media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">videoEncoding</emphasis> - expected video stream encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in G.711 - expected audio stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Video Encoder Configuration, Audio Encoder Configuration, and Media Profile changed at step <xref linkend="tc.RTSS-3-1-19.3"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
        </section>
        <section xml:id="tc.RTSS-3-1-20">
          <title>MEDIA STREAMING – VIDEO AND G.711 AUDIO (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-3-1-20
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP, RTSP over HTTP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.711 Audio and Video streaming based on HTTP Transport for IPv6.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media Service is received from the DUT. Audio streaming is supported by DUT. G.711 encoding is supported by DUT. Real-time streaming is supported by DUT. IPv6 is supported by DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-3-1-20.3">
                <para>
                  ONVIF Client configures a media profile and retrieves a stream uri for video and audio streaming by following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForVideoAndAudioStreaming"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in G711 - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in HTTP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv6 - IP version
                      </para>
                    </listitem>

                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">videoEncoding</emphasis> - video encoder
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/HTTP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPUnicastRTSPHTTPTCP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in video - 1st media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - 2nd media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">videoEncoding</emphasis> - expected video stream encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in G.711 - expected audio stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Video Encoder Configuration, Audio Encoder Configuration, and Media Profile changed at step <xref linkend="tc.RTSS-3-1-20.3"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
        </section>
        <section xml:id="tc.RTSS-3-1-21">
          <title>MEDIA STREAMING – VIDEO AND G.711 AUDIO (RTP/RTSP/TCP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-3-1-21
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/TCP, RTP, RTCP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.711 Audio and Video streaming based on RTP/RTSP/TCP using RTSP tunnel for IPv6.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media Service is received from the DUT. Audio streaming is supported by DUT. G.711 encoding is supported by DUT. Real-time streaming is supported by the DUT. RTP/RTSP/TCP media streaming is supported by the DUT. IPv6 is supported by DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>

              <listitem xml:id="tc.RTSS-3-1-21.3">
                <para>
                  ONVIF Client configures a media profile and retrieves a stream uri for video and audio streaming by following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForVideoAndAudioStreaming"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in G711 - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTSP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv6 - IP version
                      </para>
                    </listitem>

                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">videoEncoding</emphasis> - video encoder
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/RTSP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPRTSPTCP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in video - 1st media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - 2nd media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">videoEncoding</emphasis> - expected video stream encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in G.711 - expected audio stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Video Encoder Configuration, Audio Encoder Configuration, and Media Profile changed at step <xref linkend="tc.RTSS-3-1-21.3"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
        </section>
        <section xml:id="tc.RTSS-3-1-22">
          <title>MEDIA STREAMING – VIDEO AND G.726 AUDIO (RTP-Unicast/UDP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-3-1-22
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.726 Audio and Video streaming based on RTP/UDP Unicast Transport for IPv6.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media Service is received from the DUT. Audio streaming is supported by DUT. G.726 encoding is supported by DUT. Real-time streaming is supported by DUT. IPv6 is supported by DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-3-1-22.3">
                <para>
                  ONVIF Client configures a media profile and retrieves a stream uri for video and audio streaming by following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForVideoAndAudioStreaming"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in G726 - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in UDP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv6 - IP version
                      </para>
                    </listitem>

                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">videoEncoding</emphasis> - video encoder
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/UDP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPUnicastUDP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in video - 1st media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - 2nd media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">videoEncoding</emphasis> - expected video stream encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in G.726 - expected audio stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Video Encoder Configuration, Audio Encoder Configuration, and Media Profile changed at step <xref linkend="tc.RTSS-3-1-22.3"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
        </section>
        <section xml:id="tc.RTSS-3-1-23">
          <title>MEDIA STREAMING – VIDEO AND G.726 AUDIO (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-3-1-23
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP, RTSP over HTTP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.726 Audio and Video streaming based on HTTP Transport for IPv6.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media Service is received from the DUT. Audio streaming is supported by DUT. G.726 encoding is supported by DUT. Real-time streaming is supported by DUT. IPv6 is supported by DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-3-1-23.3">
                <para>
                  ONVIF Client configures a media profile and retrieves a stream uri for video and audio streaming by following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForVideoAndAudioStreaming"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in G726 - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in HTTP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv6 - IP version
                      </para>
                    </listitem>

                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">videoEncoding</emphasis> - video encoder
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/HTTP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPUnicastRTSPHTTPTCP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in video - 1st media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - 2nd media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">videoEncoding</emphasis> - expected video stream encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in G.726 - expected audio stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Video Encoder Configuration, Audio Encoder Configuration, and Media Profile changed at step <xref linkend="tc.RTSS-3-1-23.3"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
        </section>
        <section xml:id="tc.RTSS-3-1-24">
          <title>MEDIA STREAMING – VIDEO AND G.726 AUDIO (RTP/RTSP/TCP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-3-1-24
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/TCP, RTP, RTCP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.726 Audio and Video streaming based on RTP/RTSP/TCP using RTSP tunnel for IPv6.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media Service is received from the DUT. Audio streaming is supported by DUT. G.726 encoding is supported by DUT. Real-time streaming is supported by the DUT. RTP/RTSP/TCP media streaming is supported by the DUT. IPv6 is supported by DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>

              <listitem xml:id="tc.RTSS-3-1-24.3">
                <para>
                  ONVIF Client configures a media profile and retrieves a stream uri for video and audio streaming by following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForVideoAndAudioStreaming"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in G726 - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTSP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv6 - IP version
                      </para>
                    </listitem>

                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">videoEncoding</emphasis> - video encoder
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/RTSP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPRTSPTCP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in video - 1st media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - 2nd media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">videoEncoding</emphasis> - expected video stream encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in G.726 - expected audio stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Video Encoder Configuration, Audio Encoder Configuration, and Media Profile changed at step <xref linkend="tc.RTSS-3-1-24.3"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
        </section>
        <section xml:id="tc.RTSS-3-1-25">
          <title>MEDIA STREAMING – VIDEO AND AAC AUDIO (RTP-Unicast/UDP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-3-1-25
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify AAC Audio and Video streaming based on RTP/UDP Unicast Transport for IPv6.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media Service is received from the DUT. Audio streaming is supported by DUT. AAC encoding is supported by DUT. Real-time streaming is supported by DUT. IPv6 is supported by DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-3-1-25.3">
                <para>
                  ONVIF Client configures a media profile and retrieves a stream uri for video and audio streaming by following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForVideoAndAudioStreaming"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in AAC - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in UDP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv6 - IP version
                      </para>
                    </listitem>

                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">videoEncoding</emphasis> - video encoder
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/UDP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPUnicastUDP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in video - 1st media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - 2nd media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">videoEncoding</emphasis> - expected video stream encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in AAC - expected audio stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Video Encoder Configuration, Audio Encoder Configuration, and Media Profile changed at step <xref linkend="tc.RTSS-3-1-25.3"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
        </section>
        <section xml:id="tc.RTSS-3-1-26">
          <title>MEDIA STREAMING – VIDEO AND AAC AUDIO (RTP-Unicast/RTSP/HTTP/TCP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-3-1-26
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/HTTP/TCP, RTP, RTCP, Stream control, RTSP, RTSP over HTTP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify AAC Audio and Video streaming based on HTTP Transport for IPv6.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media Service is received from the DUT. Audio streaming is supported by DUT. AAC encoding is supported by DUT. Real-time streaming is supported by DUT. IPv6 is supported by DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-3-1-26.3">
                <para>
                  ONVIF Client configures a media profile and retrieves a stream uri for video and audio streaming by following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForVideoAndAudioStreaming"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in AAC - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in HTTP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv6 - IP version
                      </para>
                    </listitem>

                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">videoEncoding</emphasis> - video encoder
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/HTTP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPUnicastRTSPHTTPTCP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in video - 1st media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - 2nd media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">videoEncoding</emphasis> - expected video stream encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in AAC - expected audio stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Video Encoder Configuration, Audio Encoder Configuration, and Media Profile changed at step <xref linkend="tc.RTSS-3-1-26.3"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
        </section>
        <section xml:id="tc.RTSS-3-1-27">
          <title>MEDIA STREAMING – VIDEO AND AAC AUDIO (RTP/RTSP/TCP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-3-1-27
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP/RTSP/TCP, RTP, RTCP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify AAC Audio and Video streaming based on RTP/RTSP/TCP using RTSP tunnel for IPv6.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media Service is received from the DUT. Audio streaming is supported by DUT. AAC encoding is supported by DUT. Real-time streaming is supported by the DUT. RTP/RTSP/TCP media streaming is supported by the DUT. IPv6 is supported by DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>

              <listitem xml:id="tc.RTSS-3-1-27.3">
                <para>
                  ONVIF Client configures a media profile and retrieves a stream uri for video and audio streaming by following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForVideoAndAudioStreaming"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in AAC - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTSP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Unicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv6 - IP version
                      </para>
                    </listitem>

                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">videoEncoding</emphasis> - video encoder
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Unicast/RTSP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPRTSPTCP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in video - 1st media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - 2nd media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">videoEncoding</emphasis> - expected video stream encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in AAC - expected audio stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Video Encoder Configuration, Audio Encoder Configuration, and Media Profile changed at step <xref linkend="tc.RTSS-3-1-27.3"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
        </section>

        <!--Multicast-->
      </section>
      <!--Multicast-->
      <section xml:id="tc.real_time_streaming.audio_and_video_streaming.multicast">
        <title>Multicast</title>
        <section xml:id="tc.RTSS-3-2-16">
          <title>MEDIA STREAMING – VIDEO AND G.711 AUDIO (RTP-Multicast/UDP, IPv4)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-3-2-16
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.711 Audio and Video streaming based on RTP-Multicast/UDP Transport.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media Service is received from the DUT. Audio streaming is supported by DUT. G.711 encoding is supported by DUT. RTP-Multicast/UDP transport protocol is supported by DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-3-2-16.3">
                <para>
                  ONVIF Client configures a media profile and retrieves a stream uri for video and audio streaming by following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForVideoAndAudioStreaming"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in G711 - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in UDP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Multicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv4 - IP version
                      </para>
                    </listitem>

                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">videoEncoding</emphasis> - video encoder
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Multicast/UDP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPMulticastUDP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in video - 1st media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - 2nd media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">videoEncoding</emphasis> - expected video stream encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in G.711 - expected audio stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Video Encoder Configuration, Audio Encoder Configuration, and Media Profile changed at step <xref linkend="tc.RTSS-3-2-16.3"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
        </section>
        <section xml:id="tc.RTSS-3-2-17">
          <title>MEDIA STREAMING – VIDEO AND G.711 AUDIO (RTP-Multicast/UDP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-3-2-17
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.711 Audio and Video streaming based on RTP-Multicast/UDP Transport for IPv6.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media Service is received from the DUT. Audio streaming is supported by DUT. G.711 encoding is supported by DUT. RTP-Multicast/UDP transport protocol is supported by DUT. IPv6 is supported by DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-3-2-17.3">
                <para>
                  ONVIF Client configures a media profile and retrieves a stream uri for video and audio streaming by following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForVideoAndAudioStreaming"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in G711 - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in UDP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Multicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv6 - IP version
                      </para>
                    </listitem>

                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">videoEncoding</emphasis> - video encoder
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Multicast/UDP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPMulticastUDP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in video - 1st media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - 2nd media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">videoEncoding</emphasis> - expected video stream encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in G.711 - expected audio stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Video Encoder Configuration, Audio Encoder Configuration, and Media Profile changed at step <xref linkend="tc.RTSS-3-2-17.3"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
        </section>
        <section xml:id="tc.RTSS-3-2-18">
          <title>MEDIA STREAMING – VIDEO AND G.726 AUDIO (RTP-Multicast/UDP, IPv4)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-3-2-18
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.726 Audio and Video streaming based on RTP-Multicast/UDP Transport.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media Service is received from the DUT. Audio streaming is supported by DUT. G.726 encoding is supported by DUT. RTP-Multicast/UDP transport protocol is supported by DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-3-2-18.3">
                <para>
                  ONVIF Client configures a media profile and retrieves a stream uri for video and audio streaming by following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForVideoAndAudioStreaming"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in G726 - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in UDP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Multicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv4 - IP version
                      </para>
                    </listitem>

                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">videoEncoding</emphasis> - video encoder
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Multicast/UDP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPMulticastUDP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in video - 1st media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - 2nd media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">videoEncoding</emphasis> - expected video stream encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in G.726 - expected audio stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Video Encoder Configuration, Audio Encoder Configuration, and Media Profile changed at step <xref linkend="tc.RTSS-3-2-18.3"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
        </section>
        <section xml:id="tc.RTSS-3-2-19">
          <title>MEDIA STREAMING – VIDEO AND G.726 AUDIO (RTP-Multicast/UDP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-3-2-19
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify G.726 Audio and Video streaming based on RTP-Multicast/UDP Transport for IPv6.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media Service is received from the DUT. Audio streaming is supported by DUT. G.726 encoding is supported by DUT. RTP-Multicast/UDP transport protocol is supported by DUT. IPv6 is supported by DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-3-2-19.3">
                <para>
                  ONVIF Client configures a media profile and retrieves a stream uri for video and audio streaming by following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForVideoAndAudioStreaming"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in G726 - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in UDP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Multicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv6 - IP version
                      </para>
                    </listitem>

                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">videoEncoding</emphasis> - video encoder
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Multicast/UDP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPMulticastUDP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in video - 1st media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - 2nd media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">videoEncoding</emphasis> - expected video stream encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in G.726 - expected audio stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Video Encoder Configuration, Audio Encoder Configuration, and Media Profile changed at step <xref linkend="tc.RTSS-3-2-19.3"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
        </section>
        <section xml:id="tc.RTSS-3-2-20">
          <title>MEDIA STREAMING – VIDEO AND AAC AUDIO (RTP-Multicast/UDP, IPv4)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-3-2-20
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify AAC Audio and Video streaming based on RTP-Multicast/UDP Transport.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media Service is received from the DUT. Audio streaming is supported by DUT. AAC encoding is supported by DUT. RTP-Multicast/UDP transport protocol is supported by DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-3-2-20.3">
                <para>
                  ONVIF Client configures a media profile and retrieves a stream uri for video and audio streaming by following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForVideoAndAudioStreaming"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in AAC - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in UDP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Multicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv4 - IP version
                      </para>
                    </listitem>

                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">videoEncoding</emphasis> - video encoder
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Multicast/UDP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPMulticastUDP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in video - 1st media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - 2nd media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">videoEncoding</emphasis> - expected video stream encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in AAC - expected audio stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Video Encoder Configuration, Audio Encoder Configuration, and Media Profile changed at step <xref linkend="tc.RTSS-3-2-20.3"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
        </section>
        <section xml:id="tc.RTSS-3-2-21">
          <title>MEDIA STREAMING – VIDEO AND AAC AUDIO (RTP-Multicast/UDP, IPv6)</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-3-2-21
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> RTP data transfer via UDP, RTP, RTCP, Stream control, RTSP.
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> None
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify AAC Audio and Video streaming based on RTP-Multicast/UDP Transport for IPv6.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media Service is received from the DUT. Audio streaming is supported by DUT. AAC encoding is supported by DUT. RTP-Multicast/UDP transport protocol is supported by DUT. IPv6 is supported by DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client turns on IPv6 network interface by following the procedure mentioned in <xref linkend="Annex_HelperTurnOnIPv6"/>.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-3-2-21.3">
                <para>
                  ONVIF Client configures a media profile and retrieves a stream uri for video and audio streaming by following the procedure mentioned in <xref linkend="Annex_HelperDeviceConfigurationForVideoAndAudioStreaming"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in AAC - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in UDP - Transport Protocol
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in RTP-Multicast - Stream Type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in IPv6 - IP version
                      </para>
                    </listitem>

                    <listitem>
                      <para>
                        out <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">videoEncoding</emphasis> - video encoder
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client tries to start and decode media streaming over RTP-Multicast/UDP by following the procedure mentioned in <xref linkend="Annex_HelperStreamingRTPMulticastUDP"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in video - 1st media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in audio - 2nd media type
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">videoEncoding</emphasis> - expected video stream encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in AAC - expected audio stream encoding
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores settings of Video Encoder Configuration, Audio Encoder Configuration, and Media Profile changed at step <xref linkend="tc.RTSS-3-2-21.3"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will restore the original settings by following the procedure mentioned in <xref linkend="Annex_HelperRestoreNetworkSettings"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT does not pass all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
          </para>
        </section>
        <section xml:id="tc.RTSS-3-2-22">
          <title>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-3-2-22
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> SetAudioEncoderConfiguration, GetAudioEncoderConfiguration, SetVideoEncoderConfiguration, GetVideoEncoderConfiguration, Start multicast streaming, Stop multicast streaming
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> SetAudioEncoderConfiguration, GetAudioEncoderConfiguration, SetVideoEncoderConfiguration, GetVideoEncoderConfiguration, StartMulticastStreaming, StopMulticastStreaming
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify changing and applying of Multicast port for Audio Encoder Configuration in case of the same Multicast addresses for Audio Encoder Configuration and Video Encoder Configuration in the same profile.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Media Service was received from the DUT. At least one Audio Encoder is supported by the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client selects a Media Profile with video configurations and with G.711 audio configurations by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationWithAudioAndVideo"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in G.711 - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">profile</emphasis> - Media Profile with Video Source Configuration, Video Encoder Configuration, Audio Source Configuration, and Audio Encoder Configuration with the required audio encoding
                      </para>
                    </listitem>

                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationOptionsRequest</emphasis> message message (ProfileToken = <emphasis role="italic">profile</emphasis>.@token).
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> message message (ProfileToken = <emphasis role="italic">profile</emphasis>.@token).
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-3-2-22.8">
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> message (Encoding = <emphasis role="italic">profile</emphasis>.VideoEncoderConfiguration.Encoding, Resolution = [“Width”, “Height”], Quality = q1, Multicast.Address = [“IPv4”, “multicastAddress1”], Multicast.Port = “port1”, TTL = “ttl1”, Session Timeout = t1 and force persistence = false) to set Multicast settings. These values will be taken from the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis>.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>


              <listitem xml:id="tc.RTSS-3-2-22.10">
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (Encoding = “G711”, Bitrate = r1, SampleRate = r2, Multicast.Address = [“IPv4”, “multicastAddress1”], Multicast.Port = “port2”, TTL = “ttl1”, Session Timeout = t1 and force persistence = false) to set G.711 encoding and Multicast settings. These values will be taken from the <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis>.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationRequest</emphasis> message to get audio encoder configuration.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message (Multicast.Address = [“IPv4”, “multicastAddress1”], Multicast.Port = “port1”) from the DUT. Check that new setting for Multicast.Port and Multicast.Address was applied.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationRequest</emphasis> message (ConfigurationToken = AECToken1) to get audio encoder configuration.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message (Multicast.Address = [“IPv4”, “multicastAddress1”], Multicast.Port = “port2”) from the DUT. Check that new setting for Multicast.Port and Multicast.Address was applied.

                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client removes Metadata Configuration from the Media Profile that will be used for multicast streaming by following the procedure mentioned in by following the procedure mentioned in <xref linkend="Annex_HelperRemoveConfigurationsFromMediaProfile"/> with the following input and output parameters

                  <itemizedlist>
                    <listitem>
                      <para>
                        in {MetadataConfiguration} - list of configuration types to remove from Media Profile
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">profile</emphasis> - Media Profile to update
                      </para>
                    </listitem>

                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">StartMulticastStreamingRequest</emphasis> message (ProfileToken) to start multicast streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">StartMulticastStreamingResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends video and G.711 RTP multicast media stream to multicast IPv4 address over UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates that specified multicast address and port are used.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">StopMulticastStreamingRequest</emphasis> message (ProfileToken) to stop multicast streaming
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">StopMulticastStreamingResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify that multicast stream is stopped by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DTT restores changed profiles and configurations.
                </para>
              </listitem>


            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>

              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message with new Multicast.Address and Multicast.Port values that were set during step <xref linkend="tc.RTSS-3-2-22.8"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message with new Multicast.Address and Multicast.Port values that were set during step <xref linkend="tc.RTSS-3-2-22.10"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">StartMulticastStreamingResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid audio and video stream to specified multicast address and port.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">StopMulticastStreamingResponse</emphasis> message.
                </para>
              </listitem>

            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
          </para>
        </section>
        <section xml:id="tc.RTSS-3-2-23">
          <title>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT ADDRESS</title>
          <para>
            <emphasis role="bold">Test Case ID:</emphasis> RTSS-3-2-23
          </para>
          <para>
            <emphasis role="bold">Specification Coverage:</emphasis> SetAudioEncoderConfiguration, GetAudioEncoderConfiguration, SetVideoEncoderConfiguration, GetVideoEncoderConfiguration, Start multicast streaming, Stop multicast streaming
          </para>
          <para>
            <emphasis role="bold">Command Under Test:</emphasis> SetAudioEncoderConfiguration, GetAudioEncoderConfiguration, SetVideoEncoderConfiguration, GetVideoEncoderConfiguration, StartMulticastStreaming, StopMulticastStreaming
          </para>
          <para>
            <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
          </para>
          <para>
            <emphasis role="bold">Test Purpose:</emphasis> To verify changing and applying of Multicast port for Audio Encoder Configuration in case of the same Multicast ports for Audio Encoder Configuration and Video Encoder Configuration in the same profile.
          </para>
          <para>
            <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Media Service was received from the DUT. At least one Audio Encoder is supported by the DUT.
          </para>
          <para>
            <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
          </para>
          <para>
            <emphasis role="bold">Test Procedure:</emphasis>
          </para>
          <para>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  Start an ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  Start the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client selects a Media Profile with video configurations and with G.711 audio configurations by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationWithAudioAndVideo"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        in G.711 - required audio encoding
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">profile</emphasis> - Media Profile with Video Source Configuration, Video Encoder Configuration, Audio Source Configuration, and Audio Encoder Configuration with the required audio encoding
                      </para>
                    </listitem>

                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationOptionsRequest</emphasis> message message (ProfileToken = <emphasis role="italic">profile</emphasis>.@token).
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> message message (ProfileToken = <emphasis role="italic">profile</emphasis>.@token).
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.RTSS-3-2-23.8">
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> message (Encoding = <emphasis role="italic">profile</emphasis>.VideoEncoderConfiguration.Encoding, Resolution = [“Width”, “Height”], Quality = q1, Multicast.Address = [“IPv4”, “multicastAddress1”], Multicast.Port = “port1”, TTL = “ttl1”, Session Timeout = t1 and force persistence = false) to set JPEG encoding and Multicast settings. These values will be taken from the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis>.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>


              <listitem xml:id="tc.RTSS-3-2-23.10">
                <para>
                  ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (Encoding = “G711”, Bitrate = r1, SampleRate = r2, Multicast.Address = [“IPv4”, “multicastAddress2”], Multicast.Port = “port1”, TTL = “ttl1”, Session Timeout = t1 and force persistence = false) to set G.711 encoding and Multicast settings. These values will be taken from the GetAudioEncoderConfigurationOptionsResponse.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationRequest</emphasis> message to get audio encoder configuration.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message (Multicast.Address = [“IPv4”, “multicastAddress1”], Multicast.Port = “port1”) from the DUT. Check that new setting for Multicast.Port and Multicast.Address was applied.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationRequest</emphasis> message (ConfigurationToken = AECToken1) to get audio encoder configuration.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message (Multicast.Address = [“IPv4”, “multicastAddress2”], Multicast.Port = “port1”) from the DUT. Check that new setting for Multicast.Port and Multicast.Address was applied.

                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client removes Metadata Configuration from the Media Profile that will be used for multicast streaming by following the procedure mentioned in by following the procedure mentioned in <xref linkend="Annex_HelperRemoveConfigurationsFromMediaProfile"/> with the following input and output parameters

                  <itemizedlist>
                    <listitem>
                      <para>
                        in {<emphasis role="italic">MetadataConfiguration</emphasis>} - list of configuration types to remove from Media Profile
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        in <emphasis role="italic">profile</emphasis> - Media Profile to update
                      </para>
                    </listitem>

                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">StartMulticastStreamingRequest</emphasis> message (ProfileToken) to start multicast streaming.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">StartMulticastStreamingResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends video and G.711 RTP multicast media stream to multicast IPv4 address over UDP.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends RTCP sender report to ONVIF Client.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client validates that specified multicast address and port are used.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client will invoke <emphasis role="bold">StopMulticastStreamingRequest</emphasis> message (ProfileToken) to stop multicast streaming
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify the <emphasis role="bold">StopMulticastStreamingResponse</emphasis> message from the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  Verify that multicast stream is stopped by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DTT restores changed profiles and configurations.
                </para>
              </listitem>


            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Test Result:</emphasis>
          </para>
          <para>
            <emphasis role="bold">PASS –</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT passes all assertions.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">FAIL –</emphasis>
            <itemizedlist>

              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetVideoEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetVideoEncoderConfigurationResponse</emphasis> message with new Multicast.Address and Multicast.Port values that were set during step <xref linkend="tc.RTSS-3-2-23.8"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetAudioEncoderConfigurationsResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">GetAudioEncoderConfigurationResponse</emphasis> message with new Multicast.Address and Multicast.Port values that were set during step <xref linkend="tc.RTSS-3-2-23.10"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">StartMulticastStreamingResponse</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid audio and video stream to specified multicast address and port.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT did not send valid <emphasis role="bold">StopMulticastStreamingResponse</emphasis> message.
                </para>
              </listitem>

            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
          </para>
        </section>
      </section>



    </section>
    <!--Notification Streaming Interface-->
    <section xml:id="tc.real_time_streaming.notification_streaming_interface">
      <title>Notification Streaming Interface</title>
      <section xml:id="tc.RTSS-4-1-3">
        <title>NOTIFICATION STREAMING</title>
        <para>
          <emphasis role="bold">Test Case ID:</emphasis> RTSS-4-1-3
        </para>
        <para>
          <emphasis role="bold">Specification Coverage:</emphasis> CreateProfile, GetVideoSourceConfigurations, GetMetadataConfigurations, AddVideoSourceConfiguration, AddMetadataConfiguration, SetMetadataConfiguration, GetStreamUri, SetSynchronizationPoint, DeleteProfile, Notification Streaming Interface.
        </para>
        <para>
          <emphasis role="bold">Command Under Test:</emphasis> CreateProfile, GetVideoSourceConfigurations, GetMetadataConfigurations, AddVideoSourceConfiguration, AddMetadataConfiguration, SetMetadataConfiguration, GetStreamUri, SetSynchronizationPoint, DeleteProfile.
        </para>
        <para>
          <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
        </para>
        <para>
          <emphasis role="bold">Test Purpose:</emphasis> To verify Notification Streaming
        </para>
        <para>
          <emphasis role="bold">Pre-Requisite:</emphasis> The device needs to provide at least one topic representing a certain property. If the device does not support a property event the vendor SHALL make sure that another event is sent during testing. Real-time streaming supported by the DUT.
        </para>
        <para>
          <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
        </para>
        <para>
          <emphasis role="bold">Test Procedure:</emphasis>
        </para>
        <para>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                Start an ONVIF Client.
              </para>
            </listitem>
            <listitem>
              <para>
                Start the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">CreateProfile</emphasis> (name = “Test”) to create a new empty profile that is used for this test scenario.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. If the DUT sends a SOAP 1.2 fault message (Action/MaxNVTProfiles or other) execute <xref linkend="Annex_HelperCreateEmptyProfile"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client will invoke <emphasis role="bold">GetMetadataConfigurations</emphasis> to retrieve all existing MetadataConfigurations of the device.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify that the DUT sends a valid <emphasis role="bold">GetMetadataConfigurationResponse</emphasis> (that contains at least one MetadataConfiguration).
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client will invoke <emphasis role="bold">GetVideoSourceConfigurations</emphasis>.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify that the DUT sends a valid <emphasis role="bold">GetVideoSourceConfigurationResponse</emphasis>.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client will select a VideoSourceConfiguration and add this configuration to the created profile.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify that the DUT sends a valid <emphasis role="bold">AddVideoSourceConfigurationResponse</emphasis>.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client will select a MetadataConfiguration and add this configuration to the created profile.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify that the DUT sends a valid <emphasis role="bold">AddMetadataConfigurationResponse</emphasis>.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client will invoke <emphasis role="bold">SetMetadataConfiguration</emphasis>(Analytics = false, Events is empty) to configure the Metadata stream; The ONVIF Client is interested in receiving all events, therefore no Filter is applied. For details on the usage of the MetadataConfiguration elements, see <xref linkend="Annex_HelperMetadataConfigurationForEventsMetadata"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify that the DUT sends a valid <emphasis role="bold">SetMetadataConfigurationResponse</emphasis>.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client will invoke <emphasis role="bold">GetStreamUri</emphasis> (ProfileToken, RTP-Unicast).
              </para>
            </listitem>
            <listitem>
              <para>
                Verify that the DUT sends a <emphasis role="bold">GetStreamUriResponse</emphasis> including a valid StreamUri.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client will invoke RTSP Describe to retrieve the sdp file.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify that DUT sends a 200 OK Response.
              </para>
            </listitem>
            <listitem>
              <para>
                Validate sdp file (sdp file contains only one media section; rtpmap = vnd.onvif.metadata).
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client will invoke RTSP Setup for the Metadata stream.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify that the DUT send a 200 OK Response.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client will invoke RTSP Play.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify that the DUT sends a 200 OK Response.
              </para>
            </listitem>
            <listitem>
              <para>
                Receive and validate RTP Notification messages.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client will invoke the <emphasis role="bold">SetSynchronizationPoint</emphasis> command to trigger events; if the device does not support property events the vendor SHALL trigger the events manually.
              </para>
            </listitem>
            <listitem>
              <para>
                Validate that DUT sends a valid <emphasis role="bold">SetSynchronizationPointResponse</emphasis>.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify that at least one RTP Notification is sent.
              </para>
            </listitem>
            <listitem>
              <para>
                Receive and validate RTP Notification messages and check that the PropertyOperation is ”Initialized” or “Changed” if it is an Property event.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client will invoke RTSP Teardown to terminate the RTSP session.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify that DUT sends a 200 OK Response.
              </para>
            </listitem>
            <listitem>
              <para>
                If used created Media Profile, then ONVIF Client invokes <emphasis role="bold">DeleteProfile</emphasis> request. Otherwise ONVIF client skip rest steps and restore profile settings.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT deletes the media profile and sends the response.
              </para>
            </listitem>



          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Test Result:</emphasis>
        </para>
        <para>
          <emphasis role="bold">PASS –</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                DUT passes all assertions.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">FAIL –</emphasis>
          <itemizedlist>

            <listitem>
              <para>
                The DUT did not send a <emphasis role="bold">CreateProfileResponse</emphasis>
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send a valid <emphasis role="bold">CreateProfileResponse</emphasis>
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send valid <emphasis role="bold">GetMetadataConfigurationsResponse</emphasis>; At least one MetadataConfiguration SHALL be present
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send a valid <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis>
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send a valid <emphasis role="bold">AddVideoSourceConfigurationResponse</emphasis>
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send a valid <emphasis role="bold">AddMetadataConfigurationResponse</emphasis>
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send a valid <emphasis role="bold">SetMetadataConfigurationResponse</emphasis>
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send a <emphasis role="bold">GetStreamUriResponse</emphasis> including a valid StreamUri
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send a 200 OK RTSP DESCRIBE Response
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send a valid sdp file
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send a 200 OK RTSP SETUP Response
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send a 200 OK RTSP PLAY Response
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send RTP data
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send a <emphasis role="bold">SetSynchronizationPointResponse</emphasis>
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send at least one event
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send RTP data with PropertyOperation = ”Initialized” or “Changed” if it is an property event
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send a 200 OK RTSP TEARDOWN Response
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send a <emphasis role="bold">DeleteProfileResponse</emphasis>
              </para>
            </listitem>

          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If profile was deleted during <xref linkend="Annex_HelperCreateEmptyProfile"/> execution, ONVIF Client restores the deleted profile and profile settings.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
        </para>
      </section>
    </section>
    <!--Start And Stop Multicast Streaming-->
    <section xml:id="tc.real_time_streaming.start_and_stop_multicast_streaming">
      <title>Start And Stop Multicast Streaming</title>
      <section xml:id="tc.RTSS-5-1-7">
        <title>START AND STOP MULTICAST STREAMING – JPEG (IPv4)</title>
        <para>
          <emphasis role="bold">Test Case ID:</emphasis> RTSS-5-1-7
        </para>
        <para>
          <emphasis role="bold">Specification Coverage:</emphasis> Start multicast streaming, Stop multicast streaming
        </para>
        <para>
          <emphasis role="bold">Command Under Test:</emphasis> StartMulticastStreaming, StopMulticastStreaming
        </para>
        <para>
          <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
        </para>
        <para>
          <emphasis role="bold">Test Purpose:</emphasis> To verify the behavior of StartMulticastStreaming command and StopMulticastStreaming in case of Video Streaming (JPEG).
        </para>
        <para>
          <emphasis role="bold">Pre-Requisite:</emphasis> Video Multicasting is supported by DUT. Real-time streaming supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command. A media profile with video source configuration and JPEG video encoder configuration.
        </para>
        <para>
          <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
        </para>
        <para>
          <emphasis role="bold">Test Procedure:</emphasis>
        </para>
        <para>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                Start an ONVIF Client.
              </para>
            </listitem>
            <listitem>
              <para>
                Start the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client selects a media profile with JPEG video encoding support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForVideoStreaming"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> message (Encoding = “JPEG”, Resolution = [“Width”, “Height”], Quality = q1, Multicast.Address = [“IPv4”, “multicastAddress1”], Multicast.Port = “port1”, TTL = “ttl1”, Session Timeout = t1 and force persistence = false) to set JPEG encoding and Multicast settings.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify the <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message from the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client removes Audio Source Configuration, Audio Encoder Configuration and Metadata Configuration from the Media Profile that will be used for multicast streaming by following the procedure mentioned in by following the procedure mentioned in <xref linkend="Annex_HelperRemoveConfigurationsFromMediaProfile"/> with the following input and output parameters

                <itemizedlist>
                  <listitem>
                    <para>
                      in { <emphasis role="italic">AudioEncoderConfiguration, AudioSourceConfiguration, MetadataConfiguration</emphasis>} - list of configuration types to remove from Media Profile
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      in <emphasis role="italic">profile</emphasis> - Media Profile to update
                    </para>
                  </listitem>

                </itemizedlist>
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client will invoke <emphasis role="bold">StartMulticastStreamingRequest</emphasis> message (ProfileToken) to start multicast streaming.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify the <emphasis role="bold">StartMulticastStreamingResponse</emphasis> message from the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends JPEG RTP multicast media stream to multicast IPv4 address over UDP.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends RTCP sender report to ONVIF Client.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client will invoke <emphasis role="bold">StopMulticastStreamingRequest</emphasis> message (ProfileToken) to stop multicast streaming.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify the <emphasis role="bold">StopMulticastStreamingResponse</emphasis> message from the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify that multicast stream is stopped by the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                The DTT restores changed profiles and configurations.
              </para>
            </listitem>



          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Test Result:</emphasis>
        </para>
        <para>
          <emphasis role="bold">PASS –</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                DUT passes all assertions.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">FAIL –</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis>.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sent invalid <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis>.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sent invalid <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">SetMetadataConfigurationResponse</emphasis>.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sent invalid <emphasis role="bold">SetMetadataConfigurationResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">StartMulticastStreamingResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sent invalid <emphasis role="bold">StartMulticastStreamingResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">StopMulticastStreamingResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sent invalid <emphasis role="bold">StopMulticastStreamingResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send valid RTP header in one or more media streams.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send RTCP sender report correctly.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send JPEG RTP multicast media streaming for corresponding multicast IP.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not stop multicast streaming after <emphasis role="bold">StopMulticastStreamingResponse</emphasis>.
              </para>
            </listitem>

          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
        </para>

      </section>
      <section xml:id="tc.RTSS-5-1-9">
        <title>START AND STOP MULTICAST STREAMING – VIDEO AND G.711 AUDIO (IPv4)</title>
        <para>
          <emphasis role="bold">Test Case ID:</emphasis> RTSS-5-1-9
        </para>
        <para>
          <emphasis role="bold">Specification Coverage:</emphasis> Start multicast streaming, Stop multicast streaming
        </para>
        <para>
          <emphasis role="bold">Command Under Test:</emphasis> StartMulticastStreaming, StopMulticastStreaming
        </para>
        <para>
          <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
        </para>
        <para>
          <emphasis role="bold">Test Purpose:</emphasis> To verify the behavior of StartMulticastStreaming command and StopMulticastStreaming in case of Video and Audio Streaming.
        </para>
        <para>
          <emphasis role="bold">Pre-Requisite:</emphasis> Video Multicasting is supported by DUT. Real-time streaming supported by DUT. Audio is supported by DUT. Audio Multicasting is supported by DUT. ONVIF Client gets the Media Service entry point by GetCapabilities command.
        </para>
        <para>
          <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
        </para>
        <para>
          <emphasis role="bold">Test Procedure:</emphasis>
        </para>
        <para>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                Start an ONVIF Client.
              </para>
            </listitem>
            <listitem>
              <para>
                Start the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client selects a Media Profile with video configurations and with G.711 audio configurations by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationWithAudioAndVideo"/> with the following input and output parameters
                <itemizedlist>
                  <listitem>
                    <para>
                      in G.711 - required audio encoding
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      out <emphasis role="italic">profile</emphasis> - Media Profile with Video Source Configuration, Video Encoder Configuration, Audio Source Configuration, and Audio Encoder Configuration with the required audio encoding
                    </para>
                  </listitem>

                </itemizedlist>
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> message (Encoding = <emphasis role="italic">profile</emphasis>.VideoEncoderConfiguration.Encoding, Resolution = [“Width”, “Height”], Quality = q1, Multicast.Address = [“IPv4”, “multicastAddress1”], Multicast.Port = “port1”, TTL = “ttl1”, Session Timeout = t1 and force persistence = false) to set Multicast settings.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify the <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message from the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (Encoding = “G711”, Bitrate = r1, SampleRate = r2, Multicast.Address = [“IPv4”, “multicastAddress1”], Multicast.Port = “port1”, TTL = “ttl1”, Session Timeout = t1 and force persistence = false) to set G.711 encoding and Multicast settings.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify the <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message from the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client removes Metadata Configuration from the Media Profile that will be used for multicast streaming by following the procedure mentioned in by following the procedure mentioned in <xref linkend="Annex_HelperRemoveConfigurationsFromMediaProfile"/> with the following input and output parameters

                <itemizedlist>
                  <listitem>
                    <para>
                      in {<emphasis role="italic">MetadataConfiguration</emphasis>} - list of configuration types to remove from Media Profile
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      in <emphasis role="italic">profile</emphasis> - Media Profile to update
                    </para>
                  </listitem>

                </itemizedlist>
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client will invoke <emphasis role="bold">StartMulticastStreamingRequest</emphasis> message (ProfileToken) to start multicast streaming.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify the <emphasis role="bold">StartMulticastStreamingResponse</emphasis> message from the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends video and G.711 audio RTP multicast media stream to multicast IPv4 address over UDP.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends RTCP sender report to ONVIF Client.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client will invoke <emphasis role="bold">StopMulticastStreamingRequest</emphasis> message (ProfileToken) to stop multicast streaming.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify the <emphasis role="bold">StopMulticastStreamingResponse</emphasis> message from the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify that multicast stream is stopped by the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                The DTT restores changed profiles and configurations.
              </para>
            </listitem>



          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Test Result:</emphasis>
        </para>
        <para>
          <emphasis role="bold">PASS –</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                DUT passes all assertions.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">FAIL –</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis>.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sent invalid <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis>.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sent invalid <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">SetMetadataConfigurationResponse</emphasis>.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sent invalid <emphasis role="bold">SetMetadataConfigurationResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">StartMulticastStreamingResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sent invalid <emphasis role="bold">StartMulticastStreamingResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">StopMulticastStreamingResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sent invalid <emphasis role="bold">StopMulticastStreamingResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send valid RTP header in one or more media streams.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send RTCP sender report correctly.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send video and audio RTP multicast media streaming for corresponding multicast IP.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not stop multicast streaming after <emphasis role="bold">StopMulticastStreamingResponse</emphasis>.
              </para>
            </listitem>

          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperResolutionSelection"/> and <xref linkend="Annex_HelperFrameRateSelection"/> for Resolution and Frame Rate selection logic description.
        </para>

      </section>
      <section xml:id="tc.RTSS-5-1-10">
        <title>START AND STOP MULTICAST STREAMING – G.711 (IPv4, ONLY AUDIO PROFILE)</title>
        <para>
          <emphasis role="bold">Test Case ID:</emphasis> RTSS-5-1-10
        </para>
        <para>
          <emphasis role="bold">Specification Coverage:</emphasis> Start multicast streaming, Stop multicast streaming
        </para>
        <para>
          <emphasis role="bold">Command Under Test:</emphasis> StartMulticastStreaming, StopMulticastStreaming
        </para>
        <para>
          <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
        </para>
        <para>
          <emphasis role="bold">Test Purpose:</emphasis> To verify the behavior of StartMulticastStreaming command and StopMulticastStreaming in case of Audio Streaming (G.711).
        </para>
        <para>
          <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT.Audio Multicasting is supported by DUT. Media Service was received from the DUT.
        </para>
        <para>
          <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
        </para>
        <para>
          <emphasis role="bold">Test Procedure:</emphasis>
        </para>
        <para>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                Start an ONVIF Client.
              </para>
            </listitem>
            <listitem>
              <para>
                Start the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> message with ProfileToken = ‘testprofileX’.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. If the DUT sends a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis> or other) execute <xref linkend="Annex_HelperCreateEmptyProfile"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurationsRequest</emphasis> message to retrieve all existing audio source configurations of the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message with ProfileToken = ‘testprofileX’ and ConfigurationToken = ConfigurationToken1 where ConfigurationToken1 is the first ConfigurationToken from the <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client will invoke <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsRequest</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio encoder configurations compatible with profile.
              </para>
            </listitem>
            <listitem>
              <para>
                DUT sends the list of audio encoder configurations compatible with the received media profile token.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client verifies the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client verifies the list of audio source configurations sent by DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> message (ProfileToken = TestProfileX, ConfigurationToken = AECToken1), where AECToken1 is the token of the first AudioEncoderConfiguration from the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> from the DUT. Check supported Audio Codec. If G.711 is supported skip step 14.
              </para>
            </listitem>
            <listitem>
              <para>
                Repeat steps 12-13 for others Audio Encoder Configurations from the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message. If there is no any others AudioEncoderConfiguration repeat steps 7-14 for other AudioSource from <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> message with ProfileToken as ‘testprofileX’ and ConfigurationToken = AECTokenX, where AECTokenX is token of AudioEncoderConfiguration found in the step 13.
              </para>
            </listitem>
            <listitem>
              <para>
                DUT adds the audio encoder configuration to the profile and sends the response.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (Encoding = “G711”, Bitrate = r1, SampleRate = r2, Multicast.Address = [“IPv4”, “multicastAddress1”], Multicast.Port = “port1”, TTL = “ttl1”, Session Timeout = t1 and force persistence = false) to set G.711 encoding and Multicast settings.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify the <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message from the DUT.
              </para>
            </listitem>

            <listitem>
              <para>
                ONVIF Client will invoke <emphasis role="bold">StartMulticastStreamingRequest</emphasis> message (ProfileToken) to start multicast streaming.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify the <emphasis role="bold">StartMulticastStreamingResponse</emphasis> message from the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends G.711 RTP multicast media stream to multicast IPv4 address over UDP.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends RTCP sender report to ONVIF Client.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client will invoke <emphasis role="bold">StopMulticastStreamingRequest</emphasis> message (ProfileToken) to stop multicast streaming.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify the <emphasis role="bold">StopMulticastStreamingResponse</emphasis> message from the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify that multicast stream is stopped by the DUT.
              </para>
            </listitem>





          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Test Result:</emphasis>
        </para>
        <para>
          <emphasis role="bold">PASS –</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                DUT passes all assertions.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">FAIL –</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis>.
              </para>
            </listitem>

            <listitem>
              <para>
                The DUT did not send AudioEncoderConfiguration which supports G.711 encoding in the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
              </para>
            </listitem>

            <listitem>
              <para>
                The DUT sent invalid <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
              </para>
            </listitem>

            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">StartMulticastStreamingResponse</emphasis> message.
              </para>
            </listitem>

            <listitem>
              <para>
                The DUT sent invalid <emphasis role="bold">StartMulticastStreamingResponse</emphasis> message.
              </para>
            </listitem>

            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">StopMulticastStreamingResponse</emphasis> message.
              </para>
            </listitem>

            <listitem>
              <para>
                The DUT sent invalid <emphasis role="bold">StopMulticastStreamingResponse</emphasis> message.
              </para>
            </listitem>

            <listitem>
              <para>
                The DUT did not send valid RTP header in one or more media streams.
              </para>
            </listitem>

            <listitem>
              <para>
                The DUT did not send RTCP sender report correctly.
              </para>
            </listitem>

            <listitem>
              <para>
                The DUT did not send G.711 RTP multicast media streaming for corresponding multicast IP.
              </para>
            </listitem>

            <listitem>
              <para>
                The DUT did not stop multicast streaming after <emphasis role="bold">StopMulticastStreamingResponse</emphasis>.
              </para>
            </listitem>



          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
        </para>


      </section>
      <section xml:id="tc.RTSS-5-1-11">
        <title>START AND STOP MULTICAST STREAMING – G.726 (IPv4, ONLY AUDIO PROFILE)</title>
        <para>
          <emphasis role="bold">Test Case ID:</emphasis> RTSS-5-1-11
        </para>
        <para>
          <emphasis role="bold">Specification Coverage:</emphasis> Start multicast streaming, Stop multicast streaming
        </para>
        <para>
          <emphasis role="bold">Command Under Test:</emphasis> StartMulticastStreaming, StopMulticastStreaming
        </para>
        <para>
          <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
        </para>
        <para>
          <emphasis role="bold">Test Purpose:</emphasis> To verify the behavior of StartMulticastStreaming command and StopMulticastStreaming in case of Audio Streaming (G.726).
        </para>
        <para>
          <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Audio Multicasting is supported by DUT and G.726 is implemented by DUT. Media Service was received from the DUT
        </para>
        <para>
          <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
        </para>
        <para>
          <emphasis role="bold">Test Procedure:</emphasis>
        </para>
        <para>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                Start an ONVIF Client.
              </para>
            </listitem>
            <listitem>
              <para>
                Start the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> message with ProfileToken = ‘testprofileX’.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. If the DUT sends a SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis> or other) execute <xref linkend="Annex_HelperCreateEmptyProfile"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurationsRequest</emphasis> message to retrieve all existing audio source configurations of the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message with ProfileToken = ‘testprofileX’ and ConfigurationToken = ConfigurationToken1 where ConfigurationToken1 is the first ConfigurationToken from the <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client will invoke <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsRequest</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio encoder configurations compatible with profile.
              </para>
            </listitem>
            <listitem>
              <para>
                DUT sends the list of audio encoder configurations compatible with the received media profile token.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client verifies the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client verifies the list of audio source configurations sent by DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> message (ProfileToken = TestProfileX, ConfigurationToken = AECToken1), where AECToken1 is the token of the first AudioEncoderConfiguration from the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> from the DUT. Check supported Audio Codec. If G.726 is supported skip step 14.
              </para>
            </listitem>
            <listitem>
              <para>
                Repeat steps 12-13 for others Audio Encoder Configurations from the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message. If there is no any others AudioEncoderConfiguration repeat steps 7-14 for other AudioSource from <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> message with ProfileToken as ‘testprofileX’ and ConfigurationToken = AECTokenX, where AECTokenX is token of AudioEncoderConfiguration found in the step 13.
              </para>
            </listitem>
            <listitem>
              <para>
                DUT adds the audio encoder configuration to the profile and sends the response.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (Encoding = “G726”, Bitrate = r1, SampleRate = r2, Multicast.Address = [“IPv4”, “multicastAddress1”], Multicast.Port = “port1”, TTL = “ttl1”, Session Timeout = t1 and force persistence = false) to set G.726 encoding and Multicast settings.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify the <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message from the DUT.
              </para>
            </listitem>

            <listitem>
              <para>
                ONVIF Client will invoke <emphasis role="bold">StartMulticastStreamingRequest</emphasis> message (ProfileToken) to start multicast streaming.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify the <emphasis role="bold">StartMulticastStreamingResponse</emphasis> message from the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends G.726 RTP multicast media stream to multicast IPv4 address over UDP.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends RTCP sender report to ONVIF Client.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client will invoke <emphasis role="bold">StopMulticastStreamingRequest</emphasis> message (ProfileToken) to stop multicast streaming.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify the <emphasis role="bold">StopMulticastStreamingResponse</emphasis> message from the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify that multicast stream is stopped by the DUT.
              </para>
            </listitem>





          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Test Result:</emphasis>
        </para>
        <para>
          <emphasis role="bold">PASS –</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                DUT passes all assertions.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">FAIL –</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis>.
              </para>
            </listitem>

            <listitem>
              <para>
                The DUT did not send AudioEncoderConfiguration which supports G.726 encoding in the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
              </para>
            </listitem>

            <listitem>
              <para>
                The DUT sent invalid <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
              </para>
            </listitem>

            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">StartMulticastStreamingResponse</emphasis> message.
              </para>
            </listitem>

            <listitem>
              <para>
                The DUT sent invalid <emphasis role="bold">StartMulticastStreamingResponse</emphasis> message.
              </para>
            </listitem>

            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">StopMulticastStreamingResponse</emphasis> message.
              </para>
            </listitem>

            <listitem>
              <para>
                The DUT sent invalid <emphasis role="bold">StopMulticastStreamingResponse</emphasis> message.
              </para>
            </listitem>

            <listitem>
              <para>
                The DUT did not send valid RTP header in one or more media streams.
              </para>
            </listitem>

            <listitem>
              <para>
                The DUT did not send RTCP sender report correctly.
              </para>
            </listitem>

            <listitem>
              <para>
                The DUT did not send G.726 RTP multicast media streaming for corresponding multicast IP.
              </para>
            </listitem>

            <listitem>
              <para>
                The DUT did not stop multicast streaming after <emphasis role="bold">StopMulticastStreamingResponse</emphasis>.
              </para>
            </listitem>



          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
        </para>


      </section>
      <section xml:id="tc.RTSS-5-1-12">
        <title>START AND STOP MULTICAST STREAMING – AAC (IPv4, ONLY AUDIO PROFILE)</title>
        <para>
          <emphasis role="bold">Test Case ID:</emphasis> RTSS-5-1-12
        </para>
        <para>
          <emphasis role="bold">Specification Coverage:</emphasis> Start multicast streaming, Stop multicast streaming
        </para>
        <para>
          <emphasis role="bold">Command Under Test:</emphasis> StartMulticastStreaming, StopMulticastStreaming
        </para>
        <para>
          <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
        </para>
        <para>
          <emphasis role="bold">Test Purpose:</emphasis> To verify the behavior of StartMulticastStreaming command and StopMulticastStreaming in case of Audio Streaming (AAC).
        </para>
        <para>
          <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by DUT. Real-time streaming supported by DUT. Audio Multicasting is supported by DUT and AAC is implemented by DUT. Media Service was received from the DUT
        </para>
        <para>
          <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
        </para>
        <para>
          <emphasis role="bold">Test Procedure:</emphasis>
        </para>
        <para>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                Start an ONVIF Client.
              </para>
            </listitem>
            <listitem>
              <para>
                Start the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">CreateProfileRequest</emphasis> message with ProfileToken = ‘testprofileX’.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify <emphasis role="bold">CreateProfileResponse</emphasis> message from the DUT. If the DUT sends a SOAP 1.2 fault message (Action/MaxNVTProfiles or other) execute <xref linkend="Annex_HelperCreateEmptyProfile"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurationsRequest</emphasis> message to retrieve all existing audio source configurations of the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message with ProfileToken = ‘testprofileX’ and ConfigurationToken = ConfigurationToken1 where ConfigurationToken1 is the first ConfigurationToken from the <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client will invoke <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsRequest</emphasis> message (ProfileToken = ‘testprofileX’) to retrieve the list of audio encoder configurations compatible with profile.
              </para>
            </listitem>
            <listitem>
              <para>
                DUT sends the list of audio encoder configurations compatible with the received media profile token.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client verifies the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client verifies the list of audio source configurations sent by DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationOptionsRequest</emphasis> message (ProfileToken = TestProfileX, ConfigurationToken = AECToken1), where AECToken1 is the token of the first AudioEncoderConfiguration from the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> from the DUT. Check supported Audio Codec. If AAC is supported skip step 14.
              </para>
            </listitem>
            <listitem>
              <para>
                Repeat steps 12-13 for others Audio Encoder Configurations from the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message. If there is no any others AudioEncoderConfiguration repeat steps 7-14 for other AudioSource from <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> message with ProfileToken as ‘testprofileX’ and ConfigurationToken = AECTokenX, where AECTokenX is token of AudioEncoderConfiguration found in the step 13.
              </para>
            </listitem>
            <listitem>
              <para>
                DUT adds the audio encoder configuration to the profile and sends the response.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (Encoding = “AAC”, Bitrate = r1, SampleRate = r2, Multicast.Address = [“IPv4”, “multicastAddress1”], Multicast.Port = “port1”, TTL = “ttl1”, Session Timeout = t1 and force persistence = false) to set AAC encoding and Multicast settings.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify the <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message from the DUT.
              </para>
            </listitem>

            <listitem>
              <para>
                ONVIF Client will invoke <emphasis role="bold">StartMulticastStreamingRequest</emphasis> message (ProfileToken) to start multicast streaming.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify the <emphasis role="bold">StartMulticastStreamingResponse</emphasis> message from the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends AAC RTP multicast media stream to multicast IPv4 address over UDP.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends RTCP sender report to ONVIF Client.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client validates the received RTP and RTCP packets, decodes and renders them.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client will invoke <emphasis role="bold">StopMulticastStreamingRequest</emphasis> message (ProfileToken) to stop multicast streaming.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify the <emphasis role="bold">StopMulticastStreamingResponse</emphasis> message from the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify that multicast stream is stopped by the DUT.
              </para>
            </listitem>





          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Test Result:</emphasis>
        </para>
        <para>
          <emphasis role="bold">PASS –</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                DUT passes all assertions.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">FAIL –</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis>.
              </para>
            </listitem>

            <listitem>
              <para>
                The DUT did not send AudioEncoderConfiguration which supports AAC encoding in the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
              </para>
            </listitem>

            <listitem>
              <para>
                The DUT sent invalid <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
              </para>
            </listitem>

            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">StartMulticastStreamingResponse</emphasis> message.
              </para>
            </listitem>

            <listitem>
              <para>
                The DUT sent invalid <emphasis role="bold">StartMulticastStreamingResponse</emphasis> message.
              </para>
            </listitem>

            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">StopMulticastStreamingResponse</emphasis> message.
              </para>
            </listitem>

            <listitem>
              <para>
                The DUT sent invalid <emphasis role="bold">StopMulticastStreamingResponse</emphasis> message.
              </para>
            </listitem>

            <listitem>
              <para>
                The DUT did not send valid RTP header in one or more media streams.
              </para>
            </listitem>

            <listitem>
              <para>
                The DUT did not send RTCP sender report correctly.
              </para>
            </listitem>

            <listitem>
              <para>
                The DUT did not send AAC RTP multicast media streaming for corresponding multicast IP.
              </para>
            </listitem>

            <listitem>
              <para>
                The DUT did not stop multicast streaming after <emphasis role="bold">StopMulticastStreamingResponse</emphasis>.
              </para>
            </listitem>



          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
        </para>


      </section>
    </section>

    <!--Audio Backchannel Streaming-->
    <section xml:id="tc.real_time_streaming.audio_backchannel_streaming">
      <title>Audio Backchannel Streaming</title>
      <section xml:id="tc.RTSS-6-1-1">
        <title>BACKCHANNEL – G.711 (RTP-Unicast/UDP, IPv4)</title>
        <para>
          <emphasis role="bold">Test Case ID:</emphasis> RTSS-6-1-1
        </para>
        <para>
          <emphasis role="bold">Specification Coverage:</emphasis> Back Channel Connection, RTSP Require- Tag, Connection setup for a bi-directional connection
        </para>
        <para>
          <emphasis role="bold">Command Under Test:</emphasis> None
        </para>
        <para>
          <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
        </para>
        <para>
          <emphasis role="bold">Test Purpose:</emphasis> To verify DUT Backchannel for G.711 audio streaming using RTP-Unicast/UDP transport for IPv4.
        </para>
        <para>
          <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by the DUT. Audio backchannel is supported by the DUT and G.711 Decoder is implemented by DUT. Media Service entry point is received from the DUT.
        </para>
        <para>
          <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
        </para>
        <para>
          <emphasis role="bold">Test Procedure:</emphasis>
        </para>
        <para>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                Start an ONVIF Client.
              </para>
            </listitem>
            <listitem>
              <para>
                Start the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client selects a media profile with G.711 decoding and not only www.onvif.org/ver20/HalfDuplex/Client send primacy support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForBackchannelAudioStreaming"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">SetAudioOutputConfigurationRequest</emphasis> message (SendPrimacy = “www.onvif.org/ver20/HalfDuplex/Client”, OutputLevel = o1 and force persistence = false) to set output configuration for backchannel.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify the <emphasis role="bold">SetAudioOutputConfigurationResponse</emphasis> message from the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Unicast”, Transport.Protocol = “UDP”) to retrieve media stream URI for the selected media profile.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client verifies the RTSP media stream URI provided by the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP DESCRIBE request with additional Require-tag (Require: www.onvif.org/ver20/backchannel).
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK message and SDP information.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify SDP information from the DUT. Check that DUT return audio backchannel and G.711 on the list of supported codecs for backchannel.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP SETUP request for backchannel with transport parameter RTP-Unicast/UDP, with additional Require-tag (Require: www.onvif.org/ver20/backchannel).
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK message and the media stream information.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP PLAY request with additional Require-tag (Require: www.onvif.org/ver20/backchannel).
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK message.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client sends RTP Unicast G.711 audio stream to DUT over UDP.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT processes a stream and send it to Output.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends RTCP sender report to ONVIF Client.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client validates the received RTCP packets.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP TEARDOWN control request with additional Require-tag (Require: www.onvif.org/ver20/backchannel) at the end of media streaming to terminate the RTSP session.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK Response and terminates the RTSP Session.
              </para>
            </listitem>





          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Test Result:</emphasis>
        </para>
        <para>
          <emphasis role="bold">PASS –</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                DUT passes all assertions.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">FAIL –</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                The DUT did not have valid media profile.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">SetAudioOutputConfigurationResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send valid RTSP URI, ValidUnilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send valid SDP information:
              </para>
            </listitem>
            <listitem>
              <para>
                There is no backchannel (marked with a=sendonly attribute)
              </para>
            </listitem>
            <listitem>
              <para>
                There is no G.711 on the list of supported codecs for backchannel
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send RTCP sender report correctly.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not process G.711 RTP media streaming.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send G.711 RTP media streaming to Output from media profile.

              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests. See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
        </para>


      </section>
      
      <section xml:id="tc.RTSS-6-1-3">
        <title>BACKCHANNEL – G.711 (RTP/RTSP/TCP, IPv4)</title>
        <para>
          <emphasis role="bold">Test Case ID:</emphasis> RTSS-6-1-3
        </para>
        <para>
          <emphasis role="bold">Specification Coverage:</emphasis> Back Channel Connection, RTSP Require- Tag, Connection setup for a bi-directional connection
        </para>
        <para>
          <emphasis role="bold">Command Under Test:</emphasis> None
        </para>
        <para>
          <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
        </para>
        <para>
          <emphasis role="bold">Test Purpose:</emphasis> To verify DUT Backchannel for G.711 audio streaming using RTP/RTSP/TCP transport for IPv4.
        </para>
        <para>
          <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by the DUT. Audio backchannel is supported by the DUT and G.711 Decoder is implemented by DUT. Media Service entry point is received from the DUT.
        </para>
        <para>
          <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
        </para>
        <para>
          <emphasis role="bold">Test Procedure:</emphasis>
        </para>
        <para>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                Start an ONVIF Client.
              </para>
            </listitem>
            <listitem>
              <para>
                Start the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client selects a media profile with G.711 decoding and not only www.onvif.org/ver20/HalfDuplex/Client send primacy support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForBackchannelAudioStreaming"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">SetAudioOutputConfigurationRequest</emphasis> message (SendPrimacy = “www.onvif.org/ver20/HalfDuplex/Client”, OutputLevel = o1 and force persistence = false) to set output configuration for backchannel.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify the <emphasis role="bold">SetAudioOutputConfigurationResponse</emphasis> message from the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Unicast”, Transport.Protocol = “RTSP”) to retrieve media stream URI for the selected media profile.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client verifies the RTSP media stream URI provided by the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP DESCRIBE request with additional Require-tag (Require: www.onvif.org/ver20/backchannel).
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK message and SDP information.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify SDP information from the DUT. Check that DUT return audio backchannel and G.711 on the list of supported codecs for backchannel.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP SETUP request for backchannel with transport parameter RTP/RTSP/TCP, with additional Require-tag (Require: www.onvif.org/ver20/backchannel).
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK message and the media stream information.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP PLAY request with additional Require-tag (Require: www.onvif.org/ver20/backchannel).
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK message.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client sends RTP Unicast G.711 audio stream to DUT over UDP.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT processes a stream and send it to Output.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends RTCP sender report to ONVIF Client.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client validates the received RTCP packets.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP TEARDOWN control request with additional Require-tag (Require: www.onvif.org/ver20/backchannel) at the end of media streaming to terminate the RTSP session.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK Response and terminates the RTSP Session.
              </para>
            </listitem>





          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Test Result:</emphasis>
        </para>
        <para>
          <emphasis role="bold">PASS –</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                DUT passes all assertions.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">FAIL –</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                The DUT did not have valid media profile.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">SetAudioOutputConfigurationResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send valid RTSP URI, ValidUnilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send valid SDP information:
              </para>
            </listitem>
            <listitem>
              <para>
                There is no backchannel (marked with a=sendonly attribute)
              </para>
            </listitem>
            <listitem>
              <para>
                There is no G.711 on the list of supported codecs for backchannel
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send RTCP sender report correctly.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not process G.711 RTP media streaming.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send G.711 RTP media streaming to Output from media profile.

              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests. See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
        </para>

      </section>
      <section xml:id="tc.RTSS-6-1-4">
        <title>BACKCHANNEL – G.726 (RTP-Unicast/UDP, IPv4)</title>
        <para>
          <emphasis role="bold">Test Case ID:</emphasis> RTSS-6-1-4
        </para>
        <para>
          <emphasis role="bold">Specification Coverage:</emphasis> Back Channel Connection, RTSP Require- Tag, Connection setup for a bi-directional connection
        </para>
        <para>
          <emphasis role="bold">Command Under Test:</emphasis> None
        </para>
        <para>
          <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
        </para>
        <para>
          <emphasis role="bold">Test Purpose:</emphasis> To verify DUT Backchannel for G.726 audio streaming using RTP-Unicast/UDP transport for IPv4.
        </para>
        <para>
          <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by the DUT. Audio backchannel is supported by the DUT and G.726 Decoder is implemented by DUT. Media Service entry point is received from the DUT.
        </para>
        <para>
          <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
        </para>
        <para>
          <emphasis role="bold">Test Procedure:</emphasis>
        </para>
        <para>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                Start an ONVIF Client.
              </para>
            </listitem>
            <listitem>
              <para>
                Start the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client selects a media profile with G.726 decoding and not only www.onvif.org/ver20/HalfDuplex/Client send primacy support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForBackchannelAudioStreaming"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">SetAudioOutputConfigurationRequest</emphasis> message (SendPrimacy = “www.onvif.org/ver20/HalfDuplex/Client”, OutputLevel = o1 and force persistence = false) to set output configuration for backchannel.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify the <emphasis role="bold">SetAudioOutputConfigurationResponse</emphasis> message from the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Unicast”, Transport.Protocol = “UDP”) to retrieve media stream URI for the selected media profile.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client verifies the RTSP media stream URI provided by the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP DESCRIBE request with additional Require-tag (Require: www.onvif.org/ver20/backchannel).
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK message and SDP information.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify SDP information from the DUT. Check that DUT return audio backchannel and G.726 on the list of supported codecs for backchannel.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP SETUP request for backchannel with transport parameter RTP-Unicast/UDP, with additional Require-tag (Require: www.onvif.org/ver20/backchannel).
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK message and the media stream information.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP PLAY request with additional Require-tag (Require: www.onvif.org/ver20/backchannel).
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK message.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client sends RTP Unicast G.726 audio stream to DUT over UDP.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT processes a stream and send it to Output.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends RTCP sender report to ONVIF Client.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client validates the received RTCP packets.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP TEARDOWN control request with additional Require-tag (Require: www.onvif.org/ver20/backchannel) at the end of media streaming to terminate the RTSP session.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK Response and terminates the RTSP Session.
              </para>
            </listitem>





          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Test Result:</emphasis>
        </para>
        <para>
          <emphasis role="bold">PASS –</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                DUT passes all assertions.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">FAIL –</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                The DUT did not have valid media profile.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">SetAudioOutputConfigurationResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send valid RTSP URI, ValidUnilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send valid SDP information:
              </para>
            </listitem>
            <listitem>
              <para>
                There is no backchannel (marked with a=sendonly attribute)
              </para>
            </listitem>
            <listitem>
              <para>
                There is no G.726 on the list of supported codecs for backchannel
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send RTCP sender report correctly.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not process G.726 RTP media streaming.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send G.726 RTP media streaming to Output from media profile.

              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests. See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
        </para>

      </section>
      
      <section xml:id="tc.RTSS-6-1-6">
        <title>BACKCHANNEL – G.726 (RTP/RTSP/TCP, IPv4)</title>
        <para>
          <emphasis role="bold">Test Case ID:</emphasis> RTSS-6-1-6
        </para>
        <para>
          <emphasis role="bold">Specification Coverage:</emphasis> Back Channel Connection, RTSP Require- Tag, Connection setup for a bi-directional connection
        </para>
        <para>
          <emphasis role="bold">Command Under Test:</emphasis> None
        </para>
        <para>
          <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
        </para>
        <para>
          <emphasis role="bold">Test Purpose:</emphasis> To verify DUT Backchannel for G.726 audio streaming using RTP/RTSP/TCP transport for IPv4.
        </para>
        <para>
          <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by the DUT. Audio backchannel is supported by the DUT and G.726 Decoder is implemented by DUT. Media Service entry point is received from the DUT.
        </para>
        <para>
          <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
        </para>
        <para>
          <emphasis role="bold">Test Procedure:</emphasis>
        </para>
        <para>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                Start an ONVIF Client.
              </para>
            </listitem>
            <listitem>
              <para>
                Start the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client selects a media profile with G.726 decoding and not only www.onvif.org/ver20/HalfDuplex/Client send primacy support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForBackchannelAudioStreaming"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">SetAudioOutputConfigurationRequest</emphasis> message (SendPrimacy = “www.onvif.org/ver20/HalfDuplex/Client”, OutputLevel = o1 and force persistence = false) to set output configuration for backchannel.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify the <emphasis role="bold">SetAudioOutputConfigurationResponse</emphasis> message from the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Unicast”, Transport.Protocol = “RTSP”) to retrieve media stream URI for the selected media profile.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client verifies the RTSP media stream URI provided by the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP DESCRIBE request with additional Require-tag (Require: www.onvif.org/ver20/backchannel).
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK message and SDP information.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify SDP information from the DUT. Check that DUT return audio backchannel and G.726 on the list of supported codecs for backchannel.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP SETUP request for backchannel with transport parameter RTP/RTSP/TCP, with additional Require-tag (Require: www.onvif.org/ver20/backchannel).
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK message and the media stream information.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP PLAY request with additional Require-tag (Require: www.onvif.org/ver20/backchannel).
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK message.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client sends RTP Unicast G.726 audio stream to DUT over UDP.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT processes a stream and send it to Output.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends RTCP sender report to ONVIF Client.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client validates the received RTCP packets.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP TEARDOWN control request with additional Require-tag (Require: www.onvif.org/ver20/backchannel) at the end of media streaming to terminate the RTSP session.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK Response and terminates the RTSP Session.
              </para>
            </listitem>





          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Test Result:</emphasis>
        </para>
        <para>
          <emphasis role="bold">PASS –</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                DUT passes all assertions.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">FAIL –</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                The DUT did not have valid media profile.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">SetAudioOutputConfigurationResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send valid RTSP URI, ValidUnilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send valid SDP information:
              </para>
            </listitem>
            <listitem>
              <para>
                There is no backchannel (marked with a=sendonly attribute)
              </para>
            </listitem>
            <listitem>
              <para>
                There is no G.726 on the list of supported codecs for backchannel
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send RTCP sender report correctly.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not process G.726 RTP media streaming.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send G.726 RTP media streaming to Output from media profile.

              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests. See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
        </para>

      </section>
      <section xml:id="tc.RTSS-6-1-7">
        <title>BACKCHANNEL – AAC (RTP-Unicast/UDP, IPv4)</title>
        <para>
          <emphasis role="bold">Test Case ID:</emphasis> RTSS-6-1-7
        </para>
        <para>
          <emphasis role="bold">Specification Coverage:</emphasis> Back Channel Connection, RTSP Require- Tag, Connection setup for a bi-directional connection
        </para>
        <para>
          <emphasis role="bold">Command Under Test:</emphasis> None
        </para>
        <para>
          <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
        </para>
        <para>
          <emphasis role="bold">Test Purpose:</emphasis> To verify DUT Backchannel for AAC audio streaming using RTP-Unicast/UDP transport for IPv4.
        </para>
        <para>
          <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by the DUT. Audio backchannel is supported by the DUT and AAC Decoder is implemented by DUT. Media Service entry point is received from the DUT.
        </para>
        <para>
          <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
        </para>
        <para>
          <emphasis role="bold">Test Procedure:</emphasis>
        </para>
        <para>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                Start an ONVIF Client.
              </para>
            </listitem>
            <listitem>
              <para>
                Start the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client selects a media profile with AAC decoding and not only www.onvif.org/ver20/HalfDuplex/Client send primacy support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForBackchannelAudioStreaming"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">SetAudioOutputConfigurationRequest</emphasis> message (SendPrimacy = “www.onvif.org/ver20/HalfDuplex/Client”, OutputLevel = o1 and force persistence = false) to set output configuration for backchannel.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify the <emphasis role="bold">SetAudioOutputConfigurationResponse</emphasis> message from the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Unicast”, Transport.Protocol = “UDP”) to retrieve media stream URI for the selected media profile.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client verifies the RTSP media stream URI provided by the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP DESCRIBE request with additional Require-tag (Require: www.onvif.org/ver20/backchannel).
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK message and SDP information.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify SDP information from the DUT. Check that DUT return audio backchannel and AAC on the list of supported codecs for backchannel.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP SETUP request for backchannel with transport parameter RTP-Unicast/UDP, with additional Require-tag (Require: www.onvif.org/ver20/backchannel).
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK message and the media stream information.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP PLAY request with additional Require-tag (Require: www.onvif.org/ver20/backchannel).
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK message.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client sends RTP Unicast AAC audio stream to DUT over UDP.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT processes a stream and send it to Output.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends RTCP sender report to ONVIF Client.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client validates the received RTCP packets.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP TEARDOWN control request with additional Require-tag (Require: www.onvif.org/ver20/backchannel) at the end of media streaming to terminate the RTSP session.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK Response and terminates the RTSP Session.
              </para>
            </listitem>





          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Test Result:</emphasis>
        </para>
        <para>
          <emphasis role="bold">PASS –</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                DUT passes all assertions.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">FAIL –</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                The DUT did not have valid media profile.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">SetAudioOutputConfigurationResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send valid RTSP URI, ValidUnilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send valid SDP information:
              </para>
            </listitem>
            <listitem>
              <para>
                There is no backchannel (marked with a=sendonly attribute)
              </para>
            </listitem>
            <listitem>
              <para>
                There is no AAC on the list of supported codecs for backchannel
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send RTCP sender report correctly.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not process AAC RTP media streaming.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send AAC RTP media streaming to Output from media profile.

              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests. See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
        </para>

      </section>
      
      <section xml:id="tc.RTSS-6-1-9">
        <title>BACKCHANNEL – AAC (RTP/RTSP/TCP, IPv4)</title>
        <para>
          <emphasis role="bold">Test Case ID:</emphasis> RTSS-6-1-9
        </para>
        <para>
          <emphasis role="bold">Specification Coverage:</emphasis> Back Channel Connection, RTSP Require- Tag, Connection setup for a bi-directional connection
        </para>
        <para>
          <emphasis role="bold">Command Under Test:</emphasis> None
        </para>
        <para>
          <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
        </para>
        <para>
          <emphasis role="bold">Test Purpose:</emphasis> To verify DUT Backchannel for AAC audio streaming using RTP/RTSP/TCP transport for IPv4.
        </para>
        <para>
          <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by the DUT. Audio backchannel is supported by the DUT and AAC Decoder is implemented by DUT. Media Service entry point is received from the DUT.
        </para>
        <para>
          <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
        </para>
        <para>
          <emphasis role="bold">Test Procedure:</emphasis>
        </para>
        <para>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                Start an ONVIF Client.
              </para>
            </listitem>
            <listitem>
              <para>
                Start the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client selects a media profile with AAC decoding and not only www.onvif.org/ver20/HalfDuplex/Client send primacy support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForBackchannelAudioStreaming"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">SetAudioOutputConfigurationRequest</emphasis> message (SendPrimacy = “www.onvif.org/ver20/HalfDuplex/Client”, OutputLevel = o1 and force persistence = false) to set output configuration for backchannel.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify the <emphasis role="bold">SetAudioOutputConfigurationResponse</emphasis> message from the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Unicast”, Transport.Protocol = “RTSP”) to retrieve media stream URI for the selected media profile.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client verifies the RTSP media stream URI provided by the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP DESCRIBE request with additional Require-tag (Require: www.onvif.org/ver20/backchannel).
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK message and SDP information.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify SDP information from the DUT. Check that DUT return audio backchannel and AAC on the list of supported codecs for backchannel.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP SETUP request for backchannel with transport parameter RTP/RTSP/TCP, with additional Require-tag (Require: www.onvif.org/ver20/backchannel).
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK message and the media stream information.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP PLAY request with additional Require-tag (Require: www.onvif.org/ver20/backchannel).
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK message.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client sends RTP Unicast AAC audio stream to DUT over UDP.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT processes a stream and send it to Output.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends RTCP sender report to ONVIF Client.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client validates the received RTCP packets.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP TEARDOWN control request with additional Require-tag (Require: www.onvif.org/ver20/backchannel) at the end of media streaming to terminate the RTSP session.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK Response and terminates the RTSP Session.
              </para>
            </listitem>





          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Test Result:</emphasis>
        </para>
        <para>
          <emphasis role="bold">PASS –</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                DUT passes all assertions.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">FAIL –</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                The DUT did not have valid media profile.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">SetAudioOutputConfigurationResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send valid RTSP URI, ValidUnilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send valid SDP information:
              </para>
            </listitem>
            <listitem>
              <para>
                There is no backchannel (marked with a=sendonly attribute)
              </para>
            </listitem>
            <listitem>
              <para>
                There is no AAC on the list of supported codecs for backchannel
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send RTCP sender report correctly.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not process AAC RTP media streaming.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send AAC RTP media streaming to Output from media profile.

              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests. See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
        </para>

      </section>
      <section xml:id="tc.RTSS-6-1-10">
        <title>BACKCHANNEL STREAMING BY POST – G.711 (RTP-Unicast/RTSP/HTTP/TCP, IPv4)</title>
        <para>
          <emphasis role="bold">Test Case ID:</emphasis> RTSS-6-1-10
        </para>
        <para>
          <emphasis role="bold">Specification Coverage:</emphasis> Back Channel Connection, RTSP Require- Tag, Connection setup for a bi-directional connection
        </para>
        <para>
          <emphasis role="bold">Command Under Test:</emphasis> None
        </para>
        <para>
          <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
        </para>
        <para>
          <emphasis role="bold">Test Purpose:</emphasis> To verify DUT Backchannel for G.711 audio streaming using RTP/RTSP/TCP transport for IPv4.
        </para>
        <para>
          <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by the DUT. Audio backchannel is supported by the DUT and G.711 Decoder is implemented by DUT. Media Service entry point is received from the DUT.
        </para>
        <para>
          <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
        </para>
        <para>
          <emphasis role="bold">Test Procedure:</emphasis>
        </para>
        <para>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                Start an ONVIF Client.
              </para>
            </listitem>
            <listitem>
              <para>
                Start the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client selects a media profile with G.711 decoding and not only www.onvif.org/ver20/HalfDuplex/Client send primacy support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForBackchannelAudioStreaming"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">SetAudioOutputConfigurationRequest</emphasis> message (SendPrimacy = “www.onvif.org/ver20/HalfDuplex/Client”, OutputLevel = o1 and force persistence = false) to set output configuration for backchannel.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify the <emphasis role="bold">SetAudioOutputConfigurationResponse</emphasis> message from the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Unicast”, Transport.Protocol = “RTSP”) to retrieve media stream URI for the selected media profile.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client verifies the RTSP media stream URI provided by the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes HTTP GET Request on DUT and establishes DUT to ONVIF Client connection for RTP data transfer.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes HTTP POST Request and establishes ONVIF Client to DUT connection for RTSP control requests.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP DESCRIBE request with additional Require-tag (Require: www.onvif.org/ver20/backchannel) on HTTP POST connection.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK message and SDP information on HTTP GET connection.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify SDP information from the DUT. Check that DUT return audio backchannel and G.711 on the list of supported codecs for backchannel.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP SETUP request on HTTP POST connection for backchannel with transport parameter RTP-Unicast/RTSP/HTTP/TCP, with additional Require-tag (Require: www.onvif.org/ver20/backchannel).
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK message and the media stream information on HTTP GET connection.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP PLAY request on HTTP POST connection with additional Require-tag (Require: www.onvif.org/ver20/backchannel).
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK message on HTTP GET connection.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client sends RTP Unicast G.711 audio stream to DUT on HTTP POST connection.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT processes a stream and send it to Output.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends RTCP sender report to ONVIF Client.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client validates the received RTCP packets.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP TEARDOWN control request on HTTP POST connection with additional Require-tag (Require: www.onvif.org/ver20/backchannel) at the end of media streaming to terminate the RTSP session.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK Response on HTTP GET connection and closes the HTTP GET connection.
              </para>
            </listitem>



          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Test Result:</emphasis>
        </para>
        <para>
          <emphasis role="bold">PASS –</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                DUT passes all assertions.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">FAIL –</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                The DUT did not have valid media profile.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">SetAudioOutputConfigurationResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send valid RTSP URI, ValidUnilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send valid SDP information:
              </para>
            </listitem>
            <listitem>
              <para>
                There is no backchannel (marked with a=sendonly attribute)
              </para>
            </listitem>
            <listitem>
              <para>
                There is no G.711 on the list of supported codecs for backchannel
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send RTCP sender report correctly.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not process G.711 RTP media streaming.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send G.711 RTP media streaming to Output from media profile.

              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests. See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
        </para>

      </section>
      <section xml:id="tc.RTSS-6-1-11">
        <title>BACKCHANNEL STREAMING BY POST – G.726 (RTP-Unicast/RTSP/HTTP/TCP, IPv4)</title>
        <para>
          <emphasis role="bold">Test Case ID:</emphasis> RTSS-6-1-11
        </para>
        <para>
          <emphasis role="bold">Specification Coverage:</emphasis> Back Channel Connection, RTSP Require- Tag, Connection setup for a bi-directional connection
        </para>
        <para>
          <emphasis role="bold">Command Under Test:</emphasis> None
        </para>
        <para>
          <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
        </para>
        <para>
          <emphasis role="bold">Test Purpose:</emphasis> To verify DUT Backchannel for G.726 audio streaming using RTP/RTSP/TCP transport for IPv4.
        </para>
        <para>
          <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by the DUT. Audio backchannel is supported by the DUT and G.726 Decoder is implemented by DUT. Media Service entry point is received from the DUT.
        </para>
        <para>
          <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
        </para>
        <para>
          <emphasis role="bold">Test Procedure:</emphasis>
        </para>
        <para>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                Start an ONVIF Client.
              </para>
            </listitem>
            <listitem>
              <para>
                Start the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client selects a media profile with G.726 decoding and not only www.onvif.org/ver20/HalfDuplex/Client send primacy support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForBackchannelAudioStreaming"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">SetAudioOutputConfigurationRequest</emphasis> message (SendPrimacy = “www.onvif.org/ver20/HalfDuplex/Client”, OutputLevel = o1 and force persistence = false) to set output configuration for backchannel.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify the <emphasis role="bold">SetAudioOutputConfigurationResponse</emphasis> message from the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Unicast”, Transport.Protocol = “RTSP”) to retrieve media stream URI for the selected media profile.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client verifies the RTSP media stream URI provided by the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes HTTP GET Request on DUT and establishes DUT to ONVIF Client connection for RTP data transfer.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes HTTP POST Request and establishes ONVIF Client to DUT connection for RTSP control requests.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP DESCRIBE request with additional Require-tag (Require: www.onvif.org/ver20/backchannel) on HTTP POST connection.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK message and SDP information on HTTP GET connection.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify SDP information from the DUT. Check that DUT return audio backchannel and G.726 on the list of supported codecs for backchannel.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP SETUP request on HTTP POST connection for backchannel with transport parameter RTP-Unicast/RTSP/HTTP/TCP, with additional Require-tag (Require: www.onvif.org/ver20/backchannel).
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK message and the media stream information on HTTP GET connection.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP PLAY request on HTTP POST connection with additional Require-tag (Require: www.onvif.org/ver20/backchannel).
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK message on HTTP GET connection.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client sends RTP Unicast G.726 audio stream to DUT on HTTP POST connection.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT processes a stream and send it to Output.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends RTCP sender report to ONVIF Client.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client validates the received RTCP packets.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP TEARDOWN control request on HTTP POST connection with additional Require-tag (Require: www.onvif.org/ver20/backchannel) at the end of media streaming to terminate the RTSP session.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK Response on HTTP GET connection and closes the HTTP GET connection.
              </para>
            </listitem>



          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Test Result:</emphasis>
        </para>
        <para>
          <emphasis role="bold">PASS –</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                DUT passes all assertions.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">FAIL –</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                The DUT did not have valid media profile.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">SetAudioOutputConfigurationResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send valid RTSP URI, ValidUnilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send valid SDP information:
              </para>
            </listitem>
            <listitem>
              <para>
                There is no backchannel (marked with a=sendonly attribute)
              </para>
            </listitem>
            <listitem>
              <para>
                There is no G.726 on the list of supported codecs for backchannel
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send RTCP sender report correctly.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not process G.726 RTP media streaming.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send G.726 RTP media streaming to Output from media profile.

              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests. See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
        </para>

      </section>
      <section xml:id="tc.RTSS-6-1-12">
        <title>BACKCHANNEL STREAMING BY POST – AAC (RTP-Unicast/RTSP/HTTP/TCP, IPv4)</title>
        <para>
          <emphasis role="bold">Test Case ID:</emphasis> RTSS-6-1-12
        </para>
        <para>
          <emphasis role="bold">Specification Coverage:</emphasis> Back Channel Connection, RTSP Require- Tag, Connection setup for a bi-directional connection
        </para>
        <para>
          <emphasis role="bold">Command Under Test:</emphasis> None
        </para>
        <para>
          <emphasis role="bold">WSDL Reference:</emphasis> media.wsdl
        </para>
        <para>
          <emphasis role="bold">Test Purpose:</emphasis> To verify DUT Backchannel for AAC audio streaming using RTP/RTSP/TCP transport for IPv4.
        </para>
        <para>
          <emphasis role="bold">Pre-Requisite:</emphasis> Media is supported by the DUT. Audio backchannel is supported by the DUT and AAC Decoder is implemented by DUT. Media Service entry point is received from the DUT.
        </para>
        <para>
          <emphasis role="bold">Test Configuration:</emphasis> ONVIF Client and DUT
        </para>
        <para>
          <emphasis role="bold">Test Procedure:</emphasis>
        </para>
        <para>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                Start an ONVIF Client.
              </para>
            </listitem>
            <listitem>
              <para>
                Start the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client selects a media profile with AAC decoding and not only www.onvif.org/ver20/HalfDuplex/Client send primacy support by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationForBackchannelAudioStreaming"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">SetAudioOutputConfigurationRequest</emphasis> message (SendPrimacy = “www.onvif.org/ver20/HalfDuplex/Client”, OutputLevel = o1 and force persistence = false) to set output configuration for backchannel.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify the <emphasis role="bold">SetAudioOutputConfigurationResponse</emphasis> message from the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">GetStreamUriRequest</emphasis> message (ProfileToken, Stream = “RTP-Unicast”, Transport.Protocol = “RTSP”) to retrieve media stream URI for the selected media profile.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends the <emphasis role="bold">GetStreamUriResponse</emphasis> message with RTSP URI and parameters defining the lifetime of the URI like ValidUntilConnect, ValidUntilReboot and Timeout.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client verifies the RTSP media stream URI provided by the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes HTTP GET Request on DUT and establishes DUT to ONVIF Client connection for RTP data transfer.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes HTTP POST Request and establishes ONVIF Client to DUT connection for RTSP control requests.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP DESCRIBE request with additional Require-tag (Require: www.onvif.org/ver20/backchannel) on HTTP POST connection.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK message and SDP information on HTTP GET connection.
              </para>
            </listitem>
            <listitem>
              <para>
                Verify SDP information from the DUT. Check that DUT return audio backchannel and AAC on the list of supported codecs for backchannel.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP SETUP request on HTTP POST connection for backchannel with transport parameter RTP-Unicast/RTSP/HTTP/TCP, with additional Require-tag (Require: www.onvif.org/ver20/backchannel).
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK message and the media stream information on HTTP GET connection.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP PLAY request on HTTP POST connection with additional Require-tag (Require: www.onvif.org/ver20/backchannel).
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK message on HTTP GET connection.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client sends RTP Unicast AAC audio stream to DUT on HTTP POST connection.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT processes a stream and send it to Output.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends RTCP sender report to ONVIF Client.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client validates the received RTCP packets.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes RTSP TEARDOWN control request on HTTP POST connection with additional Require-tag (Require: www.onvif.org/ver20/backchannel) at the end of media streaming to terminate the RTSP session.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT sends 200 OK Response on HTTP GET connection and closes the HTTP GET connection.
              </para>
            </listitem>



          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Test Result:</emphasis>
        </para>
        <para>
          <emphasis role="bold">PASS –</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                DUT passes all assertions.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">FAIL –</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                The DUT did not have valid media profile.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">SetAudioOutputConfigurationResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send valid <emphasis role="bold">GetStreamUriResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send valid RTSP URI, ValidUnilConnect, ValidUntilReboot and Timeout in <emphasis role="bold">GetStreamUriResponse</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send RTSP 200 OK response for RTSP DESCRIBE, SETUP, PLAY and TEARDOWN requests.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send valid SDP information:
              </para>
            </listitem>
            <listitem>
              <para>
                There is no backchannel (marked with a=sendonly attribute)
              </para>
            </listitem>
            <listitem>
              <para>
                There is no AAC on the list of supported codecs for backchannel
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send RTCP sender report correctly.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not process AAC RTP media streaming.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT did not send AAC RTP media streaming to Output from media profile.

              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperStreamSetupSyntax"/> for correct syntax for the StreamSetup element in GetStreamUri requests. See <xref linkend="Annex_HelperInvalidRTPHeader"/> for Invalid RTP header definition.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> ONVIF Clients checks IP type of Stream URI by following the procedure mentioned in   <xref linkend="Annex_HelperCheckIPTypeOfURI"/>.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> ONVIF Clients checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/>.
        </para>

      </section>

    </section>
  </chapter>
  <appendix>
    <title>Helper Procedures and Additional Notes</title>
    <!--A.1 Annex_HelperInvalidRTPHeader-->
    <section xml:id="Annex_HelperInvalidRTPHeader"
             xreflabel="Annex A.1">
      <title>Invalid RTP Header</title>
      <para>
        A RTP header, which is not formed according to the header field format defined in the RFC 3550 Section 5.1, is considered an invalid RTP header.
      </para>
    </section>
    <!--A.2 Annex_HelperStreamSetupSyntax-->
    <section xml:id="Annex_HelperStreamSetupSyntax"
             xreflabel="Annex A.2">
      <title>StreamSetup syntax for GetStreamUri</title>
      <para>
        The following media stream setups for GetStreamUri are covered in this Test Specification:
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              RTP Unicast over UDP
            </para>
          </listitem>
          <listitem>
            <para>
              RTP over RTSP over HTTP over TCP
            </para>
          </listitem>
          <listitem>
            <para>
              RTP over RTSP over TCP
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        The correct syntax for the StreamSetup element for these media stream setups are as follows:
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              RTP Unicast over UDP
              <programlisting>
                <![CDATA[
<StreamSetup>
  <StreamType>RTP_unicast</StreamType>
  <Transport>
    <Protocol>UDP</Protocol>
  </Transport>
</StreamSetup>

]]>
              </programlisting>
            </para>
          </listitem>
          <listitem>
            <para>
              RTP over RTSP over HTTP over TCP
              <programlisting>
                <![CDATA[
<StreamSetup>
  <StreamType>RTP_unicast</StreamType>
  <Transport>
    <Protocol>HTTP</Protocol>
  </Transport>
</StreamSetup>

]]>
              </programlisting>
            </para>
          </listitem>
          <listitem>
            <para>
              RTP over RTSP over TCP
              <programlisting>
                <![CDATA[
<StreamSetup>
  <StreamType>RTP_unicast</StreamType>
  <Transport>
    <Protocol>RTSP</Protocol>
  </Transport>
</StreamSetup>

]]>
              </programlisting>
            </para>
          </listitem>

        </orderedlist>
      </para>
    </section>
    <!--A.3 Annex_HelperIframeInsertionTimeInterval-->
    <section xml:id="Annex_HelperIframeInsertionTimeInterval"
             xreflabel="Annex A.3">
      <title>I-frame insertion time interval</title>
      <para>
        ‘I-frame insertion time interval’ is the time interval between two consecutive I-frames sent by DUT.
      </para>
      <para>
        ONVIF Client calculates this value by using the ‘GovLength’ parameter in the Video encoder configuration. ONVIF Client has to configure ‘GovLength’ to a large enough value so that there will be a sufficient time difference between two I-frames.
      </para>
      <para>
        For SetSynchronizationPoint test cases in the “Real Time Streaming” section, ONVIF Client follows this procedure to verify that I-frame is inserted as a result of SetSynchronizationPoint request.
      </para>
      <para>
        ONVIF Client waits for an I-frame before invoking SetSynchronizationPoint command.
      </para>
      <para>
        After receiving I-frame, ONVIF Client starts a timer with time out period less than ‘I-frame insertion time interval’ and immediately invokes SetSynchronizationPoint command.
      </para>
      <para>
        ONVIF Client waits for the I-frame and verifies that it receives I-frame before the timeout period.
      </para>
    </section>
    <!--A.4 Annex_HelperProfileConfigurationForVideoStreaming-->
    <section xml:id="Annex_HelperProfileConfigurationForVideoStreaming"
             xreflabel="Annex A.4">
      <title>Media Profile Configuration for Video Streaming</title>
      <para>
        For the execution of real time streaming - video test cases, ONVIF Client has to select and configure the media profile based on the required video codec.
      </para>
      <para>
        ONVIF Client follows the following procedure to configure the media profile.
      </para>
      <para>
        Retrieve media profiles by invoking GetProfiles command.
      </para>
      <para>
        Retrieve supported video encoder configuration options for a media profile by invoking GetVideoEncoderConfigurationOptions (media profile token) command. Check whether the selected media profile supports the required video codec.
      </para>
      <para>
        Repeat test procedure-2 for all media profiles till a media profile with the required video codec support is found.
      </para>

    </section>
    <!--A.5 Annex_HelperDeviceConfigurationForMediaAudioStreaming-->
    <section xml:id="Annex_HelperDeviceConfigurationForMediaAudioStreaming"
             xreflabel="Annex A.5">
      <title>Device Configuration for Audio Streaming with Media Profile</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperDeviceConfigurationForMediaAudioStreaming
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to configure Media profile with Video and Audio Configurations for audio streaming, and get stream URI from the DUT.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> Media Service is received from the DUT. Audio is supported by the DUT.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> Required audio encoding (<emphasis role="italic">requiredAudioEncoding</emphasis>), Transport protocol <emphasis role="italic">protocol</emphasis>, Stream Type (<emphasis role="italic">streamType</emphasis>), IP version (<emphasis role="italic">ipVersion</emphasis>) (optional, default = IPv4) .
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> Stream Uri (<emphasis role="italic">streamUri</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              ONVIF Client selects a Media Profile with video configurations and with required audio configurations by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationWithAudioAndVideo"/> with the following input and output parameters
              <itemizedlist>
                <listitem>
                  <para>
                    in <emphasis role="italic">requiredAudioEncoding</emphasis> - required audio encoding
                  </para>
                </listitem>
                <listitem>
                  <para>
                    out <emphasis role="italic">profile</emphasis> - Media Profile with Video Source Configuration, Video Encoder Configuration, Audio Source Configuration, and Audio Encoder Configuration with the required audio encoding
                  </para>
                </listitem>

              </itemizedlist>
            </para>
          </listitem>

          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfiguration</emphasis> request with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Configuration.@token := <emphasis role="italic">aec</emphasis>.@token
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Configuration.Name := <emphasis role="italic">aec</emphasis>.Name
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Configuration.UseCount := <emphasis role="italic">aec</emphasis>.UseCount
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Configuration.Encoding := <emphasis role="italic">aec</emphasis>.Encoding
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Configuration.Bitrate := <emphasis role="italic">aec</emphasis>.Bitrate
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Configuration.SampleRate := <emphasis role="italic">aec</emphasis>.SampleRate
                  </para>
                </listitem>
                <listitem>
                  <para>
                    if <emphasis role="italic">streamType</emphasis> != RTP-Multicast:
                    <itemizedlist>
                      <listitem>
                        <para>
                          Configuration.Multicast := <emphasis role="italic">profile</emphasis>.VideoEncoderConfiguration.Multicast
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    if <emphasis role="italic">streamType</emphasis> = RTP-Multicast and <emphasis role="italic">ipVersion</emphasis> = IPv4:
                    <itemizedlist>
                      <listitem>
                        <para>
                          Configuration.Multicast.Address.Type := IPv4
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration.Multicast.Address.IPv4Address := multicast IPv4 address
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration.Multicast.Address.IPv6Address skipped
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration.Multicast.Port := port for multicast streaming
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration.Multicast.TTL := 1
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration.Multicast.AutoStart := false
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    if <emphasis role="italic">streamType</emphasis> = RTP-Multicast and <emphasis role="italic">ipVersion</emphasis> = IPv6:
                    <itemizedlist>
                      <listitem>
                        <para>
                          Configuration.Multicast.Address.Type := IPv6
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration.Multicast.Address.IPv4Address skipped
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration.Multicast.Address.IPv6Address := multicast IPv6 address
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration.Multicast.Port := port for multicast streaming
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration.Multicast.TTL := 1
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration.Multicast.AutoStart := false
                        </para>
                      </listitem>

                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Configuration.SessionTimeout := <emphasis role="italic">aec</emphasis>.SessionTimeout
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ForcePersistence := false
                  </para>
                </listitem>

              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
            </para>
          </listitem>

          <listitem>
            <para>

              ONVIF Client retrieves a stream uri for Media Profile for required transport protocol by following the procedure mentioned in <xref linkend="Annex_HelperGetStreamUri"/> with the following input and output parameters
              <itemizedlist>
                <listitem>
                  <para>
                    in <emphasis role="italic">streamType</emphasis> - Stream Type
                  </para>
                </listitem>
                <listitem>
                  <para>
                    in <emphasis role="italic">protocol</emphasis> - Transport protocol
                  </para>
                </listitem>
                <listitem>
                  <para>
                    in <emphasis role="italic">profile</emphasis>.@token - Media profile token
                  </para>
                </listitem>
                <listitem>
                  <para>
                    out <emphasis role="italic">uri</emphasis> - Stream URI
                  </para>
                </listitem>

              </itemizedlist>
            </para>
          </listitem>


        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>


          <listitem>
            <para>
              DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>

    </section>
    <!--A.6 Annex_HelperDeviceConfigurationForVideoAndAudioStreaming-->
    <section xml:id="Annex_HelperDeviceConfigurationForVideoAndAudioStreaming"
             xreflabel="Annex A.6">
      <title>Device Configuration for Video and Audio Streaming</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperDeviceConfigurationForVideoAndAudioStreaming
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to configure Media profile, Video Encoder Configuration, Audio Encoder Configuration, and get stream URI from the DUT for video and audio streaming.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> Media Service is received from the DUT. Audio is supported by the DUT.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> Required audio encoding (<emphasis role="italic">requiredAudioEncoding</emphasis>), Transport protocol <emphasis role="italic">protocol</emphasis>, Stream Type (<emphasis role="italic">streamType</emphasis>), IP version (<emphasis role="italic">ipVersion</emphasis>) (optional, default = IPv4) .
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> Stream Uri (<emphasis role="italic">streamUri</emphasis>), Video Encoder set in configuread profile <emphasis role="italic">videoEncoding</emphasis>.
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              ONVIF Client selects a Media Profile with video configurations and with required audio configurations by following the procedure mentioned in <xref linkend="Annex_HelperProfileConfigurationWithAudioAndVideo"/> with the following input and output parameters
              <itemizedlist>
                <listitem>
                  <para>
                    in <emphasis role="italic">requiredAudioEncoding</emphasis> - required audio encoding
                  </para>
                </listitem>
                <listitem>
                  <para>
                    out <emphasis role="italic">profile</emphasis> - Media Profile with Video Source Configuration, Video Encoder Configuration, Audio Source Configuration, and Audio Encoder Configuration with the required audio encoding
                  </para>
                </listitem>

              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              Set <emphasis role="italic">videoEncoding</emphasis> := <emphasis role="italic">profile</emphasis>.VideoEncoderConfiguration.Encoding.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationOptions</emphasis> request with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    ConfigurationToken skipped
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              DUT responds with <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Options list =: <emphasis role="italic">optionsList</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              Set <emphasis role="italic">vecOptions</emphasis> := item with Encoding = <emphasis role="italic">profile</emphasis>.VideoEncoderConfiguration.Encoding from <emphasis role="italic">optionsList</emphasis> list.
            </para>
          </listitem>
          <listitem>
            <para>
              Set <emphasis role="italic">vecExtOptions</emphasis> := Extension item with Encoding = <emphasis role="italic">profile</emphasis>.VideoEncoderConfiguration.Encoding from <emphasis role="italic">optionsList</emphasis> list.
            </para>
          </listitem>

          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">SetVideoEncoderConfiguration</emphasis> request with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Configuration.@token := <emphasis role="italic">profile</emphasis>.VideoSourceConfiguration.@token
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Configuration.Name := <emphasis role="italic">profile</emphasis>.VideoSourceConfiguration.Name
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Configuration.UseCount := <emphasis role="italic">profile</emphasis>.VideoSourceConfiguration.UseCount
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Configuration.Encoding := <emphasis role="italic">profile</emphasis>.VideoSourceConfiguration.Encoding
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Configuration.Resolution := resolution closest to 640x480 from <emphasis role="italic">vecOptions</emphasis>.ResolutionsAvailable list
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Configuration.Quality := <emphasis role="italic">vecOptions</emphasis>.QualityRange.Min
                  </para>
                </listitem>
                <listitem>
                  <para>
                    if <emphasis role="italic">vecExtOptions</emphasis> null and <emphasis role="italic">profile</emphasis>.VideoEncoderConfiguration.RateControl skipped:
                    <itemizedlist>
                      <listitem>
                        <para>
                          Configuration.RateControl skipped
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                  <para>
                    Otherwise:
                    <itemizedlist>
                      <listitem>
                        <para>
                          Configuration.RateControl.FrameRateLimit := value closest to 25 but greater than 1 from <emphasis role="italic">vecOptions</emphasis>.FrameRateRange
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration.RateControl.EncodingInterval := <emphasis role="italic">vecOptions</emphasis>.EncodingIntervalRange.Min
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration.RateControl.BitrateLimit := min {max {<emphasis role="italic">profile</emphasis>.VideoEncoderConfiguration.RateControl.BitrateLimit, <emphasis role="italic">vecExtOptions</emphasis>.BitrateRange.Min}, <emphasis role="italic">vecExtOptions</emphasis>.BitrateRange.Max}
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>

                <listitem>
                  <para>
                    if <emphasis role="italic">streamType</emphasis> != RTP-Multicast:
                    <itemizedlist>
                      <listitem>
                        <para>
                          Configuration.Multicast := <emphasis role="italic">profile</emphasis>.VideoEncoderConfiguration.Multicast
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    if <emphasis role="italic">streamType</emphasis> = RTP-Multicast and <emphasis role="italic">ipVersion</emphasis> = IPv4:
                    <itemizedlist>
                      <listitem>
                        <para>
                          Configuration.Multicast.Address.Type := IPv4
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration.Multicast.Address.IPv4Address := multicast IPv4 address
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration.Multicast.Address.IPv6Address skipped
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration.Multicast.Port := port for multicast streaming
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration.Multicast.TTL := 1
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration.Multicast.AutoStart := false
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    if <emphasis role="italic">streamType</emphasis> = RTP-Multicast and <emphasis role="italic">ipVersion</emphasis> = IPv6:
                    <itemizedlist>
                      <listitem>
                        <para>
                          Configuration.Multicast.Address.Type := IPv6
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration.Multicast.Address.IPv4Address skipped
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration.Multicast.Address.IPv6Address := multicast IPv6 address
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration.Multicast.Port := port for multicast streaming
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration.Multicast.TTL := 1
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration.Multicast.AutoStart := false
                        </para>
                      </listitem>

                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Configuration.SessionTimeout := <emphasis role="italic">profile</emphasis>.VideoEncoderConfiguration.SessionTimeout
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ForcePersistence := false
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfiguration</emphasis> request with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Configuration.@token := <emphasis role="italic">aec</emphasis>.@token
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Configuration.Name := <emphasis role="italic">aec</emphasis>.Name
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Configuration.UseCount := <emphasis role="italic">aec</emphasis>.UseCount
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Configuration.Encoding := <emphasis role="italic">aec</emphasis>.Encoding
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Configuration.Bitrate := <emphasis role="italic">aec</emphasis>.Bitrate
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Configuration.SampleRate := <emphasis role="italic">aec</emphasis>.SampleRate
                  </para>
                </listitem>
                <listitem>
                  <para>
                    if <emphasis role="italic">streamType</emphasis> != RTP-Multicast:
                    <itemizedlist>
                      <listitem>
                        <para>
                          Configuration.Multicast := <emphasis role="italic">profile</emphasis>.VideoEncoderConfiguration.Multicast
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    if <emphasis role="italic">streamType</emphasis> = RTP-Multicast and <emphasis role="italic">ipVersion</emphasis> = IPv4:
                    <itemizedlist>
                      <listitem>
                        <para>
                          Configuration.Multicast.Address.Type := IPv4
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration.Multicast.Address.IPv4Address := multicast IPv4 address
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration.Multicast.Address.IPv6Address skipped
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration.Multicast.Port := port for multicast streaming
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration.Multicast.TTL := 1
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration.Multicast.AutoStart := false
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    if <emphasis role="italic">streamType</emphasis> = RTP-Multicast and <emphasis role="italic">ipVersion</emphasis> = IPv6:
                    <itemizedlist>
                      <listitem>
                        <para>
                          Configuration.Multicast.Address.Type := IPv6
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration.Multicast.Address.IPv4Address skipped
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration.Multicast.Address.IPv6Address := multicast IPv6 address
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration.Multicast.Port := port for multicast streaming
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration.Multicast.TTL := 1
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Configuration.Multicast.AutoStart := false
                        </para>
                      </listitem>

                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Configuration.SessionTimeout := <emphasis role="italic">aec</emphasis>.SessionTimeout
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ForcePersistence := false
                  </para>
                </listitem>

              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
            </para>
          </listitem>

          <listitem>
            <para>

              ONVIF Client retrieves a stream uri for Media Profile for required transport protocol by following the procedure mentioned in <xref linkend="Annex_HelperGetStreamUri"/> with the following input and output parameters
              <itemizedlist>
                <listitem>
                  <para>
                    in <emphasis role="italic">streamType</emphasis> - Stream Type
                  </para>
                </listitem>
                <listitem>
                  <para>
                    in <emphasis role="italic">protocol</emphasis> - Transport protocol
                  </para>
                </listitem>
                <listitem>
                  <para>
                    in <emphasis role="italic">profile</emphasis>.@token - Media profile token
                  </para>
                </listitem>
                <listitem>
                  <para>
                    out <emphasis role="italic">uri</emphasis> - Stream URI
                  </para>
                </listitem>

              </itemizedlist>
            </para>
          </listitem>


        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>

    </section>
    <!--A.7 Annex_HelperMetadataConfigurationForEventsMetadata-->
    <section xml:id="Annex_HelperMetadataConfigurationForEventsMetadata"
             xreflabel="Annex A.7">
      <title>MetadataConfiguration for receiving / not receiving events metadata</title>
      <para>
        When receiving metadata an ONVIF Client might be interested in receiving all, none or some of the events produced by DUT. The basic rules for configuring a MetadataConfiguration to achieve this are:
        <itemizedlist>
          <listitem>
            <para>
              To get all events: Include the Events element but do not include a filter.
            </para>
          </listitem>
          <listitem>
            <para>
              To get no events: Do not include the Events element.
            </para>
          </listitem>
          <listitem>
            <para>
              To get only some events: Include the Events element and include a filter in the element.
            </para>
          </listitem>
        </itemizedlist>

      </para>
      <para>
        This means that if an Events element is not included in a MetadataConfiguration, then no Events metadata shall be included in the metadata stream for that configuration. Similarly, if an "&lt;Events&gt;" tag without any sub-tags is included in a MetadataConfiguration it means that all available Events metadata shall be included in the metadata stream for that configuration.
      </para>
      <para>
        Example:
      </para>
      <para>
        The following SetMetadataConfigurationRequest can be used when the ONVIF Client is interested in a metadata stream that includes all Events, but nothing else. The PTZStatus element is not included in the configuration, so no PTZ metadata will be included in the metadata stream. The Events element is included, but without any filter, so all Events will be included in the metadata stream.
      </para>
      <programlisting>
        <![CDATA[
<SetMetadataConfiguration>
  <Configuration token = "Test">
    <Name>TestName</Name>
    <UseCount>1</UseCount>
    <Events/>
    <Analytics>false</Analytics>
  </Configuration>
  <ForcePersistence>true</ForcePersistence>
</SetMetadataConfiguration>

]]>
      </programlisting>
    </section>
    <!--A.8 Annex_HelperMulticastSpecificFieldInSDP-->
    <section xml:id="Annex_HelperMulticastSpecificFieldInSDP"
             xreflabel="Annex A.8">
      <title>Multicast specific field in SDP (RTSP DESCRIBE response)</title>
      <para>
        In any case that multicast real-time streaming is involved in conjunction with RTSP, c = field should be included to clearly indicate the multicast address being used for streaming. Following is the example of how the c = field should be formed in the SDP (RTSP DESCRIBE response).
      </para>
      <para>
        c = IN IP4 224.10.10.100
      </para>
    </section>
    <!--A.9 Annex_HelperCreateEmptyProfile-->
    <section xml:id="Annex_HelperCreateEmptyProfile"
             xreflabel="Annex A.9">
      <title>Create Empty Profile</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperCreateEmptyProfile
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to create or configure an empty media profile.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> Media Service is received from the DUT.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> None
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> Empty media profile (<emphasis role="italic">profile</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">GetProfiles</emphasis> request message to retrieve complete profiles list.
            </para>
          </listitem>
          <listitem>
            <para>
              Verify the <emphasis role="bold">GetProfilesResponse</emphasis> message from the DUT.
            </para>
          </listitem>
          <listitem>
            <para>
              If there is profile with fixed attribute equal to false, then follows the following procedure:
              <itemizedlist>
                <listitem>
                  <para>
                    ONVIF Client will invoke <emphasis role="bold">DeleteProfile</emphasis> request message (ProfileToken = Token1, where Token1 is the first ProfileToken from the <emphasis role="bold">GetProfilesResponse</emphasis> with fixed = false) to delete Profile.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Verify the <emphasis role="bold">DeleteProfileResponse</emphasis> message from the DUT.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Skip other steps.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If there are no profiles with fixed = false remove all configurations from one fixed profile and use this profile for test. If there are no profiles skip other steps and fail test.
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetProfilesResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">DeleteProfileResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
    </section>
    <!--A.10 Annex_HelperConfigureProfileContainingSpecifiedAudioEncoderConfiguration-->
    <section xml:id="Annex_HelperConfigureProfileContainingSpecifiedAudioEncoderConfiguration"
             xreflabel="Annex A.10">
      <title>Find or Create Media Profile Containing Specified Audio Encoder Configuration</title>
      <para>
        For the execution of test cases with Audio configuration, ONVIF Client has to select or create the media profile contains specified Audio Encoder Configuration.
      </para>
      <para>
        ONVIF Client follows the following procedure to select or create the media profile with specified audio encoder configuration:
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">GetProfilesRequest</emphasis> message to retrieve complete profiles list.
            </para>
          </listitem>
          <listitem>
            <para>
              Verify the <emphasis role="bold">GetProfilesResponse</emphasis> message from the DUT.
            </para>
          </listitem>
          <listitem>
            <para>
              Try to find profile that contains Audio Encoder Configuration with specified token and Audio Source Configuration. If there is no such Profiles go to the next step, otherwise use one of profiles that fit to the requirements and skip other steps.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">CreateProfileRequest</emphasis> message (Name = “TestProfile1”) to create new profile.
            </para>
          </listitem>
          <listitem>
            <para>
              Verify the <emphasis role="bold">CreateProfileResponse</emphasis> message (token = “ProfileToken1”, fixed = ”false”) or SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis>) from the DUT. If <emphasis role="bold">CreateProfileResponse</emphasis> message was received go to the step 10.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">DeleteProfileRequest</emphasis> message (ProfileToken = “Profile2”, where “Profile2” is token of profile with fixed = ”false”) to remove profile. If there are no profiles with fixed = ”false” remove all configurations from one fixed profile, skip steps 6-9 and use this profile as profile with ProfileToken = “ProfileToken1”. If there are no profiles skip other steps and fail test.
            </para>
          </listitem>
          <listitem>
            <para>
              Verify the <emphasis role="bold">DeleteProfileResponse</emphasis> message from the DUT.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">CreateProfileRequest</emphasis> message (Name = “TestProfile1”) to create new profile.
            </para>
          </listitem>
          <listitem>
            <para>
              Verify the <emphasis role="bold">CreateProfileResponse</emphasis> message (token = “ProfileToken1”, fixed = ”false”) from the DUT.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">GetCompatibleAudioSourceConfigurationsRequest</emphasis> message (ProfileToken = “ProfileToken1”) to retrieve compatible audio source configurations list.
            </para>
          </listitem>
          <listitem>
            <para>
              Verify the <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message from the DUT. If <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message contains empty list skip other steps (this will means that it is not possible to fined or create profile for specified audio encoder configuration).
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">AddAudioSourceConfigurationRequest</emphasis> message (ProfileToken = “ProfileToken1”, ConfigurationToken = “ASCToken1”, where “ASCToken1” is audio source configuration from <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message) to add audio source configuration to profile.
            </para>
          </listitem>
          <listitem>
            <para>
              Verify the <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message from the DUT.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsRequest</emphasis> message (ProfileToken = “ProfileToken1”) to retrieve compatible audio encoder configurations list.
            </para>
          </listitem>
          <listitem>
            <para>
              Verify the <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message from the DUT. If <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message does not contains specified audio encoder configuration repeat steps 12-15 for other audio source configuration from <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message. If there is no audio source configuration that was not used in steps 12-15, skip other steps (this will means that it is not possible to fined or create profile for specified audio encoder configuration).
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">AddAudioEncoderConfigurationRequest</emphasis> message (ProfileToken = “ProfileToken1”, ConfigurationToken = “AECToken1”, where “AECToken1” is audio encoder configuration from GetCompatibleAudioEncoderConfigurationsResponse message) to add audio encoder configuration to profile. Use this profile as result of procedure.
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
      </para>
    </section>
    <!--A.11 Annex_HelperMulticastSettingsConfiguration-->
    <section xml:id="Annex_HelperMulticastSettingsConfiguration"
             xreflabel="Annex A.11">
      <title>Configure Multicast Settings for Configurations that are Included in Profile</title>
      <para>
        It is necessary to have Configuration with valid Multicast settings in Profile to use StartMulticastStreaming command. As pre-requisite ONVIF Client already has received profile from the DUT.

      </para>
      <para>
        ONVIF Client follows the following procedure to set valid Multicast parameters:
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              If profile contains VideoEncoderConfiguration (token = “VECToken1”) verify that it has invalid multicast settings, otherwise skip steps 2-3 and go to the step 4.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">SetVideoEncoderConfigurationRequest</emphasis> message (token = “VECToken1”, Multicast.Address = [“IPv4”, “multicastAddress1”], Multicast.Port = “port1”) to change multicast settings for configuration.
            </para>
          </listitem>
          <listitem>
            <para>
              Verify the <emphasis role="bold">SetVideoEncoderConfigurationResponse</emphasis> message from the DUT.
            </para>
          </listitem>
          <listitem>
            <para>
              If profile contains AudioEncoderConfiguration (token = “AECToken1”) verify that it has invalid multicast settings, otherwise skip steps 5-6 and go to the step 7.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">SetAudioEncoderConfigurationRequest</emphasis> message (token = “AECToken1”, Multicast.Address = [“IPv4”, “multicastAddress2”], Multicast.Port = “port2”) to change multicast settings for configuration.
            </para>
          </listitem>
          <listitem>
            <para>
              Verify the <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message from the DUT.
            </para>
          </listitem>
          <listitem>
            <para>
              If profile contains MetadataConfiguration (token = “MCToken1”) verify that it has invalid multicast settings, otherwise skip step 8-9 and finish procedure.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">SetMetadataConfigurationRequest</emphasis> message (token = “MCToken1”, Multicast.Address = [“IPv4”, “multicastAddress3”], Multicast.Port = “port3”) to change multicast settings for configuration.
            </para>
          </listitem>
          <listitem>
            <para>
              Verify the <emphasis role="bold">SetMetadataConfigurationResponse</emphasis> message from the DUT.
            </para>
          </listitem>


        </orderedlist>
      </para>

    </section>
    <!--A.12 Annex_HelperProfileConfigurationWithSpecifiedVideoEncoderConfiguration-->
    <section xml:id="Annex_HelperProfileConfigurationWithSpecifiedVideoEncoderConfiguration"
             xreflabel="Annex A.12">
      <title>Find or Create Media Profile Containing Specified Video Encoder Configuration</title>
      <para>
        For the execution of test cases with Video configuration, ONVIF Client has to select or create the media profile contains specified Video Encoder Configuration.

      </para>
      <para>
        ONVIF Client follows the following procedure to select or create the media profile with specified video encoder configuration:
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">GetProfilesRequest</emphasis> message to retrieve complete profiles list.
            </para>
          </listitem>

          <listitem>
            <para>
              Verify the <emphasis role="bold">GetProfilesResponse</emphasis> message from the DUT.
            </para>
          </listitem>

          <listitem>
            <para>
              Try to find profile that contains Video Encoder Configuration with specified token and Video Source Configuration. If there is no such Profiles go to the next step, otherwise use one of profiles that fit to the requirements and skip other steps.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">CreateProfileRequest</emphasis> message (Name = “TestProfile1”) to create new profile.
            </para>
          </listitem>
          <listitem>
            <para>
              Verify the <emphasis role="bold">CreateProfileResponse</emphasis> message (token = “ProfileToken1”, fixed = ”false”) or SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis>) from the DUT. If <emphasis role="bold">CreateProfileResponse</emphasis> message was received go to the step 10.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">DeleteProfileRequest</emphasis> message (ProfileToken = “Profile2”, where “Profile2” is token of profile with fixed = ”false”) to remove profile. If there are no profiles with fixed = ”false” remove all configurations from one fixed profile, skip steps 6-9 and use this profile as profile with ProfileToken = “ProfileToken1”. If there are no profiles skip other steps and fail test.
            </para>
          </listitem>
          <listitem>
            <para>
              Verify the <emphasis role="bold">DeleteProfileResponse</emphasis> message from the DUT.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">CreateProfileRequest</emphasis> message (Name = “TestProfile1”) to create new profile.
            </para>
          </listitem>
          <listitem>
            <para>
              Verify the <emphasis role="bold">CreateProfileResponse</emphasis> message (token = “ProfileToken1”, fixed = ”false”) from the DUT.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">GetCompatibleVideoSourceConfigurationsRequest</emphasis> message (ProfileToken = “ProfileToken1”) to retrieve compatible video source configurations list.
            </para>
          </listitem>
          <listitem>
            <para>
              Verify the <emphasis role="bold">GetCompatibleVideoSourceConfigurationsResponse</emphasis> message from the DUT. If GetCompatibleVideoSourceConfigurationsResponse message contains empty list skip other steps (this will means that it is not possible to fined or create profile for specified video encoder configuration).
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">AddVideoSourceConfigurationRequest</emphasis> message (ProfileToken = “ProfileToken1”, ConfigurationToken = “VSCToken1”, where “VSCToken1” is video source configuration from <emphasis role="bold">GetCompatibleVideoSourceConfigurationsResponse</emphasis> message) to add video source configuration to profile.
            </para>
          </listitem>
          <listitem>
            <para>
              Verify the <emphasis role="bold">AddVideoSourceConfigurationResponse</emphasis> message from the DUT.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">GetCompatibleVideoEncoderConfigurationsRequest</emphasis> message (ProfileToken = “ProfileToken1”) to retrieve compatible video encoder configurations list.
            </para>
          </listitem>
          <listitem>
            <para>
              Verify the <emphasis role="bold">GetCompatibleVideoEncoderConfigurationsResponse</emphasis> message from the DUT. If <emphasis role="bold">GetCompatibleVideoEncoderConfigurationsResponse</emphasis> message does not contains specified video encoder configuration repeat steps 12-15 for other video source configuration from <emphasis role="bold">GetCompatibleVideoSourceConfigurationsResponse</emphasis> message. If there is no video source configuration that was not used in steps 12-15, skip other steps (this will means that it is not possible to fined or create profile for specified video encoder configuration).
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">AddVideoEncoderConfigurationRequest</emphasis> message (ProfileToken = “ProfileToken1”, ConfigurationToken = “VECToken1”, where “VECToken1” is video encoder configuration from <emphasis role="bold">GetCompatibleVideoEncoderConfigurationsResponse</emphasis> message) to add video encoder configuration to profile. Use this profile as result of procedure.
            </para>
          </listitem>

        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
      </para>
    </section>
    <!--A.13 Annex_HelperProfileConfigurationWithSpecifiedVideoEncoderConfigurationWithPossibilityToSetSpecifiedEncoding-->
    <section xml:id="Annex_HelperProfileConfigurationWithSpecifiedVideoEncoderConfigurationWithPossibilityToSetSpecifiedEncoding"
             xreflabel="Annex A.13">
      <title>Find or Create Media Profile Containing Specified Video Encoder Configuration with Possibility to Set Specified Encoding</title>
      <para>
        For the execution of test cases with Video configuration, ONVIF Client has to select or create the media profile contains specified Video Encoder Configuration with possibility to set specified encoding.

      </para>
      <para>
        ONVIF Client follows the following procedure to select or create the media profile with specified video encoder configuration with possibility to set specified encoding:
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">GetProfilesRequest</emphasis> message to retrieve complete profiles list.
            </para>
          </listitem>

          <listitem>
            <para>
              Verify the <emphasis role="bold">GetProfilesResponse</emphasis> message from the DUT.
            </para>
          </listitem>

          <listitem>
            <para>
              Try to find profile that contains Video Encoder Configuration with specified token and Video Source Configuration. If there is no such Profiles go to the step 6.
            </para>
          </listitem>
          <listitem>
            <para>
              Try to invoke <emphasis role="bold">GetVideoEncoderConfigurationOptionsRequest</emphasis> message for first media profile found on step 3.
            </para>
          </listitem>
          <listitem>
            <para>
              Verify the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message from the DUT. If <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message does not contains specified video encoding repeat steps 4-5 for other profiles found on step 3. Otherwise use this profile as result of this procedure and skip other steps.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">CreateProfileRequest</emphasis> message (Name = “TestProfile1”) to create new profile.
            </para>
          </listitem>
          <listitem>
            <para>
              Verify the <emphasis role="bold">CreateProfileResponse</emphasis> message (token = “ProfileToken1”, fixed = ”false”) or SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis>) from the DUT. If <emphasis role="bold">CreateProfileResponse</emphasis> message was received go to the step 12.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">DeleteProfileRequest</emphasis> message (ProfileToken = “Profile2”, where “Profile2” is token of profile with fixed = ”false”) to remove profile. If there are no profiles with fixed = ”false” skip other steps (this will means that it is not possible to fined or create profile for specified audio encoder configuration).
            </para>
          </listitem>
          <listitem>
            <para>
              Verify the <emphasis role="bold">DeleteProfileResponse</emphasis> message from the DUT.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">CreateProfileRequest</emphasis> message (Name = “TestProfile1”) to create new profile.
            </para>
          </listitem>
          <listitem>
            <para>
              Verify the <emphasis role="bold">CreateProfileResponse</emphasis> message (token = “ProfileToken1”, fixed = ”false”) from the DUT.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">GetCompatibleVideoSourceConfigurationsRequest</emphasis> message (ProfileToken = “ProfileToken1”) to retrieve compatible video source configurations list.
            </para>
          </listitem>
          <listitem>
            <para>
              Verify the <emphasis role="bold">GetCompatibleVideoSourceConfigurationsResponse</emphasis> message from the DUT. If <emphasis role="bold">GetCompatibleVideoSourceConfigurationsResponse</emphasis> message contains empty list skip other steps (this will means that it is not possible to fined or create profile for specified video encoder configuration).
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">AddVideoSourceConfigurationRequest</emphasis> message (ProfileToken = “ProfileToken1”, ConfigurationToken = “VSCToken1”, where “VSCToken1” is video source configuration from <emphasis role="bold">GetCompatibleVideoSourceConfigurationsResponse</emphasis> message) to add video source configuration to profile.
            </para>
          </listitem>
          <listitem>
            <para>
              Verify the <emphasis role="bold">AddVideoSourceConfigurationResponse</emphasis> message from the DUT.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">GetCompatibleVideoEncoderConfigurationsRequest</emphasis> message (ProfileToken = “ProfileToken1”) to retrieve compatible video encoder configurations list.
            </para>
          </listitem>
          <listitem>
            <para>
              Verify the <emphasis role="bold">GetCompatibleVideoEncoderConfigurationsResponse</emphasis> message from the DUT. If <emphasis role="bold">GetCompatibleVideoEncoderConfigurationsResponse</emphasis> message does not contains specified video encoder configuration repeat steps 14-17 for other video source configuration from <emphasis role="bold">GetCompatibleVideoSourceConfigurationsResponse</emphasis> message. If there is no video source configuration that was not used in steps 14-17, skip other steps (this will means that it is not possible to fined or create profile for specified video encoder configuration).
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">AddVideoEncoderConfigurationRequest</emphasis> message (ProfileToken = “ProfileToken1”, ConfigurationToken = “VECToken1”, where “VECToken1” is video encoder configuration from GetCompatibleVideoEncoderConfigurationsResponse message) to add video encoder configuration to profile.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">GetVideoEncoderConfigurationOptionsRequest</emphasis> message (ProfileToken = “ProfileToken1”) to get video encoder configuration options.
            </para>
          </listitem>
          <listitem>
            <para>
              Verify the <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message from the DUT. If <emphasis role="bold">GetVideoEncoderConfigurationOptionsResponse</emphasis> message does not contains specified video encoding repeat steps 14-20 for other video source configuration from <emphasis role="bold">GetCompatibleVideoSourceConfigurationsResponse</emphasis> message (previously remove video encoder configuration from the profile). If there is no video source configuration that was not used in steps 14-20, skip other steps (this will means that it is not possible to fined or create profile for specified video encoder configuration).
            </para>
          </listitem>
          <listitem>
            <para>
              Use this profile as result of procedure.
            </para>
          </listitem>

        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
      </para>
    </section>
    <!--A.14 Annex_HelperConfigureSpecifiedNumberOfProfilesWithSpecifiedVSCandDifferentVECs-->
    <section xml:id="Annex_HelperConfigureSpecifiedNumberOfProfilesWithSpecifiedVSCandDifferentVECs"
             xreflabel="Annex A.14">
      <title>Find or Create Specified Number of Profiles that Contains Specified Video Source Configuration and different Video Encoder Configurations</title>
      <para>
        For the execution of test cases with Video configuration, ONVIF Client has to select or create the media profile contains specified Video Encoder Source.
      </para>
      <para>
        ONVIF Client follows the following procedure to select or create the media profile with specified video encoder configuration:
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">GetProfilesRequest</emphasis> message to retrieve complete profiles list.
            </para>
          </listitem>

          <listitem>
            <para>
              Verify the <emphasis role="bold">GetProfilesResponse</emphasis> message from the DUT.
            </para>
          </listitem>

          <listitem>
            <para>
              Try to find profile that contains Video Source Configuration with specified token and different Video Encoder Configuration. If number of existing profiles less than required go to the next step, otherwise limit this profiles list to requested and use them as result list.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">CreateProfileRequest</emphasis> message (Name = “TestProfile1”) to create new profile.
            </para>
          </listitem>
          <listitem>
            <para>
              Verify the <emphasis role="bold">CreateProfileResponse</emphasis> message (token = “ProfileToken1”, fixed = ”false”) or SOAP 1.2 fault message (<emphasis role="bold">Action/MaxNVTProfiles</emphasis>) from the DUT. If <emphasis role="bold">CreateProfileResponse</emphasis> message was received go to the step 10.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">DeleteProfileRequest</emphasis> message (ProfileToken = “Profile2”, where “Profile2” is token of profile with fixed = ”false” and without specified video source configuration and without video encoder configuration) to remove profile. If there are no such profiles skip other steps (this will means that it is not possible to find or create profile for specified requirements).
            </para>
          </listitem>
          <listitem>
            <para>
              Verify the <emphasis role="bold">DeleteProfileResponse</emphasis> message from the DUT.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">CreateProfileRequest</emphasis> message (Name = “TestProfile1”) to create new profile.
            </para>
          </listitem>
          <listitem>
            <para>
              Verify the <emphasis role="bold">CreateProfileResponse</emphasis> message (token = “ProfileToken1”, fixed = ”false”) from the DUT.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">GetCompatibleVideoSourceConfigurationsRequest</emphasis> message (ProfileToken = “ProfileToken1”) to retrieve compatible video source configurations list.
            </para>
          </listitem>
          <listitem>
            <para>
              Verify the <emphasis role="bold">GetCompatibleVideoSourceConfigurationsResponse</emphasis> message from the DUT. If <emphasis role="bold">GetCompatibleVideoSourceConfigurationsResponse</emphasis> message does not contains required video source configuration skip other steps (this will means that it is not possible to find or create profile for specified requirements).
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">AddVideoSourceConfigurationRequest</emphasis> message (ProfileToken = “ProfileToken1”, ConfigurationToken = “VSCToken1”, where “VSCToken1” is video source configuration from <emphasis role="bold">GetCompatibleVideoSourceConfigurationsResponse</emphasis> message) to add video source configuration to profile.
            </para>
          </listitem>
          <listitem>
            <para>
              Verify the <emphasis role="bold">AddVideoSourceConfigurationResponse</emphasis> message from the DUT.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">GetCompatibleVideoEncoderConfigurationsRequest</emphasis> message (ProfileToken = “ProfileToken1”) to retrieve compatible video encoder configurations list.
            </para>
          </listitem>
          <listitem>
            <para>
              Verify the <emphasis role="bold">GetCompatibleVideoEncoderConfigurationsResponse</emphasis> message from the DUT. If <emphasis role="bold">GetCompatibleVideoEncoderConfigurationsResponse</emphasis> message contains empty list, skip other steps (this will means that it is not possible to fined or create profile for specified requirements).
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">AddVideoEncoderConfigurationRequest</emphasis> message (ProfileToken = “ProfileToken1”, ConfigurationToken = “VECToken1”, where “VECToken1” is video encoder configuration from <emphasis role="bold">GetCompatibleVideoEncoderConfigurationsResponse</emphasis> message which is not present in already selected profiles) to add video encoder configuration to profile. Use this profile as result of procedure.
            </para>
          </listitem>
          <listitem>
            <para>
              Repeat steps 4-17 to create required number of profiles.
            </para>
          </listitem>

        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_NameParameters"/> for Name and Token Parameters Length limitations.
      </para>
    </section>
    <!--A.15 Annex_HelperStreamingRTPUnicastUDP-->
    <section xml:id="Annex_HelperStreamingRTPUnicastUDP"
             xreflabel="Annex A.15">
      <title>Start Media Stream Using RTP-Unicast/UDP Transport</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperStreamingRTPUnicastUDP
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to verify media streaming over RTP-Unicast/UDP.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> None
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> Uri for media streaming (<emphasis role="italic">streamUri</emphasis>) OR Media profile token (<emphasis role="italic">profileToken</emphasis>). Media type (<emphasis role="italic">mediaType</emphasis>). Expected media stream encoding (<emphasis role="italic">encoding</emphasis>).
        Media type2 (<emphasis role="italic">mediaType2</emphasis>) (optional parameter). Expected media stream encoding for Media type2 (<emphasis role="italic">encoding2</emphasis>) (optional parameter).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> None
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>

              If <emphasis role="italic">streamUri</emphasis> is not provided, ONVIF Client retrieves a stream uri for Media Profile for required transport protocol by following the procedure mentioned in <xref linkend="Annex_HelperGetStreamUri"/> with the following input and output parameters
              <itemizedlist>
                <listitem>
                  <para>
                    in RTP-Unicast - Stream Type
                  </para>
                </listitem>
                <listitem>
                  <para>
                    in UDP - Transport protocol
                  </para>
                </listitem>
                <listitem>
                  <para>
                    in <emphasis role="italic">profileToken</emphasis> - Media profile token
                  </para>
                </listitem>
                <listitem>
                  <para>
                    out <emphasis role="italic">streamUri</emphasis> - Stream URI
                  </para>
                </listitem>

              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client checks type of stream URI by following the procedure mentioned in <xref linkend="Annex_HelperCheckIPTypeOfURI"/> with the following input parameters
              <itemizedlist>

                <listitem>
                  <para>
                    in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">RTSP DESCRIBE</emphasis> request to <emphasis role="italic">streamUri</emphasis> address.
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">200 OK</emphasis> message with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    SDP information =: <emphasis role="italic">sdp</emphasis>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Header of response to DESCRIBE =: <emphasis role="italic">responseHeader</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem xml:id="tc.A15.3">
            <para>
              If <emphasis role="italic">sdp</emphasis> does not contain Media Type = <emphasis role="italic">mediaType</emphasis> with rtpmap value corresponding to <emphasis role="italic">encoding</emphasis> and without session attribute "sendonly" (a=sendonly), FAIL the test and skip other steps.
            </para>
          </listitem>
          <listitem xml:id="tc.A15.4">
            <para>
              If <emphasis role="italic">mediaType2</emphasis> is specified and <emphasis role="italic">sdp</emphasis> does not contain Media Type = <emphasis role="italic">mediaType2</emphasis> with rtpmap value corresponding to <emphasis role="italic">encoding2</emphasis>, FAIL the test and skip other steps.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/> with the following input parameters
              <itemizedlist>
                <listitem>
                  <para>
                    in <emphasis role="italic">responseHeader</emphasis> - header of response to DESCRIBE
                  </para>
                </listitem>
                <listitem>
                  <para>
                    in <emphasis role="italic">sdp</emphasis> - SDP information
                  </para>
                </listitem>
                <listitem>
                  <para>
                    in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">RTSP SETUP</emphasis> request to uri address, which corresponds to <emphasis role="italic">mediaType</emphasis> media type (see [RFC2326] for details), with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Transport := RTP/AVP;unicast;client_port=<emphasis role="italic">port1</emphasis>-<emphasis role="italic">port2</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">200 OK</emphasis> message with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Transport
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Session =: <emphasis role="italic">session</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">mediaType2</emphasis> is specified:
              <itemizedlist>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">RTSP SETUP</emphasis> request to uri address, which corresponds to <emphasis role="italic">mediaType2</emphasis> media type (see [RFC2326] for details), with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          Transport := RTP/AVP;unicast;client_port=<emphasis role="italic">port3</emphasis>-<emphasis role="italic">port4</emphasis>
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The DUT responds with <emphasis role="bold">200 OK</emphasis> message with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          Transport
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Session =: <emphasis role="italic">session</emphasis>
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">RTSP PLAY</emphasis> request to uri address, which corresponds to aggregate control (see [RFC2326] for details), with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Session := <emphasis role="italic">session</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">200 OK</emphasis> message with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Session
                  </para>
                </listitem>
                <listitem>
                  <para>
                    RTP-Info
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If DUT does not send <emphasis role="italic">encoding</emphasis> RTP media stream to ONVIF Client over UDP, FAIL the test and skip other steps.
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">mediaType2</emphasis> is specified and DUT does not send <emphasis role="italic">encoding2</emphasis> RTP media stream to ONVIF Client over UDP, FAIL the test and skip other steps.
            </para>
          </listitem>
          <listitem>
            <para>
              If DUT does not send valid RTCP packets, FAIL the test and skip other steps.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">RTSP TEARDOWN</emphasis> request to uri address, which corresponds to aggregate control (see [RFC2326] for details), with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Session := <emphasis role="italic">session</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">200 OK</emphasis> message with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Session
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">RTSP 200 OK</emphasis> response for <emphasis role="bold">RTSP DESCRIBE</emphasis>, <emphasis role="bold">RTSP SETUP</emphasis>, <emphasis role="bold">RTSP PLAY</emphasis> and <emphasis role="bold">RTSP TEARDOWN</emphasis> requests.
            </para>
          </listitem>
          <listitem>
            <para>
              RTSP Session is terminated by DUT during media streaming.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for invalid RTP header definition.
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> If <emphasis role="italic">encoding</emphasis> = AAC, then rtpmap value may be equal either MP4A-LATM or MPEG4-GENERIC at step <xref linkend="tc.A15.3"/> and step <xref linkend="tc.A15.4"/>.
      </para>

    </section>
    <!--A.16 Annex_HelperStreamingRTPMulticastUDP-->
    <section xml:id="Annex_HelperStreamingRTPMulticastUDP"
             xreflabel="Annex A.16">
      <title>Start Media Stream Using RTP-Multicast/UDP Transport</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperStreamingRTPMulticastUDP
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to verify media streaming over RTP-Multicast/UDP.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> None
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> Uri for media streaming (<emphasis role="italic">streamUri</emphasis>) OR Media profile token (<emphasis role="italic">profileToken</emphasis>). Media type (<emphasis role="italic">mediaType</emphasis>). Expected media stream encoding (<emphasis role="italic">encoding</emphasis>).
        Media type2 (<emphasis role="italic">mediaType2</emphasis>) (optional parameter). Expected media stream encoding for Media type2 (<emphasis role="italic">encoding2</emphasis>) (optional parameter).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> None
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              If required, configure multicast settings for other entities from profile by following the procedure mentioned in <xref linkend="Annex_HelperMulticastSettingsConfiguration"/>.
            </para>
          </listitem>

          <listitem>
            <para>

              If <emphasis role="italic">streamUri</emphasis> is not provided, ONVIF Client retrieves a stream uri for Media Profile for required transport protocol by following the procedure mentioned in <xref linkend="Annex_HelperGetStreamUri"/> with the following input and output parameters
              <itemizedlist>
                <listitem>
                  <para>
                    in RTP-Multicast - Stream Type
                  </para>
                </listitem>
                <listitem>
                  <para>
                    in UDP - Transport protocol
                  </para>
                </listitem>
                <listitem>
                  <para>
                    in <emphasis role="italic">profileToken</emphasis> - Media profile token
                  </para>
                </listitem>
                <listitem>
                  <para>
                    out <emphasis role="italic">streamUri</emphasis> - Stream URI
                  </para>
                </listitem>

              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client checks type of stream URI by following the procedure mentioned in <xref linkend="Annex_HelperCheckIPTypeOfURI"/> with the following input parameters
              <itemizedlist>

                <listitem>
                  <para>
                    in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">RTSP DESCRIBE</emphasis> request to <emphasis role="italic">streamUri</emphasis> address.
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">200 OK</emphasis> message with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    SDP information =: <emphasis role="italic">sdp</emphasis>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Header of response to DESCRIBE =: <emphasis role="italic">responseHeader</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem xml:id="tc.A16.3">
            <para>
              If <emphasis role="italic">sdp</emphasis> does not contain Media Type = <emphasis role="italic">mediaType</emphasis> with rtpmap value corresponding to <emphasis role="italic">encoding</emphasis> and without session attribute "sendonly" (a=sendonly), FAIL the test and skip other steps.
            </para>
          </listitem>
          <listitem xml:id="tc.A16.4">
            <para>
              If <emphasis role="italic">mediaType2</emphasis> is specified and <emphasis role="italic">sdp</emphasis> does not contain Media Type = <emphasis role="italic">mediaType2</emphasis> with rtpmap value corresponding to <emphasis role="italic">encoding2</emphasis>, FAIL the test and skip other steps.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/> with the following input parameters
              <itemizedlist>
                <listitem>
                  <para>
                    in <emphasis role="italic">responseHeader</emphasis> - header of response to DESCRIBE
                  </para>
                </listitem>
                <listitem>
                  <para>
                    in <emphasis role="italic">sdp</emphasis> - SDP information
                  </para>
                </listitem>
                <listitem>
                  <para>
                    in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">RTSP SETUP</emphasis> request to uri address, which corresponds to <emphasis role="italic">mediaType</emphasis> media type (see [RFC2326] for details), with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Transport := RTP/AVP;unicast;client_port=<emphasis role="italic">port1</emphasis>-<emphasis role="italic">port2</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">200 OK</emphasis> message with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Transport
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Session =: <emphasis role="italic">session</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">mediaType2</emphasis> is specified:
              <itemizedlist>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">RTSP SETUP</emphasis> request to uri address, which corresponds to <emphasis role="italic">mediaType2</emphasis> media type (see [RFC2326] for details), with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          Transport := RTP/AVP;unicast;client_port=<emphasis role="italic">port3</emphasis>-<emphasis role="italic">port4</emphasis>
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The DUT responds with <emphasis role="bold">200 OK</emphasis> message with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          Transport
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Session =: <emphasis role="italic">session</emphasis>
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">RTSP PLAY</emphasis> request to uri address, which corresponds to aggregate control (see [RFC2326] for details), with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Session := <emphasis role="italic">session</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">200 OK</emphasis> message with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Session
                  </para>
                </listitem>
                <listitem>
                  <para>
                    RTP-Info
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If DUT does not send <emphasis role="italic">encoding</emphasis> RTP media stream to ONVIF Client over UDP, FAIL the test and skip other steps.
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">mediaType2</emphasis> is specified and DUT does not send <emphasis role="italic">encoding2</emphasis> RTP media stream to ONVIF Client over UDP, FAIL the test and skip other steps.
            </para>
          </listitem>
          <listitem>
            <para>
              If DUT does not send valid RTCP packets, FAIL the test and skip other steps.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">RTSP TEARDOWN</emphasis> request to uri address, which corresponds to aggregate control (see [RFC2326] for details), with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Session := <emphasis role="italic">session</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">200 OK</emphasis> message with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Session
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">RTSP 200 OK</emphasis> response for <emphasis role="bold">RTSP DESCRIBE</emphasis>, <emphasis role="bold">RTSP SETUP</emphasis>, <emphasis role="bold">RTSP PLAY</emphasis> and <emphasis role="bold">RTSP TEARDOWN</emphasis> requests.
            </para>
          </listitem>
          <listitem>
            <para>
              RTSP Session is terminated by DUT during media streaming.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for invalid RTP header definition.
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> If <emphasis role="italic">encoding</emphasis> = AAC, then rtpmap value may be equal either MP4A-LATM or MPEG4-GENERIC at step <xref linkend="tc.A16.3"/> and step <xref linkend="tc.A16.4"/>.
      </para>

    </section>
    <!--A.17 Annex_HelperStreamingRTPUnicastRTSPHTTPTCP-->
    <section xml:id="Annex_HelperStreamingRTPUnicastRTSPHTTPTCP"
             xreflabel="Annex A.17">
      <title>Start Media Stream Using RTP-Unicast/RTSP/HTTP/TCP Transport</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperStreamingRTPUnicastRTSPHTTPTCP
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to verify media streaming over RTP-Unicast/RTSP/HTTP/TCP.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> None
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> Uri for media streaming (<emphasis role="italic">streamUri</emphasis>) OR Media profile token (<emphasis role="italic">profileToken</emphasis>). Media type (<emphasis role="italic">mediaType</emphasis>). Expected media stream encoding (<emphasis role="italic">encoding</emphasis>).
        Media type2 (<emphasis role="italic">mediaType2</emphasis>) (optional parameter). Expected media stream encoding for Media type2 (<emphasis role="italic">encoding2</emphasis>) (optional parameter).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> None
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>

              If <emphasis role="italic">streamUri</emphasis> is not provided, ONVIF Client retrieves a stream uri for Media Profile for required transport protocol by following the procedure mentioned in <xref linkend="Annex_HelperGetStreamUri"/> with the following input and output parameters
              <itemizedlist>
                <listitem>
                  <para>
                    in RTP-Unicast - Stream Type
                  </para>
                </listitem>
                <listitem>
                  <para>
                    in HTTP - Transport protocol
                  </para>
                </listitem>
                <listitem>
                  <para>
                    in <emphasis role="italic">profileToken</emphasis> - Media profile token
                  </para>
                </listitem>
                <listitem>
                  <para>
                    out <emphasis role="italic">streamUri</emphasis> - Stream URI
                  </para>
                </listitem>

              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client checks type of stream URI by following the procedure mentioned in <xref linkend="Annex_HelperCheckIPTypeOfURI"/> with the following input parameters
              <itemizedlist>

                <listitem>
                  <para>
                    in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">HTTP GET</emphasis> request to <emphasis role="italic">streamUri</emphasis> address to establish DUT to ONVIF Client connection for RTP data transfer (<emphasis role="italic">connection1</emphasis>).
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">HTTP POST</emphasis> request to <emphasis role="italic">streamUri</emphasis> address to establish ONVIF Client to DUT connection for RTSP control requests (<emphasis role="italic">connection2</emphasis>).
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">RTSP DESCRIBE</emphasis> request to <emphasis role="italic">streamUri</emphasis> address converted to rtsp address on <emphasis role="italic">connection2</emphasis>.
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">200 OK</emphasis> message with parameters on <emphasis role="italic">connection1</emphasis>
              <itemizedlist>
                <listitem>
                  <para>
                    SDP information =: <emphasis role="italic">sdp</emphasis>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Header of response to DESCRIBE =: <emphasis role="italic">responseHeader</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem xml:id="tc.A17.3">
            <para>
              If <emphasis role="italic">sdp</emphasis> does not contain Media Type = <emphasis role="italic">mediaType</emphasis> with rtpmap value corresponding to <emphasis role="italic">encoding</emphasis> and without session attribute "sendonly" (a=sendonly), FAIL the test and skip other steps.
            </para>
          </listitem>
          <listitem xml:id="tc.A17.4">
            <para>
              If <emphasis role="italic">mediaType2</emphasis> is specified and <emphasis role="italic">sdp</emphasis> does not contain Media Type = <emphasis role="italic">mediaType2</emphasis> with rtpmap value corresponding to <emphasis role="italic">encoding2</emphasis> and without session attribute "sendonly" (a=sendonly), FAIL the test and skip other steps.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/> with the following input parameters
              <itemizedlist>
                <listitem>
                  <para>
                    in <emphasis role="italic">responseHeader</emphasis> - header of response to DESCRIBE
                  </para>
                </listitem>
                <listitem>
                  <para>
                    in <emphasis role="italic">sdp</emphasis> - SDP information
                  </para>
                </listitem>
                <listitem>
                  <para>
                    in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">RTSP SETUP</emphasis> request to uri address, which corresponds to <emphasis role="italic">mediaType</emphasis> media type (see [RFC2326] for details) on <emphasis role="italic">connection2</emphasis>, with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Transport := RTP/AVP/TCP;unicast;client_port=<emphasis role="italic">port1</emphasis>-<emphasis role="italic">port2</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">200 OK</emphasis> message on <emphasis role="italic">connection1</emphasis> with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Transport
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Session =: <emphasis role="italic">session</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">mediaType2</emphasis> is specified:
              <itemizedlist>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">RTSP SETUP</emphasis> request to uri address, which corresponds to <emphasis role="italic">mediaType2</emphasis> media type (see [RFC2326] for details), with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          Transport := RTP/AVP/TCP;unicast;client_port=<emphasis role="italic">port3</emphasis>-<emphasis role="italic">port4</emphasis>
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The DUT responds with <emphasis role="bold">200 OK</emphasis> message with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          Transport
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Session =: <emphasis role="italic">session</emphasis>
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">RTSP PLAY</emphasis> request to uri address, which corresponds to aggregate control (see [RFC2326] for details) on <emphasis role="italic">connection2</emphasis>, with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Session := <emphasis role="italic">session</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">200 OK</emphasis> message on <emphasis role="italic">connection1</emphasis> with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Session
                  </para>
                </listitem>
                <listitem>
                  <para>
                    RTP-Info
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If DUT does not send <emphasis role="italic">encoding</emphasis> RTP media stream to ONVIF Client over <emphasis role="italic">connection1</emphasis>, FAIL the test and skip other steps.
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">mediaType2</emphasis> is specified and DUT does not send <emphasis role="italic">encoding2</emphasis> RTP media stream to ONVIF Client over <emphasis role="italic">connection1</emphasis>, FAIL the test and skip other steps.
            </para>
          </listitem>
          <listitem>
            <para>
              If DUT does not send valid RTCP packets, FAIL the test and skip other steps.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">RTSP TEARDOWN</emphasis> request to uri address, which corresponds to aggregate control (see [RFC2326] for details) on <emphasis role="italic">connection2</emphasis>, with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Session := <emphasis role="italic">session</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client closes <emphasis role="italic">connection2</emphasis>.
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">HTTP 200 OK</emphasis> message on <emphasis role="italic">connection1</emphasis> and closes <emphasis role="italic">connection1</emphasis>.
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">RTSP 200 OK</emphasis> response for <emphasis role="bold">RTSP DESCRIBE</emphasis>, <emphasis role="bold">RTSP SETUP</emphasis> and <emphasis role="bold">RTSP PLAY</emphasis> requests.
            </para>
          </listitem>
          <listitem>
            <para>
              RTSP Session is terminated by DUT during media streaming.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for invalid RTP header definition.
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> If <emphasis role="italic">encoding</emphasis> = AAC, then rtpmap value may be equal either MP4A-LATM or MPEG4-GENERIC at step <xref linkend="tc.A17.3"/> and step <xref linkend="tc.A17.4"/>.
      </para>

    </section>
    <!--A.18 Annex_HelperStreamingRTPRTSPTCP-->
    <section xml:id="Annex_HelperStreamingRTPRTSPTCP"
             xreflabel="Annex A.18">
      <title>Start Media Stream Using RTP/RTSP/TCP Transport</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperStreamingRTPRTSPTCP
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to verify media streaming over RTP/RTSP/TCP.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> None
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> Uri for media streaming (<emphasis role="italic">streamUri</emphasis>) OR Media profile token (<emphasis role="italic">profileToken</emphasis>). Media type (<emphasis role="italic">mediaType</emphasis>). Expected media stream encoding (<emphasis role="italic">encoding</emphasis>).
        Media type2 (<emphasis role="italic">mediaType2</emphasis>) (optional parameter). Expected media stream encoding for Media type2 (<emphasis role="italic">encoding2</emphasis>) (optional parameter).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> None
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>

              If <emphasis role="italic">streamUri</emphasis> is not provided, ONVIF Client retrieves a stream uri for Media Profile for required transport protocol by following the procedure mentioned in <xref linkend="Annex_HelperGetStreamUri"/> with the following input and output parameters
              <itemizedlist>
                <listitem>
                  <para>
                    in RTP-Unicast - Stream Type
                  </para>
                </listitem>
                <listitem>
                  <para>
                    in RTSP - Transport protocol
                  </para>
                </listitem>
                <listitem>
                  <para>
                    in <emphasis role="italic">profileToken</emphasis> - Media profile token
                  </para>
                </listitem>
                <listitem>
                  <para>
                    out <emphasis role="italic">streamUri</emphasis> - Stream URI
                  </para>
                </listitem>

              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client checks type of stream URI by following the procedure mentioned in <xref linkend="Annex_HelperCheckIPTypeOfURI"/> with the following input parameters
              <itemizedlist>

                <listitem>
                  <para>
                    in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">RTSP DESCRIBE</emphasis> request to <emphasis role="italic">streamUri</emphasis> address.
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">200 OK</emphasis> message with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    SDP information =: <emphasis role="italic">sdp</emphasis>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Header of response to DESCRIBE =: <emphasis role="italic">responseHeader</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem xml:id="tc.A18.3">
            <para>
              If <emphasis role="italic">sdp</emphasis> does not contain Media Type = <emphasis role="italic">mediaType</emphasis> with rtpmap value corresponding to <emphasis role="italic">encoding</emphasis> and without session attribute "sendonly" (a=sendonly), FAIL the test and skip other steps.
            </para>
          </listitem>
          <listitem xml:id="tc.A18.4">
            <para>
              If <emphasis role="italic">mediaType2</emphasis> is specified and <emphasis role="italic">sdp</emphasis> does not contain Media Type = <emphasis role="italic">mediaType2</emphasis> with rtpmap value corresponding to <emphasis role="italic">encoding2</emphasis> and without session attribute "sendonly" (a=sendonly), FAIL the test and skip other steps.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client checks types of IP addresses returned in response to DESCRIBE by following the procedure mentioned in <xref linkend="Annex_HelperIPAddressTypeInRTSP"/> with the following input parameters
              <itemizedlist>
                <listitem>
                  <para>
                    in <emphasis role="italic">responseHeader</emphasis> - header of response to DESCRIBE
                  </para>
                </listitem>
                <listitem>
                  <para>
                    in <emphasis role="italic">sdp</emphasis> - SDP information
                  </para>
                </listitem>
                <listitem>
                  <para>
                    in <emphasis role="italic">streamUri</emphasis> - Uri for media streaming
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">RTSP SETUP</emphasis> request to uri address, which corresponds to <emphasis role="italic">mediaType</emphasis> media type (see [RFC2326] for details), with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Transport := RTP/AVP/TCP;unicast;interleaved=0-1
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">200 OK</emphasis> message with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Transport
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Session =: <emphasis role="italic">session</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">mediaType2</emphasis> is specified:
              <itemizedlist>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">RTSP SETUP</emphasis> request to uri address, which corresponds to <emphasis role="italic">mediaType2</emphasis> media type (see [RFC2326] for details), with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          Transport := RTP/AVP/TCP;unicast;interleaved=0-1
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The DUT responds with <emphasis role="bold">200 OK</emphasis> message with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          Transport
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Session =: <emphasis role="italic">session</emphasis>
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">RTSP PLAY</emphasis> request to uri address, which corresponds to aggregate control (see [RFC2326] for details), with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Session := <emphasis role="italic">session</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">200 OK</emphasis> message with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Session
                  </para>
                </listitem>
                <listitem>
                  <para>
                    RTP-Info
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If DUT does not send <emphasis role="italic">encoding</emphasis> RTP media stream to ONVIF Client over RTSP control connection, FAIL the test and skip other steps.
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">mediaType2</emphasis> is specified and DUT does not send <emphasis role="italic">encoding2</emphasis> RTP media stream to ONVIF Client over RTSP control connection, FAIL the test and skip other steps.
            </para>
          </listitem>
          <listitem>
            <para>
              If DUT does not send valid RTCP packets, FAIL the test and skip other steps.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">RTSP TEARDOWN</emphasis> request to uri address, which corresponds to aggregate control (see [RFC2326] for details), with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Session := <emphasis role="italic">session</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">200 OK</emphasis> message with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Session
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">RTSP 200 OK</emphasis> response for <emphasis role="bold">RTSP DESCRIBE</emphasis>, <emphasis role="bold">RTSP SETUP</emphasis>, <emphasis role="bold">RTSP PLAY</emphasis> and <emphasis role="bold">RTSP TEARDOWN</emphasis> requests.
            </para>
          </listitem>
          <listitem>
            <para>
              RTSP Session is terminated by DUT during media streaming.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> See <xref linkend="Annex_HelperInvalidRTPHeader"/> for invalid RTP header definition.
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> ONVIF Client checks authentication type for all RTSP requests by following the procedure mentioned in <xref linkend="Annex_HelperRTSPAuthentication"/>.
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> If <emphasis role="italic">encoding</emphasis> = AAC, then rtpmap value may be equal either MP4A-LATM or MPEG4-GENERIC at step <xref linkend="tc.A18.3"/> and step <xref linkend="tc.A18.4"/>.
      </para>

    </section>
    <!--A.19 Annex_HelperProfileConfigurationForJPEGVideoStreaming-->
    <section xml:id="Annex_HelperProfileConfigurationForJPEGVideoStreaming"
             xreflabel="Annex A.19">
      <title>Media Profile Select for JPEG Video Streaming</title>
      <para>
        For the execution of real time streaming - video test cases, ONVIF Client has to select the media profile with Video Source Configuration and Video Encoder Configuration based on the JPEG video codec.

      </para>
      <para>
        ONVIF Client follows the following procedure to select the media profile:
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              Retrieve media profiles by invoking GetProfiles command.
            </para>
          </listitem>

          <listitem>
            <para>
              Select media profiles that contain Video Encoder Configuration and Video Source Configuration.
            </para>
          </listitem>

          <listitem>
            <para>
              Retrieve supported video encoder configuration options for a media profile by invoking GetVideoEncoderConfigurationOptions (media profile token) command. Check whether the selected media profile supports the JPEG video codec.
            </para>
          </listitem>
          <listitem>
            <para>
              Repeat step 3 for all media profiles selected on step 2 till a media profile with the JPEG video codec support is found.
            </para>
          </listitem>

        </orderedlist>
      </para>

    </section>
    <!--A.20 Annex_HelperProfileConfigurationWithAudioAndVideo-->
    <section xml:id="Annex_HelperProfileConfigurationWithAudioAndVideo"
             xreflabel="Annex A.20">
      <title>Media Profile Configuration with Required Audio Encoder and with Video Encoder</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperProfileConfigurationWithAudioAndVideo
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to configure Media Profile with Audio Source Configuration, Audio Encoder Configuration with required encoder, Video Source Configuration and Video Encoder Configuration.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> Media Service is received from the DUT. Audio is supported by the DUT.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> Required audio encoding (<emphasis role="italic">requiredAudioEncoding</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> Media profile with required configurations (<emphasis role="italic">profile</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">GetProfiles</emphasis> request
            </para>
          </listitem>
          <listitem>
            <para>
              DUT responds with <emphasis role="bold">GetProfilesResponse</emphasis> message with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Profiles list =: <emphasis role="italic">profileList</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">profileList</emphasis> contains Profile item (<emphasis role="italic">profile1</emphasis>) with VideoSourceConfiguration, VideoEncoderConfiguration, AudioSourceConfiguration, and AudioEncoderConfiguration:
              <itemizedlist>
                <listitem>
                  <para>
                    If <emphasis role="italic">profile1</emphasis>.AudioEncoderConfiguration.Encoding = <emphasis role="italic">requiredAudioEncoding</emphasis>:
                    <itemizedlist>
                      <!--<listitem>
                        <para>
                          If <emphasis role="italic">stream</emphasis> = RTP-Multicast:
                          <itemizedlist>
                            <listitem>
                              <para>
                                ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfiguration</emphasis> request with parameters
                                <itemizedlist>
                                  <listitem>
                                    <para>
                                      Configuration.@token := <emphasis role="italic">profile1</emphasis>.AudioEncoderConfiguration.@token
                                    </para>
                                  </listitem>
                                  <listitem>
                                    <para>
                                      Configuration.Name := <emphasis role="italic">profile1</emphasis>.AudioEncoderConfiguration.Name
                                    </para>
                                  </listitem>
                                  <listitem>
                                    <para>
                                      Configuration.UseCount := <emphasis role="italic">profile1</emphasis>.AudioEncoderConfiguration.UseCount
                                    </para>
                                  </listitem>
                                  <listitem>
                                    <para>
                                      Configuration.Encoding := <emphasis role="italic">requiredAudioEncoding</emphasis>
                                    </para>
                                  </listitem>

                                  <listitem>
                                    <para>
                                      if <emphasis role="italic">protocol</emphasis> is not equal to RtspMulticast:
                                      <itemizedlist>
                                        <listitem>
                                          <para>
                                            Configuration.Multicast := <emphasis role="italic">profile</emphasis>.Configurations.AudioEncoder.Multicast
                                          </para>
                                        </listitem>
                                      </itemizedlist>
                                    </para>
                                  </listitem>
                                  <listitem>
                                    <para>
                                      if <emphasis role="italic">protocol</emphasis> = RtspMulticast and <emphasis role="italic">ipVersion</emphasis> = IPv4:
                                      <itemizedlist>
                                        <listitem>
                                          <para>
                                            Configuration.Multicast.Address.Type := IPv4
                                          </para>
                                        </listitem>
                                        <listitem>
                                          <para>
                                            Configuration.Multicast.Address.IPv4Address := multicast IPv4 address
                                          </para>
                                        </listitem>
                                        <listitem>
                                          <para>
                                            Configuration.Multicast.Address.IPv6Address skipped
                                          </para>
                                        </listitem>
                                        <listitem>
                                          <para>
                                            Configuration.Multicast.Port := port for multicast streaming
                                          </para>
                                        </listitem>
                                        <listitem>
                                          <para>
                                            Configuration.Multicast.TTL := 1
                                          </para>
                                        </listitem>
                                        <listitem>
                                          <para>
                                            Configuration.Multicast.AutoStart := false
                                          </para>
                                        </listitem>
                                      </itemizedlist>
                                    </para>
                                  </listitem>
                                  <listitem>
                                    <para>
                                      if <emphasis role="italic">protocol</emphasis> = RtspMulticast and <emphasis role="italic">ipVersion</emphasis> = IPv6:
                                      <itemizedlist>
                                        <listitem>
                                          <para>
                                            Configuration.Multicast.Address.Type := IPv6
                                          </para>
                                        </listitem>
                                        <listitem>
                                          <para>
                                            Configuration.Multicast.Address.IPv4Address skipped
                                          </para>
                                        </listitem>
                                        <listitem>
                                          <para>
                                            Configuration.Multicast.Address.IPv6Address := multicast IPv6 address
                                          </para>
                                        </listitem>
                                        <listitem>
                                          <para>
                                            Configuration.Multicast.Port := port for multicast streaming
                                          </para>
                                        </listitem>
                                        <listitem>
                                          <para>
                                            Configuration.Multicast.TTL := 1
                                          </para>
                                        </listitem>
                                        <listitem>
                                          <para>
                                            Configuration.Multicast.AutoStart := false
                                          </para>
                                        </listitem>

                                      </itemizedlist>
                                    </para>
                                  </listitem>
                                  <listitem>
                                    <para>
                                      Configuration.Bitrate := the nearest value to <emphasis role="italic">profile</emphasis>.Configurations.AudioEncoder.Bitrate from <emphasis role="italic">aecOptions</emphasis>BitrateList.Items list
                                    </para>
                                  </listitem>
                                  <listitem>
                                    <para>
                                      Configuration.SampleRate := the nearest value to <emphasis role="italic">profile</emphasis>.Configurations.AudioEncoder.SampleRate from <emphasis role="italic">aecOptions</emphasis>SampleRateList.Items list
                                    </para>
                                  </listitem>
                                </itemizedlist>
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>-->
                      <listitem>
                        <para>
                          set <emphasis role="italic">profile</emphasis> := <emphasis role="italic">profile1</emphasis>  and skip other steps.
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>

              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client configures an empty media profile by following the procedure mentioned in <xref linkend="Annex_HelperCreateEmptyProfile"/> with the following input and output parameters
              <itemizedlist>

                <listitem>
                  <para>
                    out <emphasis role="italic">profile</emphasis> - empty media profile
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioSourceConfigurations</emphasis> request with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    ProfileToken  := <emphasis role="italic">profile</emphasis>.@token
                  </para>
                </listitem>

              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              DUT responds with <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Configurations list =: <emphasis role="italic">ascList</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">ascList</emphasis> is empty, restore DUT settings, FAIL the test and skip other steps.
            </para>
          </listitem>
          <listitem xml:id="tc.A20.8">
            <para>
              For each Audio Source Configuration (<emphasis role="italic">asc</emphasis>) in <emphasis role="italic">ascList</emphasis> repeat the following steps:
              <orderedlist numeration="arabic"
                           inheritnum="inherit">
                <?dbfo label-width="4.5em"?>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">AddAudioSourceConfiguration</emphasis> request with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          ConfigurationToken := <emphasis role="italic">asc</emphasis>.@token
                        </para>
                      </listitem>

                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT responds with <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetCompatibleAudioEncoderConfigurations</emphasis> request with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT responds with <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          Configurations list =: <emphasis role="italic">aecList</emphasis>
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    For each Audio Encoder Configuration (<emphasis role="italic">aec</emphasis>) in <emphasis role="italic">aecList</emphasis> repeat the following steps:
                    <orderedlist numeration="arabic"
                                 inheritnum="inherit">
                      <?dbfo label-width="4.5em"?>
                      <listitem>
                        <para>
                          ONVIF Client invokes <emphasis role="bold">GetAudioEncoderConfigurationOptions</emphasis> request with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                ConfigurationToken := <emphasis role="italic">aec</emphasis>.@token
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          DUT responds with <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                Options list =: <emphasis role="italic">optionsList</emphasis>
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          If <emphasis role="italic">optionsList</emphasis> list contains item with Encoding = <emphasis role="italic">requiredAudioEncoding</emphasis>:
                          <orderedlist numeration="arabic"
                                       inheritnum="inherit">
                            <?dbfo label-width="5.5em"?>
                            <listitem>
                              <para>
                                ONVIF Client invokes <emphasis role="bold">AddAudioEncoderConfiguration</emphasis> request with parameters
                                <itemizedlist>
                                  <listitem>
                                    <para>
                                      ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                                    </para>
                                  </listitem>
                                  <listitem>
                                    <para>
                                      ConfigurationToken := <emphasis role="italic">aec</emphasis>.@token
                                    </para>
                                  </listitem>
                                </itemizedlist>
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                The DUT responds with <emphasis role="bold">AddAudioEncoderConfigurationResponse</emphasis> message.
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Set <emphasis role="italic">aecOptions</emphasis> := item with Encoding = <emphasis role="italic">requiredAudioEncoding</emphasis> from <emphasis role="italic">optionsList</emphasis> list.
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                ONVIF Client invokes <emphasis role="bold">SetAudioEncoderConfiguration</emphasis> request with parameters
                                <itemizedlist>
                                  <listitem>
                                    <para>
                                      Configuration.@token := <emphasis role="italic">aec</emphasis>.@token
                                    </para>
                                  </listitem>
                                  <listitem>
                                    <para>
                                      Configuration.Name := <emphasis role="italic">aec</emphasis>.Name
                                    </para>
                                  </listitem>
                                  <listitem>
                                    <para>
                                      Configuration.UseCount := <emphasis role="italic">aec</emphasis>.UseCount
                                    </para>
                                  </listitem>
                                  <listitem>
                                    <para>
                                      Configuration.Encoding := <emphasis role="italic">requiredAudioEncoding</emphasis>
                                    </para>
                                  </listitem>
                                  <listitem>
                                    <para>
                                      Configuration.Bitrate := the nearest value to <emphasis role="italic">aec</emphasis>.Bitrate from <emphasis role="italic">aecOptions</emphasis>BitrateList.Items list
                                    </para>
                                  </listitem>
                                  <listitem>
                                    <para>
                                      Configuration.SampleRate := the nearest value to <emphasis role="italic">aec</emphasis>.SampleRate from <emphasis role="italic">aecOptions</emphasis>SampleRateList.Items list
                                    </para>
                                  </listitem>
                                  <listitem>
                                    <para>
                                      Configuration.Multicast := <emphasis role="italic">aec</emphasis>.Multicast
                                    </para>
                                  </listitem>
                                  <listitem>
                                    <para>
                                      Configuration.SessionTimeout := <emphasis role="italic">aec</emphasis>.SessionTimeout
                                    </para>
                                  </listitem>
                                  <listitem>
                                    <para>
                                      ForcePersistence := false
                                    </para>
                                  </listitem>

                                </itemizedlist>
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                The DUT responds with <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                ONVIF Client invokes <emphasis role="bold">GetCompatibleVideoSourceConfigurations</emphasis> request with parameters
                                <itemizedlist>
                                  <listitem>
                                    <para>
                                      ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                                    </para>
                                  </listitem>
                                </itemizedlist>
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                DUT responds with <emphasis role="bold">GetCompatibleVideoSourceConfigurationsResponse</emphasis> message with parameters
                                <itemizedlist>
                                  <listitem>
                                    <para>
                                      Configurations list =: <emphasis role="italic">vscList</emphasis>
                                    </para>
                                  </listitem>
                                </itemizedlist>
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                If <emphasis role="italic">vscList</emphasis> is empty:
                                <itemizedlist>
                                  <listitem>
                                    <para>
                                      ONVIF Client invokes <emphasis role="bold">RemoveAudioEncoderConfiguration</emphasis> request with parameters
                                      <itemizedlist>
                                        <listitem>
                                          <para>
                                            ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                                          </para>
                                        </listitem>

                                      </itemizedlist>
                                    </para>
                                  </listitem>
                                  <listitem>
                                    <para>
                                      DUT responds with <emphasis role="bold">RemoveAudioEncoderConfigurationResponse</emphasis> message
                                    </para>
                                  </listitem>
                                  <listitem>
                                    <para>
                                      Go to step <xref linkend="tc.A20.8"/>.
                                    </para>
                                  </listitem>

                                </itemizedlist>
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                For each Video Source Configuration <emphasis role="italic">vsc</emphasis> in <emphasis role="italic">vscList</emphasis> repeat the following steps:
                                <orderedlist numeration="arabic"
                                             inheritnum="inherit">
                                  <?dbfo label-width="4.5em"?>
                                  <listitem>
                                    <para>
                                      ONVIF Client invokes <emphasis role="bold">AddVideoSourceConfiguration</emphasis> request with parameters
                                      <itemizedlist>
                                        <listitem>
                                          <para>
                                            ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                                          </para>
                                        </listitem>
                                        <listitem>
                                          <para>
                                            ConfigurationToken := <emphasis role="italic">vsc</emphasis>.@token
                                          </para>
                                        </listitem>
                                      </itemizedlist>
                                    </para>
                                  </listitem>
                                  <listitem>
                                    <para>
                                      The DUT responds with <emphasis role="bold">AddVideoSourceConfigurationResponse</emphasis> message.
                                    </para>
                                  </listitem>
                                  <listitem>
                                    <para>
                                      ONVIF Client invokes <emphasis role="bold">GetCompatibleVideoEncoderConfigurations</emphasis> request with parameters
                                      <itemizedlist>
                                        <listitem>
                                          <para>
                                            ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                                          </para>
                                        </listitem>
                                      </itemizedlist>
                                    </para>
                                  </listitem>
                                  <listitem>
                                    <para>
                                      DUT responds with <emphasis role="bold">GetCompatibleVideoEncoderConfigurationsResponse</emphasis> message with parameters
                                      <itemizedlist>
                                        <listitem>
                                          <para>
                                            Configurations list =: <emphasis role="italic">vecList</emphasis>
                                          </para>
                                        </listitem>
                                      </itemizedlist>
                                    </para>
                                  </listitem>
                                  <listitem>
                                    <para>
                                      If <emphasis role="italic">vecList</emphasis> is empty and <emphasis role="italic">vsc</emphasis> is the last item in <emphasis role="italic">vscList</emphasis>:
                                      <itemizedlist>
                                        <listitem>
                                          <para>
                                            ONVIF Client invokes <emphasis role="bold">RemoveVideoSourceConfiguration</emphasis> request with parameters
                                            <itemizedlist>
                                              <listitem>
                                                <para>
                                                  ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                                                </para>
                                              </listitem>

                                            </itemizedlist>
                                          </para>
                                        </listitem>
                                        <listitem>
                                          <para>
                                            DUT responds with <emphasis role="bold">RemoveVideoSourceConfigurationResponse</emphasis> message
                                          </para>
                                        </listitem>
                                        <listitem>
                                          <para>
                                            ONVIF Client invokes <emphasis role="bold">RemoveAudioEncoderConfiguration</emphasis> request with parameters
                                            <itemizedlist>
                                              <listitem>
                                                <para>
                                                  ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                                                </para>
                                              </listitem>

                                            </itemizedlist>
                                          </para>
                                        </listitem>
                                        <listitem>
                                          <para>
                                            DUT responds with <emphasis role="bold">RemoveAudioEncoderConfigurationResponse</emphasis> message
                                          </para>
                                        </listitem>
                                        <listitem>
                                          <para>
                                            Go to step <xref linkend="tc.A20.8"/>.
                                          </para>
                                        </listitem>

                                      </itemizedlist>
                                    </para>
                                  </listitem>
                                  <listitem>
                                    <para>
                                      If <emphasis role="italic">vecList</emphasis> is not empty
                                      <itemizedlist>
                                        <listitem>
                                          <para>
                                            ONVIF Client invokes <emphasis role="bold">AddVideoEncoderConfiguration</emphasis> request with parameters
                                            <itemizedlist>
                                              <listitem>
                                                <para>
                                                  ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                                                </para>
                                              </listitem>
                                              <listitem>
                                                <para>
                                                  ConfigurationToken := <emphasis role="italic">vecList</emphasis>[0].@token
                                                </para>
                                              </listitem>

                                            </itemizedlist>
                                          </para>
                                        </listitem>
                                        <listitem>
                                          <para>
                                            DUT responds with <emphasis role="bold">AddVideoEncoderConfigurationResponse</emphasis> message
                                          </para>
                                        </listitem>
                                        <listitem>
                                          <para>
                                            Skip other steps.
                                          </para>
                                        </listitem>
                                      </itemizedlist>
                                    </para>
                                  </listitem>



                                </orderedlist>
                              </para>
                            </listitem>

                          </orderedlist>
                        </para>
                      </listitem>

                    </orderedlist>
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If profile with Audio Source Configuration, Audio Encoder Configuration with required encoder, Video Source Configuration and Video Encoder Configuration was not configured at step <xref linkend="tc.A20.8"/>, restore DUT settings, FAIL the test and skip other steps.
            </para>
          </listitem>

        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetProfilesResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetCompatibleAudioSourceConfigurationsResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">AddAudioSourceConfigurationResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetCompatibleAudioEncoderConfigurationsResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetAudioEncoderConfigurationOptionsResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">AddAudioEncoderConfigurationResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">SetAudioEncoderConfigurationResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetCompatibleVideoSourceConfigurationsResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">RemoveAudioEncoderConfigurationResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">AddVideoSourceConfigurationResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetCompatibleVideoEncoderConfigurationsResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">AddVideoEncoderConfigurationResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">RemoveVideoSourceConfigurationResponse</emphasis> message.
            </para>
          </listitem>

        </itemizedlist>
      </para>

    </section>
    <!--A.21 Annex_HelperGetStreamUri-->
    <section xml:id="Annex_HelperGetStreamUri"
             xreflabel="Annex A.21">
      <title>Get Stream Uri</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperGetStreamUri
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to get stream URI from the DUT.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> Media Service is received from the DUT.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> Stream Type (<emphasis role="italic">streamType</emphasis>), Protocol (<emphasis role="italic">protocol</emphasis>), Media Profile token (<emphasis role="italic">token</emphasis>)
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> Stream Uri (<emphasis role="italic">streamUri</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">GetStreamUri</emphasis> request with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    StreamSetup.Stream  := <emphasis role="italic">streamType</emphasis>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    StreamSetup.Transport.Protocol := <emphasis role="italic">protocol</emphasis>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ProfileToken := <emphasis role="italic">token</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">GetStreamUriResponse</emphasis> message with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    MediaUri.Uri =: <emphasis role="italic">streamUri</emphasis>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    MediaUri.InvalidAfterConnect
                  </para>
                </listitem>
                <listitem>
                  <para>
                    MediaUri.InvalidAfterReboot
                  </para>
                </listitem>
                <listitem>
                  <para>
                    MediaUri.Timeout
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">streamUri</emphasis> is longer than 128 octets, FAIL the test and skip other steps.
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">protocol</emphasis> = HTTP:
              <orderedlist numeration="arabic"
                           inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <!--<listitem>
                  <para>
                    If <emphasis role="italic">streamUri</emphasis> doesn't have the same port with the web service, FAIL the test and skip other steps.
                  </para>
                </listitem>-->
                <listitem>
                  <para>
                    If <emphasis role="italic">streamUri</emphasis> doesn't have the same scheme with the web service ('http'), FAIL the test and skip other steps.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">protocol</emphasis> != HTTP:
              <orderedlist numeration="arabic"
                           inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    If <emphasis role="italic">streamUri</emphasis> doesn't have scheme equal to 'rtsp', FAIL the test and skip other steps.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetStreamUriResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
    </section>
    <!--A.22 Annex_NameParameters-->
    <section xml:id="Annex_NameParameters"
             xreflabel="Annex A.22">
      <title>Name and Token Parameters</title>
      <para>
        There are the following limitations on maximum length of the Name and Token parameters that shall be used during tests by ONVIF Device Test Tool to prevent faults from DUT:
        <itemizedlist>
          <listitem>
            <para>
              Name shall be less than or equal to 64 characters (only readable characters accepted).
            </para>
          </listitem>
          <listitem>
            <para>
              Token shall be less than or equal to 64 characters (only readable characters accepted).
            </para>
          </listitem>
          <listitem>
            <para>
              UTF-8 character set shall be used for Name and Token.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> these limitations will not be used, if ONVIF Device Test Tool reuses values that were received from the DUT.
      </para>
    </section>
    <!--A.23 Annex_HelperTurnOnIPv6-->
    <section xml:id="Annex_HelperTurnOnIPv6"
             xreflabel="Annex A.23">
      <title>Turn on IPv6 network interface</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperTurnOnIPv6
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to turn on IPv6 network interface.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> IPv6 is supported by DUT.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> None
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> Initial Network settings (<emphasis role="italic">initialNetworkSettings</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">GetNetworkInterfacesRequest</emphasis> message to retrieve the original settings of the DUT.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client verifies <emphasis role="bold">GetNetworkInterfacesResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              Set <emphasis role="italic">initialNetworkSettings</emphasis> := available network interface.
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="bold">GetNetworkInterfacesResponse</emphasis> message contains NetworkInterfaces.IPv6 and NetworkInterfaces.IPv6.Enabled=true, then ONVIF Client checks NetworkInterfaces.IPv6.Config.DHCP. Otherwise, go to step 11.
            </para>
          </listitem>
          <listitem>
            <para>
              If NetworkInterfaces.IPv6.Config.DHCP=Off, then ONVIF Client checks NetworkInterfaces.IPv6.Config.Manual element. Otherwise, go to step 8.
            </para>
          </listitem>
          <listitem>
            <para>
              If NetworkInterfaces.IPv6.Config.Manual element is present and not empty, then ONVIF Client skips other steps and run test using NetworkInterfaces.IPv6.Config.Manual value as device IP. Otherwise, ONVIF Client checks NetworkInterfaces.IPv6.Config.LinkLocal element.
            </para>
          </listitem>
          <listitem>
            <para>
              If NetworkInterfaces.IPv6.Config.LinkLocal element is present and not empty, then ONVIF Client skips other steps and runs test using NetworkInterfaces.IPv6.Config.LinkLocal value as device IP. Otherwise, ONVIF Client skip other steps and failed test.
            </para>
          </listitem>

          <listitem>
            <para>
              ONVIF Client will invoke <emphasis role="bold">SetNetworkInterfacesRequest</emphasis> message to turn off DHCP IPv6 (InterfaceToken = available network interface, NetworkInterfaces.IPv6.Config.DHCP=Off).
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client gets current network interfaces via <emphasis role="bold">GetNetworkInterfacesRequest</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client verifies <emphasis role="bold">GetNetworkInterfacesResponse</emphasis> message and checks that set settings were applied. Repeat steps 6-7.
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="bold">GetNetworkInterfacesResponse</emphasis> message does not contain NetworkInterfaces.IPv6 or NetworkInterfaces.IPv6.Enabled=false, then ONVIF Client will invoke SetNetworkInterfacesRequest message (InterfaceToken = available network interface,  NetworkInterfaces.IPv6. Enabled=true) to turn on IPv6 configuration.
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT will return <emphasis role="bold">SetNetworkInterfacesResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              If Reboot is required by DUT, invoke <emphasis role="bold">SystemReboot</emphasis> command.
            </para>
          </listitem>
          <listitem>
            <para>
              If DUT supports Discovery:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    ONVIF Client waits for HELLO message from the default network interface.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If DUT does not support Discovery:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    ONVIF Client waits during <emphasis role="italic">rebootTimeout</emphasis>.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client gets current network interfaces via <emphasis role="bold">GetNetworkInterfacesRequest</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client verifies <emphasis role="bold">GetNetworkInterfacesResponse</emphasis> message and checks that set settings were applaied. Execute steps 5-7.
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetNetworkInterfacesResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">SetNetworkInterfacesResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">SystemReboot</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
    </section>
    <!--A.24 Annex_HelperRestoreNetworkSettings-->
    <section xml:id="Annex_HelperRestoreNetworkSettings"
             xreflabel="Annex A.24">
      <title>Restore Network Settings</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperRestoreNetworkSettings
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to restore the original default settings.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> None
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> Initial Network settings to restore (<emphasis role="italic">initialNetworkSettings</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> None
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              Restore the initial network settings by invoking <emphasis role="bold">SetNetworkInterfaces</emphasis> (Default settings) command.
            </para>
          </listitem>
          <listitem>
            <para>
              If Reboot is required by DUT, invoke <emphasis role="bold">SystemReboot</emphasis> command.
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="bold" service="skip">SystemReboot</emphasis> is invoked and DUT supports Discovery, wait for HELLO message from the default network interface.
            </para>
          </listitem>
          <listitem>
            <para>
              If DUT does not support Discovery:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    ONVIF Client waits during <emphasis role="italic">rebootTimeout</emphasis>.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetNetworkInterfacesResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">SetNetworkInterfacesResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">SystemReboot</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
    </section>
    <!--A.25 Annex_HelperProfileConfigurationForBackchannelAudioStreaming-->
    <section xml:id="Annex_HelperProfileConfigurationForBackchannelAudioStreaming"
             xreflabel="Annex A.25">
      <title>Media Profile Configuration for Backchannel Audio Streaming</title>
      <para>
        For the execution of real time streaming – Audio Backchannel test cases, ONVIF Client has to select and configure the media profile based on the required audio decoder.
      </para>
      <para>
        ONVIF Client follows the procedure to configure the media profile:
        <orderedlist>
          <?dbfo label-width="2.5em"?>
          <listitem>
            <para>
              Retrieve media profiles by invoking <emphasis role="bold">GetProfiles</emphasis> command.
            </para>
          </listitem>
          <listitem>
            <para>
              If media profile includes audio output and audio decoder configurations:
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Retrieve the supported audio decoder configuration options for the media profile by invoking <emphasis role="bold">GetAudioDecoderConfigurationOptions</emphasis> (media profile token) command. Check whether the selected media profile supports the required audio decoder.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Retrieve the supported audio output configuration options for the media profile by invoking <emphasis role="bold">GetAudioOutputConfigurationOptions</emphasis> (media profile token) command. Check whether the selected media profile supports the required send primacy.

                  </para>
                </listitem>

              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If the media profile does not have audio source and audio encoder configuration:
              <orderedlist>
                <?dbfo label-width="1.5em"?>
                <listitem>
                  <para>
                    Retrieve audio output configurations of the DUT by invoking <emphasis role="bold">GetAudioOutputConfigurations</emphasis> command.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Retrieve audio output configuration options supported for an audio output configuration by invoking <emphasis role="bold">GetAudioOutputConfigurationOptions</emphasis> (audio output configuration token) command. Check whether the selected audio output configuration supports the required send primacy.

                  </para>
                </listitem>
                <listitem>
                  <para>
                    Add audio output configuration to the profile by invoking <emphasis role="bold">AddAudioOutputConfigurations</emphasis> command.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Repeat test procedure – 3.b for all audio output configurations till an audio output configuration with the required send primacy is found.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Retrieve audio decoder configurations of the DUT by invoking <emphasis role="bold">GetAudioDecoderConfigurations</emphasis> command.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Retrieve audio decoder configuration options supported for an audio decoder configuration by invoking <emphasis role="bold">GetAudioDecoderConfigurationOptions</emphasis> (audio decoder configuration token) command. Check whether the selected audio decoder configuration supports the required audio decoder.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Repeat test procedure – 3.f for all audio decoder configurations till an audio decoder configuration with the required audio decoder is found.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Add the corresponding audio decoder configuration to the media profile by invoking <emphasis role="bold">AddAudioDecoderConfiguration</emphasis> command.
                  </para>
                </listitem>


              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              Repeat test procedure – 2 and 3 for all media profiles till a media profile with the required audio output and audio decoder support is found.
            </para>
          </listitem>

        </orderedlist>

      </para>




    </section>
    <!--A.26 Annex_HelperRTSPAuthentication-->
    <section xml:id="Annex_HelperRTSPAuthentication"
             xreflabel="Annex A.26">
      <title>RTSP Authentication Check</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperRTSPAuthenticationCheck
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to check that DUT uses Digest authentication type for RTSP.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> Real-time Streaming is supported by DUT.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> None.
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> None.
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              If Device supports Profile T according to feature definition results:
              <orderedlist numeration="arabic"
                           inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    If DUT does not send <emphasis role="bold">RTSP 401 Unauthorized</emphasis> message to any RTSP anonymous request, FAIL the test and skip other steps.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="bold">RTSP 401 Unauthorized</emphasis> message does not have <emphasis role="bold">WWW-Authenticate: Digest</emphasis> header, FAIL the test and skip other steps.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>

          <listitem>
            <para>
              DUT did not send response message to RTSP request.
            </para>
          </listitem>
        </itemizedlist>
      </para>
    </section>
    <!--A.27 Annex_HelperResolutionSelection-->
    <section xml:id="Annex_HelperResolutionSelection"
             xreflabel="Annex A.27">
      <title>Video Encoder Configuration – Resolution Selection</title>
      <para>
        For all video test cases, ONVIF Client selects resolution nearest to 640x480 from video encoder configuration options and set it during configuration procedure, with the following exceptions:
        <itemizedlist>
          <listitem>
            <para>
              RTSS-1-1-24 VIDEO ENCODER CONFIGURATION – JPEG RESOLUTION (ALL RESOLUTIONS)
            </para>
          </listitem>
          <listitem>
            <para>
              RTSS-1-1-25 VIDEO ENCODER CONFIGURATION – MPEG4 RESOLUTION (ALL RESOLUTIONS)
            </para>
          </listitem>
          <listitem>
            <para>
              RTSS-1-1-26 VIDEO ENCODER CONFIGURATION – H.264 RESOLUTION (ALL RESOLUTIONS)
            </para>
          </listitem>
          <listitem>
            <para>
              RTSS-1-1-46 VIDEO ENCODER CONFIGURATION – JPEG RESOLUTION
            </para>
          </listitem>
          <listitem>
            <para>
              RTSS-1-1-47 VIDEO ENCODER CONFIGURATION – MPEG4 RESOLUTION
            </para>
          </listitem>
          <listitem>
            <para>
              RTSS-1-1-48 VIDEO ENCODER CONFIGURATION – H.264 RESOLUTION
            </para>
          </listitem>
          <listitem>
            <para>
              RTSS-1-1-53 MEDIA STREAMING – JPEG (VALIDATING RTP HEADER EXTENSION)
            </para>
          </listitem>
        </itemizedlist>

      </para>




    </section>
    <!--A.28 Annex_HelperFrameRateSelection-->
    <section xml:id="Annex_HelperFrameRateSelection"
             xreflabel="Annex A.28">
      <title>Video Encoder Configuration – Frame Rate Selection</title>
      <para>
        For all video test cases, ONVIF Client selects framerate nearest to 25 from video encoder configuration options and set it during configuration procedure, with the following exceptions:
        <itemizedlist>
          <listitem>
            <para>
              RTSS-1-1-24 VIDEO ENCODER CONFIGURATION – JPEG RESOLUTION (ALL RESOLUTIONS)
            </para>
          </listitem>
          <listitem>
            <para>
              RTSS-1-1-46 VIDEO ENCODER CONFIGURATION – JPEG RESOLUTION
            </para>
          </listitem>
          <listitem>
            <para>
              RTSS-1-1-53 MEDIA STREAMING – JPEG (VALIDATING RTP HEADER EXTENSION)
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        For listed test cases, ONVIF Client selects framerate nearest to 5 from video encoder configuration options and set it during configuration procedure for highest JPEG resolution.
      </para>
    </section>
    <!--A.29 Annex_HelperRemoveConfigurationsFromMediaProfile-->
    <section xml:id="Annex_HelperRemoveConfigurationsFromMediaProfile"
             xreflabel="Annex A.29">
      <title>Removing Configurations from Media Profile</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperRemoveConfigurationsFromMediaProfile
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper Procedure to remove configuartions from Media Profile.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> Media Service is received from the DUT.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> Media Profile (<emphasis role="italic">profile</emphasis>). List of configuration type to remove from profile (<emphasis role="italic">confTypeList</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> None.
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>

          <listitem>
            <para>
              If <emphasis role="italic">confTypeList</emphasis> contains VideoEncoderConfiguration and <emphasis role="italic">profile</emphasis> contains VideoEncoderConfiguration:
              <orderedlist numeration="arabic"
                           inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">RemoveVideoEncoderConfiguration</emphasis> request with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                        </para>
                      </listitem>

                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The DUT responds with <emphasis role="bold">RemoveVideoEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>

              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">confTypeList</emphasis> contains AudioEncoderConfiguration and <emphasis role="italic">profile</emphasis> contains AudioEncoderConfiguration:
              <orderedlist numeration="arabic"
                           inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">RemoveAudioEncoderConfiguration</emphasis> request with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                        </para>
                      </listitem>

                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The DUT responds with <emphasis role="bold">RemoveAudioEncoderConfigurationResponse</emphasis> message.
                  </para>
                </listitem>

              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">confTypeList</emphasis> contains MetadataConfiguration and <emphasis role="italic">profile</emphasis> contains MetadataConfiguration:
              <orderedlist numeration="arabic"
                           inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">RemoveMetadataConfiguration</emphasis> request with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                        </para>
                      </listitem>

                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The DUT responds with <emphasis role="bold">RemoveMetadataConfigurationResponse</emphasis> message.
                  </para>
                </listitem>

              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">confTypeList</emphasis> contains VideoSourceConfiguration and <emphasis role="italic">profile</emphasis> contains VideoSourceConfiguration:
              <orderedlist numeration="arabic"
                           inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">RemoveVideoSourceConfiguration</emphasis> request with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                        </para>
                      </listitem>

                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The DUT responds with <emphasis role="bold">RemoveVideoSourceConfigurationResponse</emphasis> message.
                  </para>
                </listitem>

              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">confTypeList</emphasis> contains AudioSourceConfiguration and <emphasis role="italic">profile</emphasis> contains AudioSourceConfiguration:
              <orderedlist numeration="arabic"
                           inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">RemoveAudioSourceConfiguration</emphasis> request with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                        </para>
                      </listitem>

                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The DUT responds with <emphasis role="bold">RemoveAudioSourceConfigurationResponse</emphasis> message.
                  </para>
                </listitem>

              </orderedlist>
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">RemoveVideoEncoderConfigurationResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">RemoveAudioEncoderConfigurationResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">RemoveMetadataConfigurationResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">RemoveAudioSourceConfigurationResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">RemoveVideoSourceConfigurationResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
    </section>
    <!--A.30 Annex_HelperCheckIPTypeOfURI-->
    <section xml:id="Annex_HelperCheckIPTypeOfURI"
             xreflabel="Annex A.30">
      <title>Check IP Type of URI</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperCheckIPTypeOfURI
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to check type of URI.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> None.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> URI (<emphasis role="italic">uri</emphasis>), IP type <emphasis role="italic">ipType</emphasis>.
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> None.
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              If type of host part of <emphasis role="italic">uri</emphasis> is not equal to <emphasis role="italic">ipType</emphasis>, FAIL the test and skip other steps.
            </para>
          </listitem>


        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>


          <listitem>
            <para>
              None.
            </para>
          </listitem>
        </itemizedlist>
      </para>

    </section>
    <!--A.31 Annex_HelperIPAddressTypeInRTSP-->
    <section xml:id="Annex_HelperIPAddressTypeInRTSP"
             xreflabel="Annex A.31">
      <title>Check of IP address type in response to RTSP DESCRIBE</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperIPAddressTypeInRTSP
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to check IP addresses types returned by DUT in response to RTSP DESCRIBE.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> None.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> Header of response to DESCRIBE (<emphasis role="italic">responseHeader</emphasis>). SDP (<emphasis role="italic">sdp</emphasis>). Stream Uri (<emphasis role="italic">streamUri</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> None.
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>

          <listitem>
            <para>
              Set <emphasis role="italic">ipType</emphasis> := <emphasis role="italic">streamUri</emphasis> IP type.
            </para>
          </listitem>
          <listitem>
            <para>
              For each <emphasis role="bold">Content-Base</emphasis> field in <emphasis role="italic">responseHeader</emphasis> (<emphasis role="italic">contentBase</emphasis>) that has absolute IP value:
              <orderedlist numeration="arabic"
                           inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    If <emphasis role="italic">contentBase</emphasis> IP value does not correspond to <emphasis role="italic">ipType</emphasis>, FAIL the test and skip other steps (see [RFC2326] for details).
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              For each <emphasis role="bold">Content-Location</emphasis> field in <emphasis role="italic">responseHeader</emphasis> (<emphasis role="italic">contentLocation</emphasis>) that has absolute IP value:
              <orderedlist numeration="arabic"
                           inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    If <emphasis role="italic">contentLocation</emphasis> IP value does not correspond to <emphasis role="italic">ipType</emphasis>, FAIL the test and skip other steps (see [RFC2326] for details).
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              For each <emphasis role="bold">"a=control"</emphasis> attribute in <emphasis role="italic">sdp</emphasis> (<emphasis role="italic">aControl</emphasis>) that has absolute IP value:
              <orderedlist numeration="arabic"
                           inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    If <emphasis role="italic">aControl</emphasis> IP value does not correspond to <emphasis role="italic">ipType</emphasis>, FAIL the test and skip other steps (see [RFC2326] for details).
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">ipType</emphasis> = IPv4:
              <orderedlist numeration="arabic"
                           inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    If <emphasis role="italic">sdp</emphasis> contains at least one origin field ("o=") with <emphasis role="bold">addrtype</emphasis> != "IP4", FAIL the test and skip other steps (see [RFC4566] for details).
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">sdp</emphasis> contains at least one origin field ("o=") with IP type of <emphasis role="bold">unicast-address</emphasis> sub-field != IPv4 type, FAIL the test and skip other steps (see [RFC4566] for details).
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">sdp</emphasis> contains at least one connection data field ("c=") with <emphasis role="bold">addrtype</emphasis> != "IP4", FAIL the test and skip other steps (see [RFC4566] for details).
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">sdp</emphasis> contains at least one connection data field ("c=")  with IP type of <emphasis role="bold">connection address</emphasis> sub-field != IPv4 type, FAIL the test and skip other steps (see [RFC4566] for details).
                  </para>
                </listitem>


              </orderedlist>
            </para>

          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">ipType</emphasis> = IPv6:
              <orderedlist numeration="arabic"
                           inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    If <emphasis role="italic">sdp</emphasis> contains at least one origin field ("o=") with <emphasis role="bold">addrtype</emphasis> != "IP6", FAIL the test and skip other steps (see [RFC4566] for details).
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">sdp</emphasis> contains at least one origin field ("o=") with IP type of <emphasis role="bold">unicast-address</emphasis> sub-field != IPv6 type, FAIL the test and skip other steps (see [RFC4566] for details).
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">sdp</emphasis> contains at least one connection data field ("c=") with <emphasis role="bold">addrtype</emphasis> != "IP6", FAIL the test and skip other steps (see [RFC4566] for details).
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">sdp</emphasis> contains at least one connection data field ("c=")  with IP type of <emphasis role="bold">connection address</emphasis> sub-field != IPv6 type, FAIL the test and skip other steps (see [RFC4566] for details).
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>

        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              None.
            </para>
          </listitem>
        </itemizedlist>
      </para>
    </section>




  </appendix>
</book>